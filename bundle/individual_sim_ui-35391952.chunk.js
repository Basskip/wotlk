import{M as e,a as t,b as o,T as s,c as i,d as a,E as l,I as n,s as r,C as d,i as c,A as m,D as p,e as h,H as g,f as u,g as f,h as I,P as w,j as x,k as y,l as b,R as S,m as P,n as v,o as E,W as C,p as k,q as N,r as G,t as T,u as O,v as _,w as L,x as R,y as D,z as U,B as M,F as j,G as F,J as W,K as B,L as A,N as H,O as z,Q as V,U as q,V as Y,X as J,Y as K,Z as Q,_ as X,$ as Z,a0 as ee,a1 as te,a2 as oe,a3 as se,a4 as ie,a5 as ae,a6 as le,a7 as ne,a8 as re,a9 as de,aa as ce,ab as me,ac as pe,ad as he,ae as ge,af as ue,ag as fe,ah as Ie,ai as we,aj as xe,ak as ye,al as be,am as Se,an as Pe,ao as ve,ap as Ee,aq as Ce,ar as ke,as as Ne,at as Ge,au as Te,av as Oe,aw as _e,ax as Le,ay as Re,az as De,aA as Ue,aB as Me,aC as je,aD as Fe,aE as We,aF as Be,aG as Ae,aH as He,aI as ze,aJ as Ve,aK as qe,aL as $e,aM as Ye,aN as Je,aO as Ke,aP as Qe,aQ as Xe,aR as Ze,aS as et,aT as tt,aU as ot,aV as st,aW as it,aX as at,aY as lt,aZ as nt,a_ as rt,a$ as dt,S as ct,b0 as mt,b1 as pt,b2 as ht,b3 as gt,b4 as ut,b5 as ft,b6 as It,b7 as wt,b8 as xt,b9 as yt,ba as bt,bb as St,bc as Pt,bd as vt,be as Et,bf as Ct,bg as kt,bh as Nt,bi as Gt,bj as Tt,bk as Ot,bl as _t,bm as Lt,bn as Rt,bo as Dt,bp as Ut,bq as Mt,br as jt,bs as Ft,bt as Wt,bu as Bt,bv as At,bw as Ht,bx as zt,by as Vt,bz as qt,bA as $t,bB as Yt,bC as Jt,bD as Kt,bE as Qt,bF as Xt,bG as Zt,bH as eo,bI as to,bJ as oo,bK as so,bL as io,bM as ao,bN as lo,bO as no,bP as ro}from"./raid_sim_action-2e58abdd.chunk.js";import{T as co,P as mo,M as po}from"./index-b0900d92.chunk.js";const ho=8.1975,go=45.91,uo=45.91,fo=26.23;class Io{constructor(i){this.id=0,this.name="",this.level=83,this.mobType=e.MobTypeDemon,this.tankIndex=0,this.stats=new t,this.swingSpeed=0,this.minBaseDamage=0,this.dualWield=!1,this.dualWieldPenalty=!1,this.suppressDodge=!1,this.parryHaste=!0,this.tightEnemyDamage=!1,this.spellSchool=o.SpellSchoolPhysical,this.idChangeEmitter=new s,this.nameChangeEmitter=new s,this.levelChangeEmitter=new s,this.mobTypeChangeEmitter=new s,this.propChangeEmitter=new s,this.statsChangeEmitter=new s,this.changeEmitter=new s,this.sim=i,[this.idChangeEmitter,this.nameChangeEmitter,this.levelChangeEmitter,this.mobTypeChangeEmitter,this.propChangeEmitter,this.statsChangeEmitter].forEach((e=>e.on((e=>this.changeEmitter.emit(e))))),this.changeEmitter.on((e=>this.sim.encounter?.changeEmitter.emit(e)))}getId(){return this.id}setId(e,t){t!=this.id&&(this.id=t,this.idChangeEmitter.emit(e))}getName(){return this.name}setName(e,t){t!=this.name&&(this.name=t,this.nameChangeEmitter.emit(e))}getLevel(){return this.level}setLevel(e,t){t!=this.level&&(this.level=t,this.levelChangeEmitter.emit(e))}getMobType(){return this.mobType}setMobType(e,t){t!=this.mobType&&(this.mobType=t,this.mobTypeChangeEmitter.emit(e))}getTankIndex(){return this.tankIndex}setTankIndex(e,t){t!=this.tankIndex&&(this.tankIndex=t,this.propChangeEmitter.emit(e))}getSwingSpeed(){return this.swingSpeed}setSwingSpeed(e,t){t!=this.swingSpeed&&(this.swingSpeed=t,this.propChangeEmitter.emit(e))}getMinBaseDamage(){return this.minBaseDamage}setMinBaseDamage(e,t){t!=this.minBaseDamage&&(this.minBaseDamage=t,this.propChangeEmitter.emit(e))}getDualWield(){return this.dualWield}setDualWield(e,t){t!=this.dualWield&&(this.dualWield=t,this.propChangeEmitter.emit(e))}getDualWieldPenalty(){return this.dualWieldPenalty}setDualWieldPenalty(e,t){t!=this.dualWieldPenalty&&(this.dualWieldPenalty=t,this.propChangeEmitter.emit(e))}getSuppressDodge(){return this.suppressDodge}setSuppressDodge(e,t){t!=this.suppressDodge&&(this.suppressDodge=t,this.propChangeEmitter.emit(e))}getParryHaste(){return this.parryHaste}setParryHaste(e,t){t!=this.parryHaste&&(this.parryHaste=t,this.propChangeEmitter.emit(e))}getTightEnemyDamage(){return this.tightEnemyDamage}setTightEnemyDamage(e,t){t!=this.tightEnemyDamage&&(this.tightEnemyDamage=t,this.propChangeEmitter.emit(e))}getSpellSchool(){return this.spellSchool}setSpellSchool(e,t){t!=this.spellSchool&&(this.spellSchool=t,this.propChangeEmitter.emit(e))}getStats(){return this.stats}setStats(e,t){t.equals(this.stats)||(this.stats=t,this.statsChangeEmitter.emit(e))}matchesPreset(e){return i.equals(this.toProto(),e.target)}applyPreset(e,t){this.fromProto(e,t.target||i.create())}toProto(){return i.create({id:this.getId(),name:this.getName(),level:this.getLevel(),mobType:this.getMobType(),tankIndex:this.getTankIndex(),swingSpeed:this.getSwingSpeed(),minBaseDamage:this.getMinBaseDamage(),dualWield:this.getDualWield(),dualWieldPenalty:this.getDualWieldPenalty(),suppressDodge:this.getSuppressDodge(),parryHaste:this.getParryHaste(),tightEnemyDamage:this.getTightEnemyDamage(),spellSchool:this.getSpellSchool(),stats:this.stats.asArray()})}fromProto(e,o){s.freezeAllAndDo((()=>{this.setId(e,o.id),this.setName(e,o.name),this.setLevel(e,o.level),this.setMobType(e,o.mobType),this.setTankIndex(e,o.tankIndex),this.setSwingSpeed(e,o.swingSpeed),this.setMinBaseDamage(e,o.minBaseDamage),this.setDualWield(e,o.dualWield),this.setDualWieldPenalty(e,o.dualWieldPenalty),this.setSuppressDodge(e,o.suppressDodge),this.setParryHaste(e,o.parryHaste),this.setTightEnemyDamage(e,o.tightEnemyDamage),this.setSpellSchool(e,o.spellSchool),this.setStats(e,new t(o.stats))}))}clone(e){const t=new Io(this.sim);return t.fromProto(e,this.toProto()),t}static defaultProto(){return i.create({level:83,mobType:e.MobTypeUndead,tankIndex:0,swingSpeed:1.5,minBaseDamage:3e4,dualWield:!0,dualWieldPenalty:!1,suppressDodge:!1,parryHaste:!0,spellSchool:o.SpellSchoolPhysical,stats:t.fromMap({[a.StatArmor]:10643,[a.StatAttackPower]:574}).asArray()})}static fromDefaults(e,t){const o=new Io(t);return o.fromProto(e,Io.defaultProto()),o}}class wo{constructor(e){this.duration=180,this.durationVariation=5,this.executeProportion20=.2,this.executeProportion25=.25,this.executeProportion35=.35,this.useHealth=!1,this.targetsChangeEmitter=new s,this.durationChangeEmitter=new s,this.executeProportionChangeEmitter=new s,this.changeEmitter=new s,this.sim=e,this.targets=[Io.fromDefaults(s.nextEventID(),e)],[this.targetsChangeEmitter,this.durationChangeEmitter,this.executeProportionChangeEmitter].forEach((e=>e.on((e=>this.changeEmitter.emit(e)))))}get primaryTarget(){return this.targets[0]}getDurationVariation(){return this.durationVariation}setDurationVariation(e,t){t!=this.durationVariation&&(this.durationVariation=t,this.durationChangeEmitter.emit(e))}getDuration(){return this.duration}setDuration(e,t){t!=this.duration&&(this.duration=t,this.durationChangeEmitter.emit(e))}getExecuteProportion20(){return this.executeProportion20}setExecuteProportion20(e,t){t!=this.executeProportion20&&(this.executeProportion20=t,this.executeProportionChangeEmitter.emit(e))}getExecuteProportion25(){return this.executeProportion25}setExecuteProportion25(e,t){t!=this.executeProportion25&&(this.executeProportion25=t,this.executeProportionChangeEmitter.emit(e))}getExecuteProportion35(){return this.executeProportion35}setExecuteProportion35(e,t){t!=this.executeProportion35&&(this.executeProportion35=t,this.executeProportionChangeEmitter.emit(e))}getUseHealth(){return this.useHealth}setUseHealth(e,t){t!=this.useHealth&&(this.useHealth=t,this.durationChangeEmitter.emit(e),this.executeProportionChangeEmitter.emit(e))}getNumTargets(){return this.targets.length}getTargets(){return this.targets.slice()}setTargets(e,t){s.freezeAllAndDo((()=>{0==t.length&&(t=[Io.fromDefaults(e,this.sim)]),t.length==this.targets.length&&t.every(((e,t)=>i.equals(e.toProto(),this.targets[t].toProto())))||(this.targets=t,this.targetsChangeEmitter.emit(e))}))}matchesPreset(e){return e.targets.length==this.targets.length&&this.targets.every(((t,o)=>t.matchesPreset(e.targets[o])))}applyPreset(e,t){s.freezeAllAndDo((()=>{let o=this.targets.slice(0,t.targets.length);for(;o.length<t.targets.length;)o.push(new Io(this.sim));o.forEach(((o,s)=>o.applyPreset(e,t.targets[s]))),this.setTargets(e,o)}))}toProto(){return l.create({duration:this.duration,durationVariation:this.durationVariation,executeProportion20:this.executeProportion20,executeProportion25:this.executeProportion25,executeProportion35:this.executeProportion35,useHealth:this.useHealth,targets:this.targets.map((e=>e.toProto()))})}fromProto(e,t){s.freezeAllAndDo((()=>{this.setDuration(e,t.duration),this.setDurationVariation(e,t.durationVariation),this.setExecuteProportion20(e,t.executeProportion20),this.setExecuteProportion25(e,t.executeProportion25),this.setExecuteProportion35(e,t.executeProportion35),this.setUseHealth(e,t.useHealth),t.targets.length>0?this.setTargets(e,t.targets.map((t=>{const o=new Io(this.sim);return o.fromProto(e,t),o}))):this.setTargets(e,[Io.fromDefaults(e,this.sim)])}))}applyDefaults(e){this.fromProto(e,l.create({duration:180,durationVariation:5,executeProportion20:.2,executeProportion25:.25,executeProportion35:.35,targets:[Io.defaultProto()]}))}}class xo extends n{constructor(e,t,o){super(e,"talents-picker-root",t,{...o,inline:!0}),this.pointsPerRow=o.pointsPerRow,this.maxPoints=o.maxPoints,this.numRows=Math.max(...o.trees.map((e=>e.talents.map((e=>e.location.rowIdx)).flat())).flat())+1,this.trees=o.trees.map((e=>new yo(this.rootElem,e,this))),this.trees.forEach((e=>e.talents.forEach((e=>e.setPoints(0,!1))))),this.init()}getInputElem(){return this.rootElem}getInputValue(){return this.trees.map((e=>e.getTalentsString())).join("-").replace(/-+$/g,"")}setInputValue(e){const t=e.split("-");this.trees.forEach(((e,o)=>e.setTalentsString(t[o]||""))),this.updateTrees()}updateTrees(){this.isFull()?this.rootElem.classList.add("talents-full"):this.rootElem.classList.remove("talents-full"),this.trees.forEach((e=>e.update()))}get numPoints(){return r(this.trees.map((e=>e.numPoints)))}isFull(){return this.numPoints>=this.maxPoints}setMaxPoints(e){e!=this.maxPoints&&(this.maxPoints=e,this.updateTrees())}}class yo extends d{constructor(e,t,o){super(e,"talent-tree-picker-root"),this.config=t,this.numPoints=0,this.picker=o,this.rootElem.innerHTML='\n    <div class="talent-tree-header">\n      <span class="talent-tree-title"></span>\n      <span class="talent-tree-reset fa fa-times"></span>\n    </div>\n    <div class="talent-tree-main">\n    </div>\n    ',this.title=this.rootElem.getElementsByClassName("talent-tree-title")[0];const i=this.rootElem.getElementsByClassName("talent-tree-main")[0];i.style.backgroundImage=`url('${t.backgroundUrl}')`,i.style.gridTemplateRows=`repeat(${this.picker.numRows}, 1fr)`;const a=Math.min(70/this.picker.numRows,10);i.style.height=a*this.picker.numRows+"vh",i.style.width=4*a+"vh",this.talents=t.talents.map((e=>new bo(i,e,this))),this.talents.forEach((e=>{e.config.prereqLocation&&(this.getTalent(e.config.prereqLocation).config.prereqOfLocation=e.config.location)}));this.rootElem.getElementsByClassName("talent-tree-reset")[0].addEventListener("click",(e=>{this.talents.forEach((e=>e.setPoints(0,!1))),this.picker.inputChanged(s.nextEventID())}))}update(){this.title.textContent=this.config.name+" ("+this.numPoints+")",this.talents.forEach((e=>e.update()))}getTalent(e){const t=this.talents.find((t=>t.getRow()==e.rowIdx&&t.getCol()==e.colIdx));if(!t)throw new Error("No talent found with location: "+e);return t}getTalentsString(){return this.talents.map((e=>String(e.getPoints()))).join("").replace(/0+$/g,"")}setTalentsString(e){this.talents.forEach(((t,o)=>t.setPoints(Number(e.charAt(o)),!1)))}}class bo extends d{constructor(e,t,o){super(e,"talent-picker-root",document.createElement("a")),this.config=t,this.tree=o,this.rootElem.style.gridRow=String(this.config.location.rowIdx+1),this.rootElem.style.gridColumn=String(this.config.location.colIdx+1),this.rootElem.dataset.maxPoints=String(this.config.maxPoints),this.rootElem.dataset.wowhead="noimage",this.pointsDisplay=document.createElement("span"),this.pointsDisplay.classList.add("talent-picker-points"),this.rootElem.appendChild(this.pointsDisplay),this.rootElem.addEventListener("click",(e=>{e.preventDefault()})),this.rootElem.addEventListener("contextmenu",(e=>{e.preventDefault()})),this.rootElem.addEventListener("touchstart",(e=>{e.preventDefault(),this.longTouchTimer=window.setTimeout((()=>{this.setPoints(0,!0),this.tree.picker.inputChanged(s.nextEventID()),this.longTouchTimer=void 0}),750)})),this.rootElem.addEventListener("touchend",(e=>{if(e.preventDefault(),null!=this.longTouchTimer){clearTimeout(this.longTouchTimer),this.longTouchTimer=void 0;var t=this.getPoints()+1;this.config.maxPoints<t&&(t=0),this.setPoints(t,!0),this.tree.picker.inputChanged(s.nextEventID())}})),this.rootElem.addEventListener("mousedown",(e=>{c(e)?this.setPoints(this.getPoints()-1,!0):this.setPoints(this.getPoints()+1,!0),this.tree.picker.inputChanged(s.nextEventID())}))}getRow(){return this.config.location.rowIdx}getCol(){return this.config.location.colIdx}getPoints(){const e=Number(this.rootElem.dataset.points);return isNaN(e)?0:e}isFull(){return this.getPoints()>=this.config.maxPoints}canSetPoints(e){const t=this.getPoints();if(e>t){const o=e-t;if(this.tree.picker.numPoints+o>this.tree.picker.maxPoints)return!1;if(this.tree.numPoints<this.getRow()*this.tree.picker.pointsPerRow)return!1;if(this.config.prereqLocation&&!this.tree.getTalent(this.config.prereqLocation).isFull())return!1}else{const o=t-e,s=[...Array(this.tree.picker.numRows).keys()].map((e=>this.tree.talents.filter((t=>t.getRow()==e)))).map((e=>r(e.map((e=>e.getPoints())))));s[this.getRow()]-=o;const i=s.map(((e,t)=>r(s.slice(0,t+1))));if(!this.tree.talents.every((e=>0==e.getPoints()||0==e.getRow()||i[e.getRow()-1]>=e.getRow()*this.tree.picker.pointsPerRow)))return!1;if(this.config.prereqOfLocation&&this.tree.getTalent(this.config.prereqOfLocation).getPoints()>0)return!1}return!0}setPoints(e,t){const o=this.getPoints();if(e=Math.max(0,e),e=Math.min(this.config.maxPoints,e),t&&!this.canSetPoints(e))return;this.tree.numPoints+=e-o,this.rootElem.dataset.points=String(e),this.pointsDisplay.textContent=e+"/"+this.config.maxPoints,this.isFull()?this.rootElem.classList.add("talent-full"):this.rootElem.classList.remove("talent-full");const s=this.getSpellIdForPoints(e);m.fromSpellId(s).fill().then((e=>{e.setWowheadHref(this.rootElem),this.rootElem.style.backgroundImage=`url('${e.iconUrl}')`}))}getSpellIdForPoints(e){const t=Math.max(0,e-1);if(this.config.spellIds[t])return this.config.spellIds[t];throw new Error("No rank "+e+" for talent "+this.config.fieldName)}update(){this.canSetPoints(this.getPoints()+1)?this.rootElem.classList.add("talent-picker-can-add"):this.rootElem.classList.remove("talent-picker-can-add")}}function So(e){return e.forEach((e=>{e.talents.forEach(((t,o)=>{if(0!=o){const s=e.talents[o-1];if(t.location.rowIdx<s.location.rowIdx||t.location.rowIdx==s.location.rowIdx&&t.location.colIdx<=s.location.colIdx)throw new Error("Out-of-order talent: "+t.fieldName)}if(t.spellIds.length<t.maxPoints){let e=t.spellIds[t.spellIds.length-1];for(let o=t.spellIds.length;o<t.maxPoints;o++)e++,t.spellIds.push(e)}}))})),e}const Po=So([{name:"Balance",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/283.jpg",talents:[{fieldName:"starlightWrath",location:{rowIdx:0,colIdx:1},spellIds:[16814,16815,16816,16817,16818],maxPoints:5},{fieldName:"genesis",location:{rowIdx:0,colIdx:2},spellIds:[57810,57811,57812,57813,57814],maxPoints:5},{fieldName:"moonglow",location:{rowIdx:1,colIdx:0},spellIds:[16845,16846,16847],maxPoints:3},{fieldName:"naturesMajesty",location:{rowIdx:1,colIdx:1},spellIds:[35363,35364],maxPoints:2},{fieldName:"improvedMoonfire",location:{rowIdx:1,colIdx:3},spellIds:[16821,16822],maxPoints:2},{fieldName:"brambles",location:{rowIdx:2,colIdx:0},spellIds:[16836,16839,16840],maxPoints:3},{fieldName:"naturesGrace",location:{rowIdx:2,colIdx:1},spellIds:[16880,61345,61346],maxPoints:3,prereqLocation:{rowIdx:1,colIdx:1}},{fieldName:"naturesSplendor",location:{rowIdx:2,colIdx:2},spellIds:[57865],maxPoints:1},{fieldName:"naturesReach",location:{rowIdx:2,colIdx:3},spellIds:[16819,16820],maxPoints:2},{fieldName:"vengeance",location:{rowIdx:3,colIdx:1},spellIds:[16909,16910,16911,16912,16913],maxPoints:5},{fieldName:"celestialFocus",location:{rowIdx:3,colIdx:2},spellIds:[16850,16923,16924],maxPoints:3},{fieldName:"lunarGuidance",location:{rowIdx:4,colIdx:0},spellIds:[33589,33590,33591],maxPoints:3},{fieldName:"insectSwarm",location:{rowIdx:4,colIdx:1},spellIds:[5570],maxPoints:1},{fieldName:"improvedInsectSwarm",location:{rowIdx:4,colIdx:2},spellIds:[57849,57850,57851],maxPoints:3,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"dreamstate",location:{rowIdx:5,colIdx:0},spellIds:[33597,33599,33956],maxPoints:3},{fieldName:"moonfury",location:{rowIdx:5,colIdx:1},spellIds:[16896,16897,16899],maxPoints:3},{fieldName:"balanceOfPower",location:{rowIdx:5,colIdx:2},spellIds:[33592,33596],maxPoints:2},{fieldName:"moonkinForm",location:{rowIdx:6,colIdx:1},spellIds:[24858],maxPoints:1},{fieldName:"improvedMoonkinForm",location:{rowIdx:6,colIdx:2},spellIds:[48384,48395,48396],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"improvedFaerieFire",location:{rowIdx:6,colIdx:3},spellIds:[33600,33601,33602],maxPoints:3},{fieldName:"owlkinFrenzy",location:{rowIdx:7,colIdx:0},spellIds:[48389,48392,48393],maxPoints:3},{fieldName:"wrathOfCenarius",location:{rowIdx:7,colIdx:2},spellIds:[33603,33604,33605,33606,33607],maxPoints:5},{fieldName:"eclipse",location:{rowIdx:8,colIdx:0},spellIds:[48516,48521,48525],maxPoints:3},{fieldName:"typhoon",location:{rowIdx:8,colIdx:1},spellIds:[50516],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"forceOfNature",location:{rowIdx:8,colIdx:2},spellIds:[33831],maxPoints:1},{fieldName:"galeWinds",location:{rowIdx:8,colIdx:3},spellIds:[48488,48514],maxPoints:2},{fieldName:"earthAndMoon",location:{rowIdx:9,colIdx:1},spellIds:[48506,48510,48511],maxPoints:3},{fieldName:"starfall",location:{rowIdx:10,colIdx:1},spellIds:[48505],maxPoints:1}]},{name:"Feral Combat",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/281.jpg",talents:[{fieldName:"ferocity",location:{rowIdx:0,colIdx:1},spellIds:[16934,16935,16936,16937,16938],maxPoints:5},{fieldName:"feralAggression",location:{rowIdx:0,colIdx:2},spellIds:[16858,16859,16860,16861,16862],maxPoints:5},{fieldName:"feralInstinct",location:{rowIdx:1,colIdx:0},spellIds:[16947,16948,16949],maxPoints:3},{fieldName:"savageFury",location:{rowIdx:1,colIdx:1},spellIds:[16998,16999],maxPoints:2},{fieldName:"thickHide",location:{rowIdx:1,colIdx:2},spellIds:[16929,16930,16931],maxPoints:3},{fieldName:"feralSwiftness",location:{rowIdx:2,colIdx:0},spellIds:[17002,24866],maxPoints:2},{fieldName:"survivalInstincts",location:{rowIdx:2,colIdx:1},spellIds:[61336],maxPoints:1},{fieldName:"sharpenedClaws",location:{rowIdx:2,colIdx:2},spellIds:[16942,16943,16944],maxPoints:3},{fieldName:"shreddingAttacks",location:{rowIdx:3,colIdx:0},spellIds:[16966,16968],maxPoints:2},{fieldName:"predatoryStrikes",location:{rowIdx:3,colIdx:1},spellIds:[16972,16974,16975],maxPoints:3},{fieldName:"primalFury",location:{rowIdx:3,colIdx:2},spellIds:[37116,37117],maxPoints:2,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"primalPrecision",location:{rowIdx:3,colIdx:3},spellIds:[48409,48410],maxPoints:2},{fieldName:"brutalImpact",location:{rowIdx:4,colIdx:0},spellIds:[16940,16941],maxPoints:2},{fieldName:"feralCharge",location:{rowIdx:4,colIdx:2},spellIds:[49377],maxPoints:1},{fieldName:"nurturingInstinct",location:{rowIdx:4,colIdx:3},spellIds:[33872,33873],maxPoints:2},{fieldName:"naturalReaction",location:{rowIdx:5,colIdx:0},spellIds:[57878,57880,57881],maxPoints:3},{fieldName:"heartOfTheWild",location:{rowIdx:5,colIdx:1},spellIds:[17003,17004,17005,17006,24894],maxPoints:5,prereqLocation:{rowIdx:3,colIdx:1}},{fieldName:"survivalOfTheFittest",location:{rowIdx:5,colIdx:2},spellIds:[33853,33855,33856],maxPoints:3},{fieldName:"leaderOfThePack",location:{rowIdx:6,colIdx:1},spellIds:[17007],maxPoints:1},{fieldName:"improvedLeaderOfThePack",location:{rowIdx:6,colIdx:2},spellIds:[34297,34300],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"primalTenacity",location:{rowIdx:6,colIdx:3},spellIds:[33851,33852,33957],maxPoints:3},{fieldName:"protectorOfThePack",location:{rowIdx:7,colIdx:0},spellIds:[57873,57876,57877],maxPoints:3},{fieldName:"predatoryInstincts",location:{rowIdx:7,colIdx:2},spellIds:[33859,33866,33867],maxPoints:3},{fieldName:"infectedWounds",location:{rowIdx:7,colIdx:3},spellIds:[48483,48484,48485],maxPoints:3},{fieldName:"kingOfTheJungle",location:{rowIdx:8,colIdx:0},spellIds:[48492,48494,48495],maxPoints:3},{fieldName:"mangle",location:{rowIdx:8,colIdx:1},spellIds:[33917],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"improvedMangle",location:{rowIdx:8,colIdx:2},spellIds:[48532,48489,48491],maxPoints:3,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"rendAndTear",location:{rowIdx:9,colIdx:1},spellIds:[48432,48433,48434,51268,51269],maxPoints:5},{fieldName:"primalGore",location:{rowIdx:9,colIdx:2},spellIds:[63503],maxPoints:1,prereqLocation:{rowIdx:9,colIdx:1}},{fieldName:"berserk",location:{rowIdx:10,colIdx:1},spellIds:[50334],maxPoints:1}]},{name:"Restoration",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/282.jpg",talents:[{fieldName:"improvedMarkOfTheWild",location:{rowIdx:0,colIdx:0},spellIds:[17050,17051],maxPoints:2},{fieldName:"naturesFocus",location:{rowIdx:0,colIdx:1},spellIds:[17063,17065,17066],maxPoints:3},{fieldName:"furor",location:{rowIdx:0,colIdx:2},spellIds:[17056,17058,17059,17060,17061],maxPoints:5},{fieldName:"naturalist",location:{rowIdx:1,colIdx:0},spellIds:[17069,17070,17071,17072,17073],maxPoints:5},{fieldName:"subtlety",location:{rowIdx:1,colIdx:1},spellIds:[17118,17119,17120],maxPoints:3},{fieldName:"naturalShapeshifter",location:{rowIdx:1,colIdx:2},spellIds:[16833,16834,16835],maxPoints:3},{fieldName:"intensity",location:{rowIdx:2,colIdx:0},spellIds:[17106,17107,17108],maxPoints:3},{fieldName:"omenOfClarity",location:{rowIdx:2,colIdx:1},spellIds:[16864],maxPoints:1},{fieldName:"masterShapeshifter",location:{rowIdx:2,colIdx:2},spellIds:[48411,48412],maxPoints:2,prereqLocation:{rowIdx:1,colIdx:2}},{fieldName:"tranquilSpirit",location:{rowIdx:3,colIdx:1},spellIds:[24968,24969,24970,24971,24972],maxPoints:5},{fieldName:"improvedRejuvenation",location:{rowIdx:3,colIdx:2},spellIds:[17111,17112,17113],maxPoints:3},{fieldName:"naturesSwiftness",location:{rowIdx:4,colIdx:0},spellIds:[17116],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:0}},{fieldName:"giftOfNature",location:{rowIdx:4,colIdx:1},spellIds:[17104,24943,24944,24945,24946],maxPoints:5},{fieldName:"improvedTranquility",location:{rowIdx:4,colIdx:3},spellIds:[17123,17124],maxPoints:2},{fieldName:"empoweredTouch",location:{rowIdx:5,colIdx:0},spellIds:[33879,33880],maxPoints:2},{fieldName:"naturesBounty",location:{rowIdx:5,colIdx:2},spellIds:[17074,17075,17076,17077,17078],maxPoints:5,prereqLocation:{rowIdx:3,colIdx:2}},{fieldName:"livingSpirit",location:{rowIdx:6,colIdx:0},spellIds:[34151,34152,34153],maxPoints:3},{fieldName:"swiftmend",location:{rowIdx:6,colIdx:1},spellIds:[18562],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"naturalPerfection",location:{rowIdx:6,colIdx:2},spellIds:[33881,33882,33883],maxPoints:3},{fieldName:"empoweredRejuvenation",location:{rowIdx:7,colIdx:1},spellIds:[33886,33887,33888,33889,33890],maxPoints:5},{fieldName:"livingSeed",location:{rowIdx:7,colIdx:2},spellIds:[48496,48499,48500],maxPoints:3},{fieldName:"revitalize",location:{rowIdx:8,colIdx:0},spellIds:[48539,48544,48545],maxPoints:3},{fieldName:"treeOfLife",location:{rowIdx:8,colIdx:1},spellIds:[65139],maxPoints:1,prereqLocation:{rowIdx:7,colIdx:1}},{fieldName:"improvedTreeOfLife",location:{rowIdx:8,colIdx:2},spellIds:[48535,48536,48537],maxPoints:3,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"improvedBarkskin",location:{rowIdx:9,colIdx:0},spellIds:[63410,63411],maxPoints:2},{fieldName:"giftOfTheEarthmother",location:{rowIdx:9,colIdx:2},spellIds:[51179,51180,51181,51182,51183],maxPoints:5},{fieldName:"wildGrowth",location:{rowIdx:10,colIdx:1},spellIds:[48438],maxPoints:1,prereqLocation:{rowIdx:8,colIdx:1}}]}]),vo={majorGlyphs:{[p.GlyphOfBarkskin]:{name:"Glyph of Barkskin",description:"Reduces the chance you'll be critically hit by 25% while Barkskin is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_stoneclawtotem.jpg"},[p.GlyphOfBerserk]:{name:"Glyph of Berserk",description:"Increases the duration of Berserk by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_berserk.jpg"},[p.GlyphOfClaw]:{name:"Glyph of Claw",description:"Reduces the energy cost of your Claw ability by 5.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_rake.jpg"},[p.GlyphOfEntanglingRoots]:{name:"Glyph of Entangling Roots",description:"Increases the damage your Entangling Roots victims can take before the Entangling Roots automatically breaks by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_stranglevines.jpg"},[p.GlyphOfFocus]:{name:"Glyph of Focus",description:"Increases the damage done by Starfall by 10%, but decreases its radius by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_starfall.jpg"},[p.GlyphOfFrenziedRegeneration]:{name:"Glyph of Frenzied Regeneration",description:"While Frenzied Regeneration is active, healing effects on you are 20% more powerful.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_bullrush.jpg"},[p.GlyphOfGrowling]:{name:"Glyph of Growling",description:"Increases the chance for your Growl ability to work successfully by 8%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_physical_taunt.jpg"},[p.GlyphOfHealingTouch]:{name:"Glyph of Healing Touch",description:"Decreases the cast time of Healing Touch by 1.5 sec, the mana cost by 25%, and the amount healed by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingtouch.jpg"},[p.GlyphOfHurricane]:{name:"Glyph of Hurricane",description:"Your Hurricane ability now also slows the movement speed of its victims by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_cyclone.jpg"},[p.GlyphOfInnervate]:{name:"Glyph of Innervate",description:'Innervate now grants the caster 45% of <dfn title="her">his</dfn> base mana pool over 10 sec in addition to the normal effects of Innervate.',iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg"},[p.GlyphOfInsectSwarm]:{name:"Glyph of Insect Swarm",description:"Increases the damage of your Insect Swarm ability by 30%, but it no longer affects your victim's chance to hit.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_insectswarm.jpg"},[p.GlyphOfLifebloom]:{name:"Glyph of Lifebloom",description:"Increases the duration of Lifebloom by 1 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_misc_herb_felblossom.jpg"},[p.GlyphOfMangle]:{name:"Glyph of Mangle",description:"Increases the damage done by Mangle by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_mangle2.jpg"},[p.GlyphOfMaul]:{name:"Glyph of Maul",description:"Your Maul ability now hits 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_maul.jpg"},[p.GlyphOfMonsoon]:{name:"Glyph of Monsoon",description:"Reduces the cooldown of your Typhoon spell by 3 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_typhoon.jpg"},[p.GlyphOfMoonfire]:{name:"Glyph of Moonfire",description:"Increases the periodic damage of your Moonfire ability by 75%, but initial damage is decreased by 90%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_starfall.jpg"},[p.GlyphOfNourish]:{name:"Glyph of Nourish",description:"Your Nourish heals an additional 6% for each of your heal over time effects present on the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_nourish.jpg"},[p.GlyphOfRake]:{name:"Glyph of Rake",description:"Your Rake ability prevents targets from fleeing.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_disembowel.jpg"},[p.GlyphOfRapidRejuvenation]:{name:"Glyph of Rapid Rejuvenation",description:"Your haste now reduces the time between the periodic healing ticks of your Rejuvenation spell.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_rejuvenation.jpg"},[p.GlyphOfRebirth]:{name:"Glyph of Rebirth",description:"Players resurrected by Rebirth are returned to life with 100% health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg"},[p.GlyphOfRegrowth]:{name:"Glyph of Regrowth",description:"Increases the healing of your Regrowth spell by 20% if your Regrowth effect is still active on the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_resistnature.jpg"},[p.GlyphOfRejuvenation]:{name:"Glyph of Rejuvenation",description:"While your Rejuvenation targets are below 50% health, you will heal them for an additional 50% health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_rejuvenation.jpg"},[p.GlyphOfRip]:{name:"Glyph of Rip",description:"Increases the duration of your Rip ability by 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_ghoulfrenzy.jpg"},[p.GlyphOfSavageRoar]:{name:"Glyph of Savage Roar",description:"Your Savage Roar ability grants an additional 3% bonus damage done.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_skinteeth.jpg"},[p.GlyphOfShred]:{name:"Glyph of Shred",description:"Each time you Shred, the duration of your Rip on the target is extended 2 sec, up to a maximum of 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_vampiricaura.jpg"},[p.GlyphOfStarfall]:{name:"Glyph of Starfall",description:"Reduces the cooldown of Starfall by 30 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_starfall.jpg"},[p.GlyphOfStarfire]:{name:"Glyph of Starfire",description:"Your Starfire ability increases the duration of your Moonfire effect on the target by 3 sec, up to a maximum of 9 additional seconds.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_arcane_starfire.jpg"},[p.GlyphOfSurvivalInstincts]:{name:"Glyph of Survival Instincts",description:"Your Survival Instincts ability grants an additional 15% of your maximum health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_tigersroar.jpg"},[p.GlyphOfSwiftmend]:{name:"Glyph of Swiftmend",description:"Your Swiftmend ability no longer consumes a Rejuvenation or Regrowth effect from the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_relics_idolofrejuvenation.jpg"},[p.GlyphOfWildGrowth]:{name:"Glyph of Wild Growth",description:"Wild Growth can affect 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_flourish.jpg"},[p.GlyphOfWrath]:{name:"Glyph of Wrath",description:"Reduces the pushback suffered from damaging attacks while casting your Wrath spell by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_abolishmagic.jpg"}},minorGlyphs:{[h.GlyphOfAquaticForm]:{name:"Glyph of Aquatic Form",description:"Increases your swim speed by 50% while in Aquatic Form.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_aquaticform.jpg"},[h.GlyphOfChallengingRoar]:{name:"Glyph of Challenging Roar",description:"Reduces the cooldown of your Challenging Roar ability by 30 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_challangingroar.jpg"},[h.GlyphOfDash]:{name:"Glyph of Dash",description:"Reduces the cooldown of your Dash ability by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_dash.jpg"},[h.GlyphOfTheWild]:{name:"Glyph of the Wild",description:"Mana cost of your Mark of the Wild and Gift of the Wild spells reduced by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_regeneration.jpg"},[h.GlyphOfThorns]:{name:"Glyph of Thorns",description:"Increases the duration of your Thorns ability by 50 min when cast on yourself.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_thorns.jpg"},[h.GlyphOfTyphoon]:{name:"Glyph of Typhoon",description:"Reduces the cost of your Typhoon spell by 8% and increases its radius by 10 yards, but it no longer knocks enemies back.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_typhoon.jpg"},[h.GlyphOfUnburdenedRebirth]:{name:"Glyph of Unburdened Rebirth",description:"Your Rebirth spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg"}}},Eo=So([{name:"Beast Mastery",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/361.jpg",talents:[{fieldName:"improvedAspectOfTheHawk",location:{rowIdx:0,colIdx:1},spellIds:[19552,19553,19554,19555,19556],maxPoints:5},{fieldName:"enduranceTraining",location:{rowIdx:0,colIdx:2},spellIds:[19583,19584,19585,19586,19587],maxPoints:5},{fieldName:"focusedFire",location:{rowIdx:1,colIdx:0},spellIds:[35029,35030],maxPoints:2},{fieldName:"improvedAspectOfTheMonkey",location:{rowIdx:1,colIdx:1},spellIds:[19549,19550,19551],maxPoints:3},{fieldName:"thickHide",location:{rowIdx:1,colIdx:2},spellIds:[19609,19610,19612],maxPoints:3},{fieldName:"improvedRevivePet",location:{rowIdx:1,colIdx:3},spellIds:[24443,19575],maxPoints:2},{fieldName:"pathfinding",location:{rowIdx:2,colIdx:0},spellIds:[19559,19560],maxPoints:2},{fieldName:"aspectMastery",location:{rowIdx:2,colIdx:1},spellIds:[53265],maxPoints:1},{fieldName:"unleashedFury",location:{rowIdx:2,colIdx:2},spellIds:[19616,19617,19618,19619,19620],maxPoints:5},{fieldName:"improvedMendPet",location:{rowIdx:3,colIdx:1},spellIds:[19572,19573],maxPoints:2},{fieldName:"ferocity",location:{rowIdx:3,colIdx:2},spellIds:[19598,19599,19600,19601,19602],maxPoints:5},{fieldName:"spiritBond",location:{rowIdx:4,colIdx:0},spellIds:[19578,20895],maxPoints:2},{fieldName:"intimidation",location:{rowIdx:4,colIdx:1},spellIds:[19577],maxPoints:1},{fieldName:"bestialDiscipline",location:{rowIdx:4,colIdx:3},spellIds:[19590,19592],maxPoints:2},{fieldName:"animalHandler",location:{rowIdx:5,colIdx:0},spellIds:[34453,34454],maxPoints:2},{fieldName:"frenzy",location:{rowIdx:5,colIdx:2},spellIds:[19621,19622,19623,19624,19625],maxPoints:5,prereqLocation:{rowIdx:3,colIdx:2}},{fieldName:"ferociousInspiration",location:{rowIdx:6,colIdx:0},spellIds:[34455,34459,34460],maxPoints:3},{fieldName:"bestialWrath",location:{rowIdx:6,colIdx:1},spellIds:[19574],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"catlikeReflexes",location:{rowIdx:6,colIdx:2},spellIds:[34462,34464,34465],maxPoints:3},{fieldName:"invigoration",location:{rowIdx:7,colIdx:0},spellIds:[53252,53253],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:0}},{fieldName:"serpentsSwiftness",location:{rowIdx:7,colIdx:2},spellIds:[34466,34467,34468,34469,34470],maxPoints:5},{fieldName:"longevity",location:{rowIdx:8,colIdx:0},spellIds:[53262,53263,53264],maxPoints:3},{fieldName:"theBeastWithin",location:{rowIdx:8,colIdx:1},spellIds:[34692],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"cobraStrikes",location:{rowIdx:8,colIdx:2},spellIds:[53256,53259,53260],maxPoints:3,prereqLocation:{rowIdx:7,colIdx:2}},{fieldName:"kindredSpirits",location:{rowIdx:9,colIdx:1},spellIds:[56314,56315,56316,56317,56318],maxPoints:5},{fieldName:"beastMastery",location:{rowIdx:10,colIdx:1},spellIds:[53270],maxPoints:1}]},{name:"Marksmanship",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/363.jpg",talents:[{fieldName:"improvedConcussiveShot",location:{rowIdx:0,colIdx:0},spellIds:[19407,19412],maxPoints:2},{fieldName:"focusedAim",location:{rowIdx:0,colIdx:1},spellIds:[53620,53621,53622],maxPoints:3},{fieldName:"lethalShots",location:{rowIdx:0,colIdx:2},spellIds:[19426,19427,19429,19430,19431],maxPoints:5},{fieldName:"carefulAim",location:{rowIdx:1,colIdx:0},spellIds:[34482,34483,34484],maxPoints:3},{fieldName:"improvedHuntersMark",location:{rowIdx:1,colIdx:1},spellIds:[19421,19422,19423],maxPoints:3},{fieldName:"mortalShots",location:{rowIdx:1,colIdx:2},spellIds:[19485,19487,19488,19489,19490],maxPoints:5},{fieldName:"goForTheThroat",location:{rowIdx:2,colIdx:0},spellIds:[34950,34954],maxPoints:2},{fieldName:"improvedArcaneShot",location:{rowIdx:2,colIdx:1},spellIds:[19454,19455,19456],maxPoints:3},{fieldName:"aimedShot",location:{rowIdx:2,colIdx:2},spellIds:[19434],maxPoints:1,prereqLocation:{rowIdx:1,colIdx:2}},{fieldName:"rapidKilling",location:{rowIdx:2,colIdx:3},spellIds:[34948,34949],maxPoints:2},{fieldName:"improvedStings",location:{rowIdx:3,colIdx:1},spellIds:[19464,19465,19466],maxPoints:3},{fieldName:"efficiency",location:{rowIdx:3,colIdx:2},spellIds:[19416,19417,19418,19419,19420],maxPoints:5},{fieldName:"concussiveBarrage",location:{rowIdx:4,colIdx:0},spellIds:[35100,35102],maxPoints:2},{fieldName:"readiness",location:{rowIdx:4,colIdx:1},spellIds:[23989],maxPoints:1},{fieldName:"barrage",location:{rowIdx:4,colIdx:2},spellIds:[19461,19462,24691],maxPoints:3},{fieldName:"combatExperience",location:{rowIdx:5,colIdx:0},spellIds:[34475,34476],maxPoints:2},{fieldName:"rangedWeaponSpecialization",location:{rowIdx:5,colIdx:3},spellIds:[19507,19508,19509],maxPoints:3},{fieldName:"piercingShots",location:{rowIdx:6,colIdx:0},spellIds:[53234,53237,53238],maxPoints:3},{fieldName:"trueshotAura",location:{rowIdx:6,colIdx:1},spellIds:[19506],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"improvedBarrage",location:{rowIdx:6,colIdx:2},spellIds:[35104,35110,35111],maxPoints:3,prereqLocation:{rowIdx:4,colIdx:2}},{fieldName:"masterMarksman",location:{rowIdx:7,colIdx:1},spellIds:[34485,34486,34487,34488,34489],maxPoints:5},{fieldName:"rapidRecuperation",location:{rowIdx:7,colIdx:2},spellIds:[53228,53232],maxPoints:2},{fieldName:"wildQuiver",location:{rowIdx:8,colIdx:0},spellIds:[53215,53216,53217],maxPoints:3},{fieldName:"silencingShot",location:{rowIdx:8,colIdx:1},spellIds:[34490],maxPoints:1,prereqLocation:{rowIdx:7,colIdx:1}},{fieldName:"improvedSteadyShot",location:{rowIdx:8,colIdx:2},spellIds:[53221,53222,53224],maxPoints:3},{fieldName:"markedForDeath",location:{rowIdx:9,colIdx:1},spellIds:[53241,53243,53244,53245,53246],maxPoints:5},{fieldName:"chimeraShot",location:{rowIdx:10,colIdx:1},spellIds:[53209],maxPoints:1}]},{name:"Survival",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/362.jpg",talents:[{fieldName:"improvedTracking",location:{rowIdx:0,colIdx:0},spellIds:[52783,52785,52786,52787,52788],maxPoints:5},{fieldName:"hawkEye",location:{rowIdx:0,colIdx:1},spellIds:[19498,19499,19500],maxPoints:3},{fieldName:"savageStrikes",location:{rowIdx:0,colIdx:2},spellIds:[19159,19160],maxPoints:2},{fieldName:"surefooted",location:{rowIdx:1,colIdx:0},spellIds:[19290,19294,24283],maxPoints:3},{fieldName:"entrapment",location:{rowIdx:1,colIdx:1},spellIds:[19184,19387,19388],maxPoints:3},{fieldName:"trapMastery",location:{rowIdx:1,colIdx:2},spellIds:[19376,63457,63458],maxPoints:3},{fieldName:"survivalInstincts",location:{rowIdx:1,colIdx:3},spellIds:[34494,34496],maxPoints:2},{fieldName:"survivalist",location:{rowIdx:2,colIdx:0},spellIds:[19255,19256,19257,19258,19259],maxPoints:5},{fieldName:"scatterShot",location:{rowIdx:2,colIdx:1},spellIds:[19503],maxPoints:1},{fieldName:"deflection",location:{rowIdx:2,colIdx:2},spellIds:[19295,19297,19298],maxPoints:3},{fieldName:"survivalTactics",location:{rowIdx:2,colIdx:3},spellIds:[19286,19287],maxPoints:2},{fieldName:"tNT",location:{rowIdx:3,colIdx:1},spellIds:[56333,56336,56337],maxPoints:3},{fieldName:"lockAndLoad",location:{rowIdx:3,colIdx:3},spellIds:[56342,56343,56344],maxPoints:3},{fieldName:"hunterVsWild",location:{rowIdx:4,colIdx:0},spellIds:[56339,56340,56341],maxPoints:3,prereqLocation:{rowIdx:2,colIdx:0}},{fieldName:"killerInstinct",location:{rowIdx:4,colIdx:1},spellIds:[19370,19371,19373],maxPoints:3},{fieldName:"counterattack",location:{rowIdx:4,colIdx:2},spellIds:[19306],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"lightningReflexes",location:{rowIdx:5,colIdx:0},spellIds:[19168,19180,19181,24296,24297],maxPoints:5},{fieldName:"resourcefulness",location:{rowIdx:5,colIdx:2},spellIds:[34491,34492,34493],maxPoints:3},{fieldName:"exposeWeakness",location:{rowIdx:6,colIdx:0},spellIds:[34500,34502,34503],maxPoints:3,prereqLocation:{rowIdx:5,colIdx:0}},{fieldName:"wyvernSting",location:{rowIdx:6,colIdx:1},spellIds:[19386],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"thrillOfTheHunt",location:{rowIdx:6,colIdx:2},spellIds:[34497,34498,34499],maxPoints:3},{fieldName:"masterTactician",location:{rowIdx:7,colIdx:0},spellIds:[34506,34507,34508,34838,34839],maxPoints:5},{fieldName:"noxiousStings",location:{rowIdx:7,colIdx:1},spellIds:[53295,53296,53297],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"pointOfNoEscape",location:{rowIdx:8,colIdx:0},spellIds:[53298,53299],maxPoints:2},{fieldName:"blackArrow",location:{rowIdx:8,colIdx:1},spellIds:[3674],maxPoints:1},{fieldName:"sniperTraining",location:{rowIdx:8,colIdx:3},spellIds:[53302,53303,53304],maxPoints:3},{fieldName:"huntingParty",location:{rowIdx:9,colIdx:2},spellIds:[53290,53291,53292],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:2}},{fieldName:"explosiveShot",location:{rowIdx:10,colIdx:1},spellIds:[53301],maxPoints:1,prereqLocation:{rowIdx:8,colIdx:1}}]}]),Co={majorGlyphs:{[g.GlyphOfAimedShot]:{name:"Glyph of Aimed Shot",description:"Reduces the cooldown of your Aimed Shot ability by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_spear_07.jpg"},[g.GlyphOfArcaneShot]:{name:"Glyph of Arcane Shot",description:"Your Arcane Shot refunds 20% of its mana cost if the target has one of your Stings active on it.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_impalingbolt.jpg"},[g.GlyphOfAspectOfTheViper]:{name:"Glyph of Aspect of the Viper",description:"Increases the amount of mana gained from attacks while Aspect of the Viper is active by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_aspectoftheviper.jpg"},[g.GlyphOfBestialWrath]:{name:"Glyph of Bestial Wrath",description:"Decreases the cooldown of Bestial Wrath by 20 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_ferociousbite.jpg"},[g.GlyphOfChimeraShot]:{name:"Glyph of Chimera Shot",description:"Reduces the cooldown of Chimera Shot by 1 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_chimerashot2.jpg"},[g.GlyphOfDeterrence]:{name:"Glyph of Deterrence",description:"Decreases the cooldown of Deterrence by 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_whirlwind.jpg"},[g.GlyphOfDisengage]:{name:"Glyph of Disengage",description:"Decreases the cooldown of Disengage by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feint.jpg"},[g.GlyphOfExplosiveShot]:{name:"Glyph of Explosive Shot",description:"Increases the critical strike chance of Explosive Shot by 4%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_explosiveshot.jpg"},[g.GlyphOfExplosiveTrap]:{name:"Glyph of Explosive Trap",description:"The periodic damage from your Explosive Trap can now be critical strikes.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_selfdestruct.jpg"},[g.GlyphOfFreezingTrap]:{name:"Glyph of Freezing Trap",description:"When your Freezing Trap breaks, the victim's movement speed is reduced by 30% for 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_chainsofice.jpg"},[g.GlyphOfFrostTrap]:{name:"Glyph of Frost Trap",description:"Increases the radius of the effect from your Frost Trap by 2 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_freezingbreath.jpg"},[g.GlyphOfHuntersMark]:{name:"Glyph of Hunter's Mark",description:"Increases the attack power bonus of your Hunter's Mark by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_snipershot.jpg"},[g.GlyphOfImmolationTrap]:{name:"Glyph of Immolation Trap",description:"Decreases the duration of the effect from your Immolation Trap by 6 sec., but damage while active is increased by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_flameshock.jpg"},[g.GlyphOfKillShot]:{name:"Glyph of Kill Shot",description:"Reduces the cooldown of Kill Shot by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_assassinate2.jpg"},[g.GlyphOfMending]:{name:"Glyph of Mending",description:"Increases the healing done by your Mend Pet ability by 40%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_mendpet.jpg"},[g.GlyphOfMultiShot]:{name:"Glyph of Multi-Shot",description:"Decreases the cooldown of Multi-Shot by 1 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_upgrademoonglaive.jpg"},[g.GlyphOfRapidFire]:{name:"Glyph of Rapid Fire",description:"Increases the haste from Rapid Fire by an additional 8%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_runningshot.jpg"},[g.GlyphOfRaptorStrike]:{name:"Glyph of Raptor Strike",description:"Reduces damage taken by 20% for 3 sec after using Raptor Strike.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_meleedamage.jpg"},[g.GlyphOfScatterShot]:{name:"Glyph of Scatter Shot",description:"Increases the range of Scatter Shot by 3 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_golemstormbolt.jpg"},[g.GlyphOfSerpentSting]:{name:"Glyph of Serpent Sting",description:"Increases the duration of your Serpent Sting by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_quickshot.jpg"},[g.GlyphOfSnakeTrap]:{name:"Glyph of Snake Trap",description:"Snakes from your Snake Trap take 90% reduced damage from area of effect spells.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_snaketrap.jpg"},[g.GlyphOfSteadyShot]:{name:"Glyph of Steady Shot",description:"Increases the damage dealt by Steady Shot by 10% when your target is afflicted with Serpent Sting.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_steadyshot.jpg"},[g.GlyphOfTheBeast]:{name:"Glyph of the Beast",description:"Increases the attack power bonus of Aspect of the Beast for you and your pet by an additional 2%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mount_pinktiger.jpg"},[g.GlyphOfTheHawk]:{name:"Glyph of the Hawk",description:"Increases the haste bonus of the Improved Aspect of the Hawk effect by an additional 6%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_ravenform.jpg"},[g.GlyphOfTrueshotAura]:{name:"Glyph of Trueshot Aura",description:"While your Trueshot Aura is active, you have 10% increased critical strike chance on your Aimed Shot.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_trueshot.jpg"},[g.GlyphOfVolley]:{name:"Glyph of Volley",description:"Decreases the mana cost of Volley by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_marksmanship.jpg"},[g.GlyphOfWyvernSting]:{name:"Glyph of Wyvern Sting",description:"Decreases the cooldown of your Wyvern Sting by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_spear_02.jpg"}},minorGlyphs:{[u.GlyphOfFeignDeath]:{name:"Glyph of Feign Death",description:"Reduces the cooldown of your Feign Death spell by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feigndeath.jpg"},[u.GlyphOfMendPet]:{name:"Glyph of Mend Pet",description:"Your Mend Pet spell increases your pet's happiness slightly.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_mendpet.jpg"},[u.GlyphOfPossessedStrength]:{name:"Glyph of Possessed Strength",description:"Increases the damage your pet inflicts while using Eyes of the Beast by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_eyeoftheowl.jpg"},[u.GlyphOfRevivePet]:{name:"Glyph of Revive Pet",description:"Reduces the pushback suffered from damaging attacks while casting Revive Pet by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_hunter_beastsoothe.jpg"},[u.GlyphOfScareBeast]:{name:"Glyph of Scare Beast",description:"Reduces the pushback suffered from damaging attacks while casting Scare Beast by 75%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_druid_cower.jpg"},[u.GlyphOfThePack]:{name:"Glyph of the Pack",description:"Increases the range of your Aspect of the Pack ability by 15 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mount_jungletiger.jpg"}}},ko=So([{name:"Arcane",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/81.jpg",talents:[{fieldName:"arcaneSubtlety",location:{rowIdx:0,colIdx:0},spellIds:[11210,12592],maxPoints:2},{fieldName:"arcaneFocus",location:{rowIdx:0,colIdx:1},spellIds:[11222,12839,12840],maxPoints:3},{fieldName:"arcaneStability",location:{rowIdx:0,colIdx:2},spellIds:[11237,12463,12464,16769,16770],maxPoints:5},{fieldName:"arcaneFortitude",location:{rowIdx:1,colIdx:0},spellIds:[28574,54658,54659],maxPoints:3},{fieldName:"magicAbsorption",location:{rowIdx:1,colIdx:1},spellIds:[29441,29444],maxPoints:2},{fieldName:"arcaneConcentration",location:{rowIdx:1,colIdx:2},spellIds:[11213,12574,12575,12576,12577],maxPoints:5},{fieldName:"magicAttunement",location:{rowIdx:2,colIdx:0},spellIds:[11247,12606],maxPoints:2},{fieldName:"spellImpact",location:{rowIdx:2,colIdx:1},spellIds:[11242,12467,12469],maxPoints:3},{fieldName:"studentOfTheMind",location:{rowIdx:2,colIdx:2},spellIds:[44397,44398,44399],maxPoints:3},{fieldName:"focusMagic",location:{rowIdx:2,colIdx:3},spellIds:[54646],maxPoints:1},{fieldName:"arcaneShielding",location:{rowIdx:3,colIdx:0},spellIds:[11252,12605],maxPoints:2},{fieldName:"improvedCounterspell",location:{rowIdx:3,colIdx:1},spellIds:[11255,12598],maxPoints:2},{fieldName:"arcaneMeditation",location:{rowIdx:3,colIdx:2},spellIds:[18462,18463,18464],maxPoints:3},{fieldName:"tormentTheWeak",location:{rowIdx:3,colIdx:3},spellIds:[29447,55339,55340],maxPoints:3},{fieldName:"improvedBlink",location:{rowIdx:4,colIdx:0},spellIds:[31569,31570],maxPoints:2},{fieldName:"presenceOfMind",location:{rowIdx:4,colIdx:1},spellIds:[12043],maxPoints:1},{fieldName:"arcaneMind",location:{rowIdx:4,colIdx:3},spellIds:[11232,12500,12501,12502,12503],maxPoints:5},{fieldName:"prismaticCloak",location:{rowIdx:5,colIdx:0},spellIds:[31574,31575,54354],maxPoints:3},{fieldName:"arcaneInstability",location:{rowIdx:5,colIdx:1},spellIds:[15058,15059,15060],maxPoints:3,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"arcanePotency",location:{rowIdx:5,colIdx:2},spellIds:[31571,31572],maxPoints:2},{fieldName:"arcaneEmpowerment",location:{rowIdx:6,colIdx:0},spellIds:[31579,31582,31583],maxPoints:3},{fieldName:"arcanePower",location:{rowIdx:6,colIdx:1},spellIds:[12042],maxPoints:1,prereqLocation:{rowIdx:5,colIdx:1}},{fieldName:"incantersAbsorption",location:{rowIdx:6,colIdx:2},spellIds:[44394,44395,44396],maxPoints:3},{fieldName:"arcaneFlows",location:{rowIdx:7,colIdx:1},spellIds:[44378,44379],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"mindMastery",location:{rowIdx:7,colIdx:2},spellIds:[31584,31585,31586,31587,31588],maxPoints:5},{fieldName:"slow",location:{rowIdx:8,colIdx:1},spellIds:[31589],maxPoints:1},{fieldName:"missileBarrage",location:{rowIdx:8,colIdx:2},spellIds:[44404,54486,54488,54489,54490],maxPoints:5},{fieldName:"netherwindPresence",location:{rowIdx:9,colIdx:1},spellIds:[44400,44402,44403],maxPoints:3},{fieldName:"spellPower",location:{rowIdx:9,colIdx:2},spellIds:[35578,35581],maxPoints:2},{fieldName:"arcaneBarrage",location:{rowIdx:10,colIdx:1},spellIds:[44425],maxPoints:1}]},{name:"Fire",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/41.jpg",talents:[{fieldName:"improvedFireBlast",location:{rowIdx:0,colIdx:0},spellIds:[11078,11080],maxPoints:2},{fieldName:"incineration",location:{rowIdx:0,colIdx:1},spellIds:[18459,18460,54734],maxPoints:3},{fieldName:"improvedFireball",location:{rowIdx:0,colIdx:2},spellIds:[11069,12338,12339,12340,12341],maxPoints:5},{fieldName:"ignite",location:{rowIdx:1,colIdx:0},spellIds:[11119,11120,12846,12847,12848],maxPoints:5},{fieldName:"burningDetermination",location:{rowIdx:1,colIdx:1},spellIds:[54747,54749],maxPoints:2},{fieldName:"worldInFlames",location:{rowIdx:1,colIdx:2},spellIds:[11108,12349,12350],maxPoints:3},{fieldName:"flameThrowing",location:{rowIdx:2,colIdx:0},spellIds:[11100,12353],maxPoints:2},{fieldName:"impact",location:{rowIdx:2,colIdx:1},spellIds:[11103,12357,12358],maxPoints:3},{fieldName:"pyroblast",location:{rowIdx:2,colIdx:2},spellIds:[11366],maxPoints:1},{fieldName:"burningSoul",location:{rowIdx:2,colIdx:3},spellIds:[11083,12351],maxPoints:2},{fieldName:"improvedScorch",location:{rowIdx:3,colIdx:0},spellIds:[11095,12872,12873],maxPoints:3},{fieldName:"moltenShields",location:{rowIdx:3,colIdx:1},spellIds:[11094,13043],maxPoints:2},{fieldName:"masterOfElements",location:{rowIdx:3,colIdx:3},spellIds:[29074,29075,29076],maxPoints:3},{fieldName:"playingWithFire",location:{rowIdx:4,colIdx:0},spellIds:[31638,31639,31640],maxPoints:3},{fieldName:"criticalMass",location:{rowIdx:4,colIdx:1},spellIds:[11115,11367,11368],maxPoints:3},{fieldName:"blastWave",location:{rowIdx:4,colIdx:2},spellIds:[11113],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"blazingSpeed",location:{rowIdx:5,colIdx:0},spellIds:[31641,31642],maxPoints:2},{fieldName:"firePower",location:{rowIdx:5,colIdx:2},spellIds:[11124,12378,12398,12399,12400],maxPoints:5},{fieldName:"pyromaniac",location:{rowIdx:6,colIdx:0},spellIds:[34293,34295,34296],maxPoints:3},{fieldName:"combustion",location:{rowIdx:6,colIdx:1},spellIds:[11129],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"moltenFury",location:{rowIdx:6,colIdx:2},spellIds:[31679,31680],maxPoints:2},{fieldName:"fieryPayback",location:{rowIdx:7,colIdx:0},spellIds:[64353,64357],maxPoints:2},{fieldName:"empoweredFire",location:{rowIdx:7,colIdx:2},spellIds:[31656,31657,31658],maxPoints:3},{fieldName:"firestarter",location:{rowIdx:8,colIdx:0},spellIds:[44442,44443],maxPoints:2,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"dragonsBreath",location:{rowIdx:8,colIdx:1},spellIds:[31661],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"hotStreak",location:{rowIdx:8,colIdx:2},spellIds:[44445,44446,44448],maxPoints:3},{fieldName:"burnout",location:{rowIdx:9,colIdx:1},spellIds:[44449,44469,44470,44471,44472],maxPoints:5},{fieldName:"livingBomb",location:{rowIdx:10,colIdx:1},spellIds:[44457],maxPoints:1}]},{name:"Frost",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/61.jpg",talents:[{fieldName:"frostbite",location:{rowIdx:0,colIdx:0},spellIds:[11071,12496,12497],maxPoints:3},{fieldName:"improvedFrostbolt",location:{rowIdx:0,colIdx:1},spellIds:[11070,12473,16763,16765,16766],maxPoints:5},{fieldName:"iceFloes",location:{rowIdx:0,colIdx:2},spellIds:[31670,31672,55094],maxPoints:3},{fieldName:"iceShards",location:{rowIdx:1,colIdx:0},spellIds:[11207,12672,15047],maxPoints:3},{fieldName:"frostWarding",location:{rowIdx:1,colIdx:1},spellIds:[11189,28332],maxPoints:2},{fieldName:"precision",location:{rowIdx:1,colIdx:2},spellIds:[29438,29439,29440],maxPoints:3},{fieldName:"permafrost",location:{rowIdx:1,colIdx:3},spellIds:[11175,12569,12571],maxPoints:3},{fieldName:"piercingIce",location:{rowIdx:2,colIdx:0},spellIds:[11151,12952,12953],maxPoints:3},{fieldName:"icyVeins",location:{rowIdx:2,colIdx:1},spellIds:[12472],maxPoints:1},{fieldName:"improvedBlizzard",location:{rowIdx:2,colIdx:2},spellIds:[11185,12487,12488],maxPoints:3},{fieldName:"arcticReach",location:{rowIdx:3,colIdx:0},spellIds:[16757,16758],maxPoints:2},{fieldName:"frostChanneling",location:{rowIdx:3,colIdx:1},spellIds:[11160,12518,12519],maxPoints:3},{fieldName:"shatter",location:{rowIdx:3,colIdx:2},spellIds:[11170,12982,12983],maxPoints:3},{fieldName:"coldSnap",location:{rowIdx:4,colIdx:1},spellIds:[11958],maxPoints:1},{fieldName:"improvedConeOfCold",location:{rowIdx:4,colIdx:2},spellIds:[11190,12489,12490],maxPoints:3},{fieldName:"frozenCore",location:{rowIdx:4,colIdx:3},spellIds:[31667,31668,31669],maxPoints:3},{fieldName:"coldAsIce",location:{rowIdx:5,colIdx:0},spellIds:[55091,55092],maxPoints:2},{fieldName:"wintersChill",location:{rowIdx:5,colIdx:2},spellIds:[11180,28592,28593],maxPoints:3},{fieldName:"shatteredBarrier",location:{rowIdx:6,colIdx:0},spellIds:[44745,54787],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"iceBarrier",location:{rowIdx:6,colIdx:1},spellIds:[11426],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"arcticWinds",location:{rowIdx:6,colIdx:2},spellIds:[31674,31675,31676,31677,31678],maxPoints:5},{fieldName:"empoweredFrostbolt",location:{rowIdx:7,colIdx:1},spellIds:[31682,31683],maxPoints:2},{fieldName:"fingersOfFrost",location:{rowIdx:7,colIdx:2},spellIds:[44543,44545],maxPoints:2},{fieldName:"brainFreeze",location:{rowIdx:8,colIdx:0},spellIds:[44546,44548,44549],maxPoints:3},{fieldName:"summonWaterElemental",location:{rowIdx:8,colIdx:1},spellIds:[31687],maxPoints:1},{fieldName:"enduringWinter",location:{rowIdx:8,colIdx:2},spellIds:[44557,44560,44561],maxPoints:3,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"chilledToTheBone",location:{rowIdx:9,colIdx:1},spellIds:[44566,44567,44568,44570,44571],maxPoints:5},{fieldName:"deepFreeze",location:{rowIdx:10,colIdx:1},spellIds:[44572],maxPoints:1}]}]),No={majorGlyphs:{[f.GlyphOfArcaneBarrage]:{name:"Glyph of Arcane Barrage",description:"Reduces the mana cost of Arcane Barrage by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_arcanebarrage.jpg"},[f.GlyphOfArcaneBlast]:{name:"Glyph of Arcane Blast",description:"Increases the damage from your Arcane Blast buff by 3%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_arcane_blast.jpg"},[f.GlyphOfArcaneExplosion]:{name:"Glyph of Arcane Explosion",description:"Reduces mana cost of Arcane Explosion by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_wispsplode.jpg"},[f.GlyphOfArcaneMissiles]:{name:"Glyph of Arcane Missiles",description:"Increases the critical strike damage bonus of Arcane Missiles by 25%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_starfall.jpg"},[f.GlyphOfArcanePower]:{name:"Glyph of Arcane Power",description:"Increases the duration of Arcane Power by 3 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg"},[f.GlyphOfBlink]:{name:"Glyph of Blink",description:"Increases the distance you travel with the Blink spell by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_arcane_blink.jpg"},[f.GlyphOfDeepFreeze]:{name:"Glyph of Deep Freeze",description:"Increases the range of Deep Freeze by 10 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_deepfreeze.jpg"},[f.GlyphOfEternalWater]:{name:"Glyph of Eternal Water",description:"Your Summon Water Elemental now lasts indefinitely, but your Water Elemental can no longer cast Freeze.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_summonwaterelemental_2.jpg"},[f.GlyphOfEvocation]:{name:"Glyph of Evocation",description:"Your Evocation ability also causes you to regain 60% of your health over its duration.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_purge.jpg"},[f.GlyphOfFireBlast]:{name:"Glyph of Fire Blast",description:"Increases the critical strike chance of Fire Blast by 50% when the target is stunned or incapacitated.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_fireball.jpg"},[f.GlyphOfFireball]:{name:"Glyph of Fireball",description:"Reduces the casting time of your Fireball spell by 0.15 sec, but removes the damage over time effect.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_flamebolt.jpg"},[f.GlyphOfFrostNova]:{name:"Glyph of Frost Nova",description:"Your Frost Nova targets can take an additional 20% damage before the Frost Nova effect automatically breaks.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostnova.jpg"},[f.GlyphOfFrostbolt]:{name:"Glyph of Frostbolt",description:"Increases the damage dealt by Frostbolt by 5%, but removes the slowing effect.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostbolt02.jpg"},[f.GlyphOfFrostfire]:{name:"Glyph of Frostfire",description:"Increases the initial damage dealt by Frostfire Bolt by 2% and its critical strike chance by 2%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_frostfirebolt.jpg"},[f.GlyphOfIceArmor]:{name:"Glyph of Ice Armor",description:"Your Ice Armor and Frost Armor spells grant an additional 50% armor and resistance.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostarmor02.jpg"},[f.GlyphOfIceBarrier]:{name:"Glyph of Ice Barrier",description:"Increases the amount of damage absorbed by your Ice Barrier by 30%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_ice_lament.jpg"},[f.GlyphOfIceBlock]:{name:"Glyph of Ice Block",description:"Your Frost Nova cooldown is now reset every time you use Ice Block.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frost.jpg"},[f.GlyphOfIceLance]:{name:"Glyph of Ice Lance",description:"Your Ice Lance now causes 4 times damage against frozen targets higher level than you instead of triple damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostblast.jpg"},[f.GlyphOfIcyVeins]:{name:"Glyph of Icy Veins",description:"Your Icy Veins ability also removes all movement slowing and cast time slowing effects.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_coldhearted.jpg"},[f.GlyphOfInvisibility]:{name:"Glyph of Invisibility",description:"Increases the duration of the Invisibility effect by 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_invisibility.jpg"},[f.GlyphOfLivingBomb]:{name:"Glyph of Living Bomb",description:"The periodic damage from your Living Bomb can now be critical strikes.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_livingbomb.jpg"},[f.GlyphOfMageArmor]:{name:"Glyph of Mage Armor",description:"Your Mage Armor spell grants an additional 20% mana regeneration while casting.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magearmor.jpg"},[f.GlyphOfManaGem]:{name:"Glyph of Mana Gem",description:"Increases the mana received from using a mana gem by 40%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_misc_gem_stone_01.jpg"},[f.GlyphOfMirrorImage]:{name:"Glyph of Mirror Image",description:"Your Mirror Image spell now creates a 4th copy.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg"},[f.GlyphOfMoltenArmor]:{name:"Glyph of Molten Armor",description:"Your Molten Armor grants an additional 20% of your spirit as critical strike rating.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_mage_moltenarmor.jpg"},[f.GlyphOfPolymorph]:{name:"Glyph of Polymorph",description:"Your Polymorph spell also removes all damage over time effects from the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_polymorph.jpg"},[f.GlyphOfRemoveCurse]:{name:"Glyph of Remove Curse",description:"Your Remove Curse spell also makes the target immune to all curses for 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_removecurse.jpg"},[f.GlyphOfScorch]:{name:"Glyph of Scorch",description:"Increases the damage of your Scorch spell by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_soulburn.jpg"},[f.GlyphOfWaterElemental]:{name:"Glyph of Water Elemental",description:"Reduces the cooldown of your Summon Water Elemental spell by 30 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_summonwaterelemental_2.jpg"}},minorGlyphs:{[I.GlyphOfArcaneIntellect]:{name:"Glyph of Arcane Intellect",description:"Reduces the mana cost of your Arcane Intellect and Arcane Brilliance spells by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_magicalsentry.jpg"},[I.GlyphOfBlastWave]:{name:"Glyph of Blast Wave",description:"The mana cost of your Blast Wave spell is reduced by 15%, but it no longer knocks enemies back.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism_02.jpg"},[I.GlyphOfFireWard]:{name:"Glyph of Fire Ward",description:"You have an additional 5% chance to reflect Fire spells while your Fire Ward is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_firearmor.jpg"},[I.GlyphOfFrostArmor]:{name:"Glyph of Frost Armor",description:"Increases the duration of your Frost Armor and Ice Armor spells by 30 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostarmor02.jpg"},[I.GlyphOfFrostWard]:{name:"Glyph of Frost Ward",description:"You have an additional 5% chance to reflect Frost spells while your Frost Ward is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostward.jpg"},[I.GlyphOfSlowFall]:{name:"Glyph of Slow Fall",description:"Your Slow Fall spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magic_featherfall.jpg"},[I.GlyphOfThePenguin]:{name:"Glyph of the Penguin",description:"Your Polymorph: Sheep spell polymorphs the target into a penguin instead.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_misc_penguinpet.jpg"}}},Go=So([{name:"Holy",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/382.jpg",talents:[{fieldName:"spiritualFocus",location:{rowIdx:0,colIdx:1},spellIds:[20205],maxPoints:5},{fieldName:"sealsOfThePure",location:{rowIdx:0,colIdx:2},spellIds:[20224,20225,20330],maxPoints:5},{fieldName:"healingLight",location:{rowIdx:1,colIdx:0},spellIds:[20237],maxPoints:3},{fieldName:"divineIntellect",location:{rowIdx:1,colIdx:1},spellIds:[20257],maxPoints:5},{fieldName:"unyieldingFaith",location:{rowIdx:1,colIdx:2},spellIds:[9453,25836],maxPoints:2},{fieldName:"auraMastery",location:{rowIdx:2,colIdx:0},spellIds:[31821],maxPoints:1},{fieldName:"illumination",location:{rowIdx:2,colIdx:1},spellIds:[20210,20212],maxPoints:5},{fieldName:"improvedLayOnHands",location:{rowIdx:2,colIdx:2},spellIds:[20234],maxPoints:2},{fieldName:"improvedConcentrationAura",location:{rowIdx:3,colIdx:0},spellIds:[20254],maxPoints:3},{fieldName:"improvedBlessingOfWisdom",location:{rowIdx:3,colIdx:2},spellIds:[20244],maxPoints:2},{fieldName:"blessedHands",location:{rowIdx:3,colIdx:3},spellIds:[53660],maxPoints:2},{fieldName:"pureOfHeart",location:{rowIdx:4,colIdx:0},spellIds:[31822],maxPoints:2},{fieldName:"divineFavor",location:{rowIdx:4,colIdx:1},prereqLocation:{rowIdx:2,colIdx:1},spellIds:[20216],maxPoints:1},{fieldName:"sanctifiedLight",location:{rowIdx:4,colIdx:2},spellIds:[20359],maxPoints:3},{fieldName:"purifyingPower",location:{rowIdx:5,colIdx:0},spellIds:[31825],maxPoints:2},{fieldName:"holyPower",location:{rowIdx:5,colIdx:2},spellIds:[5923,5924,5925,5926,25829],maxPoints:5},{fieldName:"lightsGrace",location:{rowIdx:6,colIdx:0},spellIds:[31833,31835],maxPoints:3},{fieldName:"holyShock",location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[20473],maxPoints:1},{fieldName:"blessedLife",location:{rowIdx:6,colIdx:2},spellIds:[31828],maxPoints:3},{fieldName:"sacredCleansing",location:{rowIdx:7,colIdx:0},spellIds:[53551],maxPoints:3},{fieldName:"holyGuidance",location:{rowIdx:7,colIdx:2},spellIds:[31837],maxPoints:5},{fieldName:"divineIllumination",location:{rowIdx:8,colIdx:0},spellIds:[31842],maxPoints:1},{fieldName:"judgementsOfThePure",location:{rowIdx:8,colIdx:2},spellIds:[53671,53673,54151,54154,54155],maxPoints:5},{fieldName:"infusionOfLight",location:{rowIdx:9,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[53569,53576],maxPoints:2},{fieldName:"enlightenedJudgements",location:{rowIdx:9,colIdx:2},spellIds:[53556],maxPoints:2},{fieldName:"beaconOfLight",location:{rowIdx:10,colIdx:1},spellIds:[53563],maxPoints:1}]},{name:"Protection",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/383.jpg",talents:[{fieldName:"divinity",location:{rowIdx:0,colIdx:1},spellIds:[63646],maxPoints:5},{fieldName:"divineStrength",location:{rowIdx:0,colIdx:2},spellIds:[20262],maxPoints:5},{fieldName:"stoicism",location:{rowIdx:1,colIdx:0},spellIds:[31844,31845,53519],maxPoints:3},{fieldName:"guardiansFavor",location:{rowIdx:1,colIdx:1},spellIds:[20174],maxPoints:2},{fieldName:"anticipation",location:{rowIdx:1,colIdx:2},spellIds:[20096],maxPoints:5},{fieldName:"divineSacrifice",location:{rowIdx:2,colIdx:0},spellIds:[64205],maxPoints:1},{fieldName:"improvedRighteousFury",location:{rowIdx:2,colIdx:1},spellIds:[20468],maxPoints:3},{fieldName:"toughness",location:{rowIdx:2,colIdx:2},spellIds:[20143],maxPoints:5},{fieldName:"divineGuardian",location:{rowIdx:3,colIdx:0},prereqLocation:{rowIdx:2,colIdx:0},spellIds:[53527,53530],maxPoints:2},{fieldName:"improvedHammerOfJustice",location:{rowIdx:3,colIdx:1},spellIds:[20487],maxPoints:2},{fieldName:"improvedDevotionAura",location:{rowIdx:3,colIdx:2},spellIds:[20138],maxPoints:3},{fieldName:"blessingOfSanctuary",location:{rowIdx:4,colIdx:1},spellIds:[20911],maxPoints:1},{fieldName:"reckoning",location:{rowIdx:4,colIdx:2},spellIds:[20177,20179,20181,20180,20182],maxPoints:5},{fieldName:"sacredDuty",location:{rowIdx:5,colIdx:0},spellIds:[31848],maxPoints:2},{fieldName:"oneHandedWeaponSpecialization",location:{rowIdx:5,colIdx:2},spellIds:[20196],maxPoints:3},{fieldName:"spiritualAttunement",location:{rowIdx:6,colIdx:0},spellIds:[31785,33776],maxPoints:2},{fieldName:"holyShield",location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[20925],maxPoints:1},{fieldName:"ardentDefender",location:{rowIdx:6,colIdx:2},spellIds:[31850],maxPoints:3},{fieldName:"redoubt",location:{rowIdx:7,colIdx:0},spellIds:[20127,20130,20135],maxPoints:3},{fieldName:"combatExpertise",location:{rowIdx:7,colIdx:2},spellIds:[31858],maxPoints:3},{fieldName:"touchedByTheLight",location:{rowIdx:8,colIdx:0},spellIds:[53590],maxPoints:3},{fieldName:"avengersShield",location:{rowIdx:8,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[31935],maxPoints:1},{fieldName:"guardedByTheLight",location:{rowIdx:8,colIdx:2},spellIds:[53583,53585],maxPoints:2},{fieldName:"shieldOfTheTemplar",location:{rowIdx:9,colIdx:1},prereqLocation:{rowIdx:8,colIdx:1},spellIds:[53709],maxPoints:3},{fieldName:"judgementsOfTheJust",location:{rowIdx:9,colIdx:2},spellIds:[53695],maxPoints:2},{fieldName:"hammerOfTheRighteous",location:{rowIdx:10,colIdx:1},spellIds:[53595],maxPoints:1}]},{name:"Retribution",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/381.jpg",talents:[{fieldName:"deflection",location:{rowIdx:0,colIdx:1},spellIds:[20060],maxPoints:5},{fieldName:"benediction",location:{rowIdx:0,colIdx:2},spellIds:[20101],maxPoints:5},{fieldName:"improvedJudgements",location:{rowIdx:1,colIdx:0},spellIds:[25956],maxPoints:2},{fieldName:"heartOfTheCrusader",location:{rowIdx:1,colIdx:1},spellIds:[20335],maxPoints:3},{fieldName:"improvedBlessingOfMight",location:{rowIdx:1,colIdx:2},spellIds:[20042,20045],maxPoints:2},{fieldName:"vindication",location:{rowIdx:2,colIdx:0},spellIds:[9452,26016],maxPoints:2},{fieldName:"conviction",location:{rowIdx:2,colIdx:1},spellIds:[20117],maxPoints:5},{fieldName:"sealOfCommand",location:{rowIdx:2,colIdx:2},spellIds:[20375],maxPoints:1},{fieldName:"pursuitOfJustice",location:{rowIdx:2,colIdx:3},spellIds:[26022],maxPoints:2},{fieldName:"eyeForAnEye",location:{rowIdx:3,colIdx:0},spellIds:[9799,25988],maxPoints:2},{fieldName:"sanctityOfBattle",location:{rowIdx:3,colIdx:2},spellIds:[32043,35396,35397],maxPoints:3},{fieldName:"crusade",location:{rowIdx:3,colIdx:3},spellIds:[31866],maxPoints:3},{fieldName:"twoHandedWeaponSpecialization",location:{rowIdx:4,colIdx:0},spellIds:[20111],maxPoints:3},{fieldName:"sanctifiedRetribution",location:{rowIdx:4,colIdx:2},spellIds:[31869],maxPoints:1},{fieldName:"vengeance",location:{rowIdx:5,colIdx:1},prereqLocation:{rowIdx:2,colIdx:1},spellIds:[20049,20056,20057],maxPoints:3},{fieldName:"divinePurpose",location:{rowIdx:5,colIdx:2},spellIds:[31871],maxPoints:2},{fieldName:"theArtOfWar",location:{rowIdx:6,colIdx:0},spellIds:[53486,53488],maxPoints:2},{fieldName:"repentance",location:{rowIdx:6,colIdx:1},spellIds:[20066],maxPoints:1},{fieldName:"judgementsOfTheWise",location:{rowIdx:6,colIdx:2},spellIds:[31876],maxPoints:3},{fieldName:"fanaticism",location:{rowIdx:7,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[31879],maxPoints:3},{fieldName:"sanctifiedWrath",location:{rowIdx:7,colIdx:2},spellIds:[53375],maxPoints:2},{fieldName:"swiftRetribution",location:{rowIdx:8,colIdx:0},spellIds:[53379,53484,53648],maxPoints:3},{fieldName:"crusaderStrike",location:{rowIdx:8,colIdx:1},spellIds:[35395],maxPoints:1},{fieldName:"sheathOfLight",location:{rowIdx:8,colIdx:2},spellIds:[53501],maxPoints:3},{fieldName:"righteousVengeance",location:{rowIdx:9,colIdx:1},spellIds:[53380],maxPoints:3},{fieldName:"divineStorm",location:{rowIdx:10,colIdx:1},spellIds:[53385],maxPoints:1}]}]),To={majorGlyphs:{[w.GlyphOfAvengerSShield]:{name:"Glyph of Avenger's Shield",description:"Your Avenger's Shield hits 2 fewer targets, but for 100% more damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_avengersshield.jpg"},[w.GlyphOfAvengingWrath]:{name:"Glyph of Avenging Wrath",description:"Reduces the cooldown of your Hammer of Wrath spell by 50% while Avenging Wrath is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_avenginewrath.jpg"},[w.GlyphOfBeaconOfLight]:{name:"Glyph of Beacon of Light",description:"Increases the duration of Beacon of Light by 30 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_paladin_beaconoflight.jpg"},[w.GlyphOfCleansing]:{name:"Glyph of Cleansing",description:"Reduces the mana cost of your Cleanse and Purify spells by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_purify.jpg"},[w.GlyphOfConsecration]:{name:"Glyph of Consecration",description:"Increases the duration and cooldown of Consecration by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_innerfire.jpg"},[w.GlyphOfCrusaderStrike]:{name:"Glyph of Crusader Strike",description:"Reduces the mana cost of your Crusader Strike ability by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_crusaderstrike.jpg"},[w.GlyphOfDivinePlea]:{name:"Glyph of Divine Plea",description:"While Divine Plea is active, you take 3% reduced damage from all sources.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_aspiration.jpg"},[w.GlyphOfDivineStorm]:{name:"Glyph of Divine Storm",description:"Your Divine Storm now heals for an additional 15% of the damage it causes.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_paladin_divinestorm.jpg"},[w.GlyphOfDivinity]:{name:"Glyph of Divinity",description:"Your Lay on Hands grants twice as much mana as normal and also grants you as much mana as it grants your target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg"},[w.GlyphOfExorcism]:{name:"Glyph of Exorcism",description:"Increases damage done by Exorcism by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism_02.jpg"},[w.GlyphOfFlashOfLight]:{name:"Glyph of Flash of Light",description:"Your Flash of Light has an additional 5% critical strike chance.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_flashheal.jpg"},[w.GlyphOfHammerOfJustice]:{name:"Glyph of Hammer of Justice",description:"Increases your Hammer of Justice range by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofmight.jpg"},[w.GlyphOfHammerOfTheRighteous]:{name:"Glyph of Hammer of the Righteous",description:"Your Hammer of the Righteous hits 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_paladin_hammeroftherighteous.jpg"},[w.GlyphOfHammerOfWrath]:{name:"Glyph of Hammer of Wrath",description:"Reduces the mana cost of Hammer of Wrath by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_thunderclap.jpg"},[w.GlyphOfHolyLight]:{name:"Glyph of Holy Light",description:"Your Holy Light grants 10% of its heal amount to up to 5 friendly targets within 8 yards of the initial target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_holybolt.jpg"},[w.GlyphOfHolyShock]:{name:"Glyph of Holy Shock",description:"Reduces the cooldown of Holy Shock by 1 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_searinglight.jpg"},[w.GlyphOfHolyWrath]:{name:"Glyph of Holy Wrath",description:"Reduces the cooldown of your Holy Wrath spell by 15 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism.jpg"},[w.GlyphOfJudgement]:{name:"Glyph of Judgement",description:"Your Judgements deal 10% more damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_paladin_judgementred.jpg"},[w.GlyphOfRighteousDefense]:{name:"Glyph of Righteous Defense",description:"Increases the chance for your Righteous Defense and Hand of Reckoning abilities to work successfully by 8% on each target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_shoulder_37.jpg"},[w.GlyphOfSalvation]:{name:"Glyph of Salvation",description:"When you cast Hand of Salvation on yourself, it also reduces damage taken by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofsalvation.jpg"},[w.GlyphOfSealOfCommand]:{name:"Glyph of Seal of Command",description:"You gain 8% of your base mana each time you use a Judgement with Seal of Command active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_innerrage.jpg"},[w.GlyphOfSealOfLight]:{name:"Glyph of Seal of Light",description:"While Seal of Light is active, the effect of your healing spells is increased by 5%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_healingaura.jpg"},[w.GlyphOfSealOfRighteousness]:{name:"Glyph of Seal of Righteousness",description:"Increases the damage done by Seal of Righteousness by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_thunderbolt.jpg"},[w.GlyphOfSealOfVengeance]:{name:"Glyph of Seal of Vengeance",description:"Your Seal of Vengeance or Seal of Corruption also grants 10 expertise while active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofvengeance.jpg"},[w.GlyphOfSealOfWisdom]:{name:"Glyph of Seal of Wisdom",description:"While Seal of Wisdom is active, the cost of your healing spells is reduced by 5%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_righteousnessaura.jpg"},[w.GlyphOfShieldOfRighteousness]:{name:"Glyph of Shield of Righteousness",description:"Reduces the mana cost of Shield of Righteousness by 80%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_paladin_shieldofvengeance.jpg"},[w.GlyphOfSpiritualAttunement]:{name:"Glyph of Spiritual Attunement",description:"Increases the amount of mana gained from your Spiritual Attunement spell by an additional 2%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_revivechampion.jpg"},[w.GlyphOfTurnEvil]:{name:"Glyph of Turn Evil",description:"Reduces the casting time of your Turn Evil spell by 100%, but increases the cooldown by 8 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_turnundead.jpg"}},minorGlyphs:{[x.GlyphOfBlessingOfKings]:{name:"Glyph of Blessing of Kings",description:"Reduces the mana cost of your Blessing of Kings and Greater Blessing of Kings spells by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magic_magearmor.jpg"},[x.GlyphOfBlessingOfMight]:{name:"Glyph of Blessing of Might",description:"Increases the duration of your Blessing of Might spell by 20 min when cast on yourself.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_fistofjustice.jpg"},[x.GlyphOfBlessingOfWisdom]:{name:"Glyph of Blessing of Wisdom",description:"Increases the duration of your Blessing of Wisdom spell by 20 min when cast on yourself.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_sealofwisdom.jpg"},[x.GlyphOfLayOnHands]:{name:"Glyph of Lay on Hands",description:"Reduces the cooldown of your Lay on Hands spell by 5 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg"},[x.GlyphOfSenseUndead]:{name:"Glyph of Sense Undead",description:"Damage against Undead increased by 1% while your Sense Undead ability is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_senseundead.jpg"},[x.GlyphOfTheWise]:{name:"Glyph of the Wise",description:"Reduces the mana cost of your Seal of Wisdom spell by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_righteousnessaura.jpg"}}},Oo=So([{name:"Discipline",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/201.jpg",talents:[{fieldName:"unbreakableWill",location:{rowIdx:0,colIdx:1},spellIds:[14522,14788,14789,14790,14791],maxPoints:5},{fieldName:"twinDisciplines",location:{rowIdx:0,colIdx:2},spellIds:[47586,47587,47588,52802,52803],maxPoints:5},{fieldName:"silentResolve",location:{rowIdx:1,colIdx:0},spellIds:[14523,14784,14785],maxPoints:3},{fieldName:"improvedInnerFire",location:{rowIdx:1,colIdx:1},spellIds:[14747,14770,14771],maxPoints:3},{fieldName:"improvedPowerWordFortitude",location:{rowIdx:1,colIdx:2},spellIds:[14749,14767],maxPoints:2},{fieldName:"martyrdom",location:{rowIdx:1,colIdx:3},spellIds:[14531,14774],maxPoints:2},{fieldName:"meditation",location:{rowIdx:2,colIdx:0},spellIds:[14521,14776,14777],maxPoints:3},{fieldName:"innerFocus",location:{rowIdx:2,colIdx:1},spellIds:[14751],maxPoints:1},{fieldName:"improvedPowerWordShield",location:{rowIdx:2,colIdx:2},spellIds:[14748,14768,14769],maxPoints:3},{fieldName:"absolution",location:{rowIdx:3,colIdx:0},spellIds:[33167,33171,33172],maxPoints:3},{fieldName:"mentalAgility",location:{rowIdx:3,colIdx:1},spellIds:[14520,14780,14781],maxPoints:3},{fieldName:"improvedManaBurn",location:{rowIdx:3,colIdx:3},spellIds:[14750,14772],maxPoints:2},{fieldName:"reflectiveShield",location:{rowIdx:4,colIdx:0},spellIds:[33201,33202],maxPoints:2},{fieldName:"mentalStrength",location:{rowIdx:4,colIdx:1},spellIds:[18551,18552,18553,18554,18555],maxPoints:5},{fieldName:"soulWarding",location:{rowIdx:4,colIdx:2},spellIds:[63574],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"focusedPower",location:{rowIdx:5,colIdx:0},spellIds:[33186,33190],maxPoints:2},{fieldName:"enlightenment",location:{rowIdx:5,colIdx:2},spellIds:[34908,34909,34910],maxPoints:3},{fieldName:"focusedWill",location:{rowIdx:6,colIdx:0},spellIds:[45234,45243,45244],maxPoints:3},{fieldName:"powerInfusion",location:{rowIdx:6,colIdx:1},spellIds:[10060],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"improvedFlashHeal",location:{rowIdx:6,colIdx:2},spellIds:[63504,63505,63506],maxPoints:3},{fieldName:"renewedHope",location:{rowIdx:7,colIdx:0},spellIds:[57470,57472],maxPoints:2},{fieldName:"rapture",location:{rowIdx:7,colIdx:1},spellIds:[47535,47536,47537],maxPoints:3},{fieldName:"aspiration",location:{rowIdx:7,colIdx:2},spellIds:[47507,47508],maxPoints:2},{fieldName:"divineAegis",location:{rowIdx:8,colIdx:0},spellIds:[47509,47511,47515],maxPoints:3},{fieldName:"painSuppression",location:{rowIdx:8,colIdx:1},spellIds:[33206],maxPoints:1},{fieldName:"grace",location:{rowIdx:8,colIdx:2},spellIds:[47516,47517],maxPoints:2},{fieldName:"borrowedTime",location:{rowIdx:9,colIdx:1},spellIds:[52795,52797,52798,52799,52800],maxPoints:5},{fieldName:"penance",location:{rowIdx:10,colIdx:1},spellIds:[47540],maxPoints:1}]},{name:"Holy",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/202.jpg",talents:[{fieldName:"healingFocus",location:{rowIdx:0,colIdx:0},spellIds:[14913,15012],maxPoints:2},{fieldName:"improvedRenew",location:{rowIdx:0,colIdx:1},spellIds:[14908,15020,17191],maxPoints:3},{fieldName:"holySpecialization",location:{rowIdx:0,colIdx:2},spellIds:[14889,15008,15009,15010,15011],maxPoints:5},{fieldName:"spellWarding",location:{rowIdx:1,colIdx:1},spellIds:[27900,27901,27902,27903,27904],maxPoints:5},{fieldName:"divineFury",location:{rowIdx:1,colIdx:2},spellIds:[18530,18531,18533,18534,18535],maxPoints:5},{fieldName:"desperatePrayer",location:{rowIdx:2,colIdx:0},spellIds:[19236],maxPoints:1},{fieldName:"blessedRecovery",location:{rowIdx:2,colIdx:1},spellIds:[27811,27815,27816],maxPoints:3},{fieldName:"inspiration",location:{rowIdx:2,colIdx:3},spellIds:[14892,15362,15363],maxPoints:3},{fieldName:"holyReach",location:{rowIdx:3,colIdx:0},spellIds:[27789,27790],maxPoints:2},{fieldName:"improvedHealing",location:{rowIdx:3,colIdx:1},spellIds:[14912,15013,15014],maxPoints:3},{fieldName:"searingLight",location:{rowIdx:3,colIdx:2},spellIds:[14909,15017],maxPoints:2,prereqLocation:{rowIdx:1,colIdx:2}},{fieldName:"healingPrayers",location:{rowIdx:4,colIdx:0},spellIds:[14911,15018],maxPoints:2},{fieldName:"spiritOfRedemption",location:{rowIdx:4,colIdx:1},spellIds:[20711],maxPoints:1},{fieldName:"spiritualGuidance",location:{rowIdx:4,colIdx:2},spellIds:[14901,15028,15029,15030,15031],maxPoints:5},{fieldName:"surgeOfLight",location:{rowIdx:5,colIdx:0},spellIds:[33150,33154],maxPoints:2},{fieldName:"spiritualHealing",location:{rowIdx:5,colIdx:2},spellIds:[14898,15349,15354,15355,15356],maxPoints:5},{fieldName:"holyConcentration",location:{rowIdx:6,colIdx:0},spellIds:[34753,34859,34860],maxPoints:3},{fieldName:"lightwell",location:{rowIdx:6,colIdx:1},spellIds:[724],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"blessedResilience",location:{rowIdx:6,colIdx:2},spellIds:[33142,33145,33146],maxPoints:3},{fieldName:"bodyAndSoul",location:{rowIdx:7,colIdx:0},spellIds:[64127,64129],maxPoints:2},{fieldName:"empoweredHealing",location:{rowIdx:7,colIdx:1},spellIds:[33158,33159,33160,33161,33162],maxPoints:5},{fieldName:"serendipity",location:{rowIdx:7,colIdx:2},spellIds:[63730,63733,63737],maxPoints:3},{fieldName:"empoweredRenew",location:{rowIdx:8,colIdx:0},spellIds:[63534,63542,63543],maxPoints:3},{fieldName:"circleOfHealing",location:{rowIdx:8,colIdx:1},spellIds:[34861],maxPoints:1},{fieldName:"testOfFaith",location:{rowIdx:8,colIdx:2},spellIds:[47558,47559,47560],maxPoints:3},{fieldName:"divineProvidence",location:{rowIdx:9,colIdx:1},spellIds:[47562,47564,47565,47566,47567],maxPoints:5},{fieldName:"guardianSpirit",location:{rowIdx:10,colIdx:1},spellIds:[47788],maxPoints:1}]},{name:"Shadow",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/203.jpg",talents:[{fieldName:"spiritTap",location:{rowIdx:0,colIdx:0},spellIds:[15270,15335,15336],maxPoints:3},{fieldName:"improvedSpiritTap",location:{rowIdx:0,colIdx:1},spellIds:[15337,15338],maxPoints:2,prereqLocation:{rowIdx:0,colIdx:0}},{fieldName:"darkness",location:{rowIdx:0,colIdx:2},spellIds:[15259,15307,15308,15309,15310],maxPoints:5},{fieldName:"shadowAffinity",location:{rowIdx:1,colIdx:0},spellIds:[15318,15272,15320],maxPoints:3},{fieldName:"improvedShadowWordPain",location:{rowIdx:1,colIdx:1},spellIds:[15275,15317],maxPoints:2},{fieldName:"shadowFocus",location:{rowIdx:1,colIdx:2},spellIds:[15260,15327,15328],maxPoints:3},{fieldName:"improvedPsychicScream",location:{rowIdx:2,colIdx:0},spellIds:[15392,15448],maxPoints:2},{fieldName:"improvedMindBlast",location:{rowIdx:2,colIdx:1},spellIds:[15273,15312,15313,15314,15316],maxPoints:5},{fieldName:"mindFlay",location:{rowIdx:2,colIdx:2},spellIds:[15407],maxPoints:1},{fieldName:"veiledShadows",location:{rowIdx:3,colIdx:1},spellIds:[15274,15311],maxPoints:2},{fieldName:"shadowReach",location:{rowIdx:3,colIdx:2},spellIds:[17322,17323],maxPoints:2},{fieldName:"shadowWeaving",location:{rowIdx:3,colIdx:3},spellIds:[15257,15331,15332],maxPoints:3},{fieldName:"silence",location:{rowIdx:4,colIdx:0},spellIds:[15487],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:0}},{fieldName:"vampiricEmbrace",location:{rowIdx:4,colIdx:1},spellIds:[15286],maxPoints:1},{fieldName:"improvedVampiricEmbrace",location:{rowIdx:4,colIdx:2},spellIds:[27839,27840],maxPoints:2,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"focusedMind",location:{rowIdx:4,colIdx:3},spellIds:[33213,33214,33215],maxPoints:3},{fieldName:"mindMelt",location:{rowIdx:5,colIdx:0},spellIds:[14910,33371],maxPoints:2},{fieldName:"improvedDevouringPlague",location:{rowIdx:5,colIdx:2},spellIds:[63625,63626,63627],maxPoints:3},{fieldName:"shadowform",location:{rowIdx:6,colIdx:1},spellIds:[15473],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"shadowPower",location:{rowIdx:6,colIdx:2},spellIds:[33221,33222,33223,33224,33225],maxPoints:5},{fieldName:"improvedShadowform",location:{rowIdx:7,colIdx:0},spellIds:[47569,47570],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"misery",location:{rowIdx:7,colIdx:2},spellIds:[33191,33192,33193],maxPoints:3},{fieldName:"psychicHorror",location:{rowIdx:8,colIdx:0},spellIds:[64044],maxPoints:1},{fieldName:"vampiricTouch",location:{rowIdx:8,colIdx:1},spellIds:[34914],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"painAndSuffering",location:{rowIdx:8,colIdx:2},spellIds:[47580,47581,47582],maxPoints:3},{fieldName:"twistedFaith",location:{rowIdx:9,colIdx:2},spellIds:[47573,47577,47578,51166,51167],maxPoints:5},{fieldName:"dispersion",location:{rowIdx:10,colIdx:1},spellIds:[47585],maxPoints:1,prereqLocation:{rowIdx:8,colIdx:1}}]}]),_o={majorGlyphs:{[y.GlyphOfCircleOfHealing]:{name:"Glyph of Circle of Healing",description:"Your Circle of Healing spell heals 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_circleofrenewal.jpg"},[y.GlyphOfDispelMagic]:{name:"Glyph of Dispel Magic",description:"Your Dispel Magic spell also heals your target for 3% of maximum health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_dispelmagic.jpg"},[y.GlyphOfDispersion]:{name:"Glyph of Dispersion",description:"Reduces the cooldown on Dispersion by 45 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_dispersion.jpg"},[y.GlyphOfFade]:{name:"Glyph of Fade",description:"Reduces the cooldown of your Fade spell by 9 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg"},[y.GlyphOfFearWard]:{name:"Glyph of Fear Ward",description:"Reduces cooldown and duration of Fear Ward by 60 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_excorcism.jpg"},[y.GlyphOfFlashHeal]:{name:"Glyph of Flash Heal",description:"Reduces the mana cost of your Flash Heal by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_flashheal.jpg"},[y.GlyphOfGuardianSpirit]:{name:"Glyph of Guardian Spirit",description:"If your Guardian Spirit lasts its entire duration without being triggered, the cooldown is reset to 1 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_guardianspirit.jpg"},[y.GlyphOfHolyNova]:{name:"Glyph of Holy Nova",description:"Increases the damage and healing of your Holy Nova spell by an additional 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_holynova.jpg"},[y.GlyphOfHymnOfHope]:{name:"Glyph of Hymn of Hope",description:"Your Hymn of Hope lasts an additional 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_symbolofhope.jpg"},[y.GlyphOfInnerFire]:{name:"Glyph of Inner Fire",description:"Increases the armor from your Inner Fire spell by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_innerfire.jpg"},[y.GlyphOfLightwell]:{name:"Glyph of Lightwell",description:"Increases the amount healed by your Lightwell by 20%",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_summonlightwell.jpg"},[y.GlyphOfMassDispel]:{name:"Glyph of Mass Dispel",description:"Reduces the mana cost of Mass Dispel by 35%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_arcane_massdispel.jpg"},[y.GlyphOfMindControl]:{name:"Glyph of Mind Control",description:"Reduces the chance targets will resist or break your Mind Control spell by an additional 17%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowworddominate.jpg"},[y.GlyphOfMindFlay]:{name:"Glyph of Mind Flay",description:"Increases the damage done by your Mind Flay spell by 10% when your target is afflicted with Shadow Word: Pain.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_siphonmana.jpg"},[y.GlyphOfMindSear]:{name:"Glyph of Mind Sear",description:"Increases the radius of effect on Mind Sear by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_mindshear.jpg"},[y.GlyphOfPainSuppression]:{name:"Glyph of Pain Suppression",description:"Allows Pain Suppression to be cast while stunned.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_painsupression.jpg"},[y.GlyphOfPenance]:{name:"Glyph of Penance",description:"Reduces the cooldown of Penance by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_penance.jpg"},[y.GlyphOfPowerWordShield]:{name:"Glyph of Power Word: Shield",description:"Your Power Word: Shield also heals the target for 20% of the absorption amount.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_powerwordshield.jpg"},[y.GlyphOfPrayerOfHealing]:{name:"Glyph of Prayer of Healing",description:"Your Prayer of Healing spell also heals an additional 20% of its initial heal over 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_prayerofhealing02.jpg"},[y.GlyphOfPsychicScream]:{name:"Glyph of Psychic Scream",description:"Increases the duration of your Psychic Scream by 2 sec. and increases its cooldown by 8 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_psychicscream.jpg"},[y.GlyphOfRenew]:{name:"Glyph of Renew",description:"Reduces the duration of your Renew by 3 sec. but increases the amount healed each tick by 25%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_renew.jpg"},[y.GlyphOfScourgeImprisonment]:{name:"Glyph of Scourge Imprisonment",description:"Reduces the cast time of your Shackle Undead by 1.0 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_slow.jpg"},[y.GlyphOfShadow]:{name:"Glyph of Shadow",description:"While in Shadowform, your non-periodic spell critical strikes increase your spell power by 30% of your Spirit for 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_mindsooth.jpg"},[y.GlyphOfShadowWordDeath]:{name:"Glyph of Shadow Word: Death",description:"Targets below 35% health take an additional 10% damage from your Shadow Word: Death spell.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonicfortitude.jpg"},[y.GlyphOfShadowWordPain]:{name:"Glyph of Shadow Word: Pain",description:"The periodic damage ticks of your Shadow Word: Pain spell restore 1% of your base mana.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowwordpain.jpg"},[y.GlyphOfSmite]:{name:"Glyph of Smite",description:"Your Smite spell inflicts an additional 20% damage against targets afflicted by Holy Fire.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_holysmite.jpg"},[y.GlyphOfSpiritOfRedemption]:{name:"Glyph of Spirit of Redemption",description:"Increases the duration of Spirit of Redemption by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_enchant_essenceeternallarge.jpg"}},minorGlyphs:{[b.GlyphOfFading]:{name:"Glyph of Fading",description:"Reduces the mana cost of your Fade spell by 30%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_magic_lesserinvisibilty.jpg"},[b.GlyphOfFortitude]:{name:"Glyph of Fortitude",description:"Reduces the mana cost of your Power Word: Fortitude and Prayer of Fortitude spells by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_wordfortitude.jpg"},[b.GlyphOfLevitate]:{name:"Glyph of Levitate",description:"Your Levitate spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_layonhands.jpg"},[b.GlyphOfShackleUndead]:{name:"Glyph of Shackle Undead",description:"Increases the range of your Shackle Undead spell by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_slow.jpg"},[b.GlyphOfShadowProtection]:{name:"Glyph of Shadow Protection",description:"Increases the duration of your Shadow Protection and Prayer of Shadow Protection spells by 10 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antishadow.jpg"},[b.GlyphOfShadowfiend]:{name:"Glyph of Shadowfiend",description:"Receive 5% of your maximum mana if your Shadowfiend dies from damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowfiend.jpg"}}},Lo=So([{name:"Assassination",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/182.jpg",talents:[{fieldName:"improvedEviscerate",location:{rowIdx:0,colIdx:0},spellIds:[14162],maxPoints:3},{fieldName:"remorselessAttacks",location:{rowIdx:0,colIdx:1},spellIds:[14144,14148],maxPoints:2},{fieldName:"malice",location:{rowIdx:0,colIdx:2},spellIds:[14138],maxPoints:5},{fieldName:"ruthlessness",location:{rowIdx:1,colIdx:0},spellIds:[14156,14160],maxPoints:3},{fieldName:"bloodSpatter",location:{rowIdx:1,colIdx:1},spellIds:[51632,51633],maxPoints:2},{fieldName:"puncturingWounds",location:{rowIdx:1,colIdx:3},spellIds:[13733,13865],maxPoints:3},{fieldName:"vigor",location:{rowIdx:2,colIdx:0},spellIds:[14983],maxPoints:1},{fieldName:"improvedExposeArmor",location:{rowIdx:2,colIdx:1},spellIds:[14168],maxPoints:2},{fieldName:"lethality",location:{rowIdx:2,colIdx:2},prereqLocation:{rowIdx:0,colIdx:2},spellIds:[14128,14132,14135],maxPoints:5},{fieldName:"vilePoisons",location:{rowIdx:3,colIdx:1},spellIds:[16513,16514,16515],maxPoints:3},{fieldName:"improvedPoisons",location:{rowIdx:3,colIdx:2},spellIds:[14113,14114,14115,14116,14117],maxPoints:5},{fieldName:"fleetFooted",location:{rowIdx:4,colIdx:0},spellIds:[31208],maxPoints:2},{fieldName:"coldBlood",location:{rowIdx:4,colIdx:1},spellIds:[14177],maxPoints:1},{fieldName:"improvedKidneyShot",location:{rowIdx:4,colIdx:2},spellIds:[14174],maxPoints:3},{fieldName:"quickRecovery",location:{rowIdx:4,colIdx:3},spellIds:[31244],maxPoints:2},{fieldName:"sealFate",location:{rowIdx:5,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[14186,14190,14193],maxPoints:5},{fieldName:"murder",location:{rowIdx:5,colIdx:2},spellIds:[14158,14159],maxPoints:2},{fieldName:"deadlyBrew",location:{rowIdx:6,colIdx:0},spellIds:[51625,51626],maxPoints:2},{fieldName:"overkill",location:{rowIdx:6,colIdx:1},spellIds:[58426],maxPoints:1},{fieldName:"deadenedNerves",location:{rowIdx:6,colIdx:2},spellIds:[31380,31382,31383],maxPoints:3},{fieldName:"focusedAttacks",location:{rowIdx:7,colIdx:0},spellIds:[51634,51635,51636],maxPoints:3},{fieldName:"findWeakness",location:{rowIdx:7,colIdx:2},spellIds:[31234,31235,31236],maxPoints:3},{fieldName:"masterPoisoner",location:{rowIdx:8,colIdx:0},spellIds:[31226,31227,58410],maxPoints:3},{fieldName:"mutilate",location:{rowIdx:8,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[1329],maxPoints:1},{fieldName:"turnTheTables",location:{rowIdx:8,colIdx:2},spellIds:[51627,51628,51629],maxPoints:3},{fieldName:"cutToTheChase",location:{rowIdx:9,colIdx:1},spellIds:[51664,51665,51666,51667,51668],maxPoints:5},{fieldName:"hungerForBlood",location:{rowIdx:10,colIdx:1},spellIds:[51662],maxPoints:1}]},{name:"Combat",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/181.jpg",talents:[{fieldName:"improvedGouge",location:{rowIdx:0,colIdx:0},spellIds:[13741,13793,13792],maxPoints:3},{fieldName:"improvedSinisterStrike",location:{rowIdx:0,colIdx:1},spellIds:[13732,13863],maxPoints:2},{fieldName:"dualWieldSpecialization",location:{rowIdx:0,colIdx:2},spellIds:[13715,13848,13849,13851,13852],maxPoints:5},{fieldName:"improvedSliceAndDice",location:{rowIdx:1,colIdx:0},spellIds:[14165,14166],maxPoints:2},{fieldName:"deflection",location:{rowIdx:1,colIdx:1},spellIds:[13713,13853,13854],maxPoints:3},{fieldName:"precision",location:{rowIdx:1,colIdx:3},spellIds:[13705,13832,13843,13844,13845],maxPoints:5},{fieldName:"endurance",location:{rowIdx:2,colIdx:0},spellIds:[13742,13872],maxPoints:2},{fieldName:"riposte",location:{rowIdx:2,colIdx:1},prereqLocation:{rowIdx:1,colIdx:1},spellIds:[14251],maxPoints:1},{fieldName:"closeQuartersCombat",location:{rowIdx:2,colIdx:2},prereqLocation:{rowIdx:0,colIdx:2},spellIds:[13706,13804,13805,13806,13807],maxPoints:5},{fieldName:"improvedKick",location:{rowIdx:3,colIdx:0},spellIds:[13754,13867],maxPoints:2},{fieldName:"improvedSprint",location:{rowIdx:3,colIdx:1},spellIds:[13743,13875],maxPoints:2},{fieldName:"lightningReflexes",location:{rowIdx:3,colIdx:2},spellIds:[13712,13788,13789],maxPoints:3},{fieldName:"aggression",location:{rowIdx:3,colIdx:3},spellIds:[18427,18428,18429,61330,61331],maxPoints:5},{fieldName:"maceSpecialization",location:{rowIdx:4,colIdx:0},spellIds:[13709,13800,13801,13802,13803],maxPoints:5},{fieldName:"bladeFlurry",location:{rowIdx:4,colIdx:1},spellIds:[13877],maxPoints:1},{fieldName:"hackAndSlash",location:{rowIdx:4,colIdx:2},spellIds:[13960,13961,13962,13963,13964],maxPoints:5},{fieldName:"weaponExpertise",location:{rowIdx:5,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[30919],maxPoints:2},{fieldName:"bladeTwisting",location:{rowIdx:5,colIdx:2},spellIds:[31124,31126],maxPoints:2},{fieldName:"vitality",location:{rowIdx:6,colIdx:0},spellIds:[31122,31123,61329],maxPoints:3},{fieldName:"adrenalineRush",location:{rowIdx:6,colIdx:1},spellIds:[13750],maxPoints:1},{fieldName:"nervesOfSteel",location:{rowIdx:6,colIdx:2},spellIds:[31130],maxPoints:2},{fieldName:"throwingSpecialization",location:{rowIdx:7,colIdx:0},spellIds:[5952,51679],maxPoints:2},{fieldName:"combatPotency",location:{rowIdx:7,colIdx:2},spellIds:[35541,35550,35551,35552,35553],maxPoints:5},{fieldName:"unfairAdvantage",location:{rowIdx:8,colIdx:0},spellIds:[51672,51674],maxPoints:2},{fieldName:"surpriseAttacks",location:{rowIdx:8,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[32601],maxPoints:1},{fieldName:"savageCombat",location:{rowIdx:8,colIdx:2},spellIds:[51682,58413],maxPoints:2},{fieldName:"preyOnTheWeak",location:{rowIdx:9,colIdx:1},spellIds:[51685,51686,51687,51688,51689],maxPoints:5},{fieldName:"killingSpree",location:{rowIdx:10,colIdx:1},spellIds:[51690],maxPoints:1}]},{name:"Subtlety",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/183.jpg",talents:[{fieldName:"relentlessStrikes",location:{rowIdx:0,colIdx:0},spellIds:[14179,58422,58423,58424,58425],maxPoints:5},{fieldName:"masterOfDeception",location:{rowIdx:0,colIdx:1},spellIds:[13958,13970,13971],maxPoints:3},{fieldName:"opportunity",location:{rowIdx:0,colIdx:2},spellIds:[14057,14072],maxPoints:2},{fieldName:"sleightOfHand",location:{rowIdx:1,colIdx:0},spellIds:[30892,30893],maxPoints:2},{fieldName:"dirtyTricks",location:{rowIdx:1,colIdx:1},spellIds:[14076,14094],maxPoints:2},{fieldName:"camouflage",location:{rowIdx:1,colIdx:2},spellIds:[13975,14062,14603],maxPoints:3},{fieldName:"elusiveness",location:{rowIdx:2,colIdx:0},spellIds:[13981,14066],maxPoints:2},{fieldName:"ghostlyStrike",location:{rowIdx:2,colIdx:1},spellIds:[14278],maxPoints:1},{fieldName:"serratedBlades",location:{rowIdx:2,colIdx:2},spellIds:[14171,14172,14173],maxPoints:3},{fieldName:"setup",location:{rowIdx:3,colIdx:0},spellIds:[13983,14070,14071],maxPoints:3},{fieldName:"initiative",location:{rowIdx:3,colIdx:1},spellIds:[13976,13979,13980],maxPoints:3},{fieldName:"improvedAmbush",location:{rowIdx:3,colIdx:2},spellIds:[14079,14080],maxPoints:2},{fieldName:"heightenedSenses",location:{rowIdx:4,colIdx:0},spellIds:[30894,30895],maxPoints:2},{fieldName:"preparation",location:{rowIdx:4,colIdx:1},spellIds:[14185],maxPoints:1},{fieldName:"dirtyDeeds",location:{rowIdx:4,colIdx:2},spellIds:[14082,14083],maxPoints:2},{fieldName:"hemorrhage",location:{rowIdx:4,colIdx:3},prereqLocation:{rowIdx:2,colIdx:2},spellIds:[16511],maxPoints:1},{fieldName:"masterOfSubtlety",location:{rowIdx:5,colIdx:0},spellIds:[31221,31222,31223],maxPoints:3},{fieldName:"deadliness",location:{rowIdx:5,colIdx:2},spellIds:[30902,30903,30904,30905,30906],maxPoints:5},{fieldName:"envelopingShadows",location:{rowIdx:6,colIdx:0},spellIds:[31211,31212,31213],maxPoints:3},{fieldName:"premeditation",location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[14183],maxPoints:1},{fieldName:"cheatDeath",location:{rowIdx:6,colIdx:2},spellIds:[31228,31229,31230],maxPoints:3},{fieldName:"sinisterCalling",location:{rowIdx:7,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[31216,31217,31218,31219,31220],maxPoints:5},{fieldName:"waylay",location:{rowIdx:7,colIdx:2},spellIds:[51692,51696],maxPoints:2},{fieldName:"honorAmongThieves",location:{rowIdx:8,colIdx:0},spellIds:[51698,51670,51671],maxPoints:3},{fieldName:"shadowstep",location:{rowIdx:8,colIdx:1},spellIds:[36554],maxPoints:1},{fieldName:"filthyTricks",location:{rowIdx:8,colIdx:2},spellIds:[36554],maxPoints:2},{fieldName:"slaughterFromTheShadows",location:{rowIdx:9,colIdx:1},spellIds:[51708,51709,51710,51711,51712],maxPoints:5},{fieldName:"shadowDance",location:{rowIdx:10,colIdx:1},spellIds:[51713],maxPoints:1}]}]),Ro={majorGlyphs:{[S.GlyphOfAdrenalineRush]:{name:"Glyph of Adrenaline Rush",description:"Increases the duration of Adrenaline Rush by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowworddominate.jpg"},[S.GlyphOfAmbush]:{name:"Glyph of Ambush",description:"Increases the range on Ambush by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_ambush.jpg"},[S.GlyphOfBackstab]:{name:"Glyph of Backstab",description:"Your Backstab increases the duration of your Rupture effect on the target by 2 sec, up to a maximum of 6 additional sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_backstab.jpg"},[S.GlyphOfBladeFlurry]:{name:"Glyph of Blade Flurry",description:"Reduces the energy cost of Blade Flurry by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg"},[S.GlyphOfCloakOfShadows]:{name:"Glyph of Cloak of Shadows",description:"While Cloak of Shadows is active, you take 40% less physical damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_nethercloak.jpg"},[S.GlyphOfCripplingPoison]:{name:"Glyph of Crippling Poison",description:"Increases the chance to inflict your target with Crippling Poison by an additional 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_poisonsting.jpg"},[S.GlyphOfDeadlyThrow]:{name:"Glyph of Deadly Throw",description:"Increases the slowing effect on Deadly Throw by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_throwingknife_06.jpg"},[S.GlyphOfEvasion]:{name:"Glyph of Evasion",description:"Increases the duration of Evasion by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowward.jpg"},[S.GlyphOfEviscerate]:{name:"Glyph of Eviscerate",description:"Increases the critical strike chance of Eviscerate by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_eviscerate.jpg"},[S.GlyphOfExposeArmor]:{name:"Glyph of Expose Armor",description:"Increases the duration of Expose Armor by 12 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_riposte.jpg"},[S.GlyphOfFanOfKnives]:{name:"Glyph of Fan of Knives",description:"Increases the damage done by Fan of Knives by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_fanofknives.jpg"},[S.GlyphOfFeint]:{name:"Glyph of Feint",description:"Reduces the energy cost of Feint by 20.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_feint.jpg"},[S.GlyphOfGarrote]:{name:"Glyph of Garrote",description:"Reduces the duration of your Garrote ability by 3 sec and increases the total damage it deals by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_garrote.jpg"},[S.GlyphOfGhostlyStrike]:{name:"Glyph of Ghostly Strike",description:"Increases the damage dealt by Ghostly Strike by 40% and the duration of its effect by 4 sec, but increases its cooldown by 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_curse.jpg"},[S.GlyphOfGouge]:{name:"Glyph of Gouge",description:"Reduces the energy cost of Gouge by 15.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_gouge.jpg"},[S.GlyphOfHemorrhage]:{name:"Glyph of Hemorrhage",description:"Increases the damage bonus against targets afflicted by Hemorrhage by 40%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg"},[S.GlyphOfHungerForBlood]:{name:"Glyph of Hunger For Blood",description:"Increases the bonus damage from Hunger For Blood by 3%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_hungerforblood.jpg"},[S.GlyphOfKillingSpree]:{name:"Glyph of Killing Spree",description:"Reduces the cooldown on Killing Spree by 45 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_murderspree.jpg"},[S.GlyphOfMutilate]:{name:"Glyph of Mutilate",description:"Reduces the cost of Mutilate by 5 energy.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_shadowstrikes.jpg"},[S.GlyphOfPreparation]:{name:"Glyph of Preparation",description:"Your Preparation ability also instantly resets the cooldown of Blade Flurry, Dismantle, and Kick.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antishadow.jpg"},[S.GlyphOfRupture]:{name:"Glyph of Rupture",description:"Increases the duration of Rupture by 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_rupture.jpg"},[S.GlyphOfSap]:{name:"Glyph of Sap",description:"Increases the duration of Sap by 20 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_sap.jpg"},[S.GlyphOfShadowDance]:{name:"Glyph of Shadow Dance",description:"Increases the duration of Shadow Dance by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_shadowdance.jpg"},[S.GlyphOfSinisterStrike]:{name:"Glyph of Sinister Strike",description:"Your Sinister Strike critical strikes have a 50% chance to add an additional combo point.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_ritualofsacrifice.jpg"},[S.GlyphOfSliceAndDice]:{name:"Glyph of Slice and Dice",description:"Increases the duration of Slice and Dice by 3 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_slicedice.jpg"},[S.GlyphOfSprint]:{name:"Glyph of Sprint",description:"Increases the movement speed of your Sprint ability by an additional 30%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_sprint.jpg"},[S.GlyphOfTricksOfTheTrade]:{name:"Glyph of Tricks of the Trade",description:"The bonus damage and threat redirection granted by your Tricks of the Trade ability lasts an additional 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_tricksofthetrade.jpg"},[S.GlyphOfVigor]:{name:"Glyph of Vigor",description:"Vigor grants an additional 10 maximum energy.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_earthbindtotem.jpg"}},minorGlyphs:{[P.GlyphOfBlurredSpeed]:{name:"Glyph of Blurred Speed",description:"Enables you to walk on water while your Sprint ability is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_sprint.jpg"},[P.GlyphOfDistract]:{name:"Glyph of Distract",description:"Increases the range of your Distract ability by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_distract.jpg"},[P.GlyphOfPickLock]:{name:"Glyph of Pick Lock",description:"Reduces the cast time of your Pick Lock ability by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_moonkey.jpg"},[P.GlyphOfPickPocket]:{name:"Glyph of Pick Pocket",description:"Increases the range of your Pick Pocket ability by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_misc_bag_11.jpg"},[P.GlyphOfSafeFall]:{name:"Glyph of Safe Fall",description:"Increases the distance your Safe Fall ability allows you to fall without taking damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_feather_01.jpg"},[P.GlyphOfVanish]:{name:"Glyph of Vanish",description:"Increases your movement speed by 30% while the Vanish effect is active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_vanish.jpg"}}},Do=So([{name:"Elemental",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/261.jpg",talents:[{fieldName:"convection",location:{rowIdx:0,colIdx:1},spellIds:[16039,16109],maxPoints:5},{fieldName:"concussion",location:{rowIdx:0,colIdx:2},spellIds:[16035,16105],maxPoints:5},{fieldName:"callOfFlame",location:{rowIdx:1,colIdx:0},spellIds:[16038,16160,16161],maxPoints:3},{location:{rowIdx:1,colIdx:1},spellIds:[28996,28997,28998],maxPoints:3},{fieldName:"elementalDevastation",location:{rowIdx:1,colIdx:2},spellIds:[30160,29179,29180],maxPoints:3},{fieldName:"reverberation",location:{rowIdx:2,colIdx:0},spellIds:[16040,16113,16114,16115,16116],maxPoints:5},{fieldName:"elementalFocus",location:{rowIdx:2,colIdx:1},spellIds:[16164],maxPoints:1},{fieldName:"elementalFury",location:{rowIdx:2,colIdx:2},spellIds:[16089,60184,60185,60187,60188],maxPoints:5},{fieldName:"improvedFireNova",location:{rowIdx:3,colIdx:0},spellIds:[16086,16544],maxPoints:2},{location:{rowIdx:3,colIdx:3},spellIds:[29062,29064],maxPoints:3},{location:{rowIdx:4,colIdx:0},spellIds:[28999],maxPoints:2},{fieldName:"callOfThunder",location:{rowIdx:4,colIdx:1},prereqLocation:{rowIdx:2,colIdx:1},spellIds:[16041],maxPoints:1},{fieldName:"unrelentingStorm",location:{rowIdx:4,colIdx:3},spellIds:[30664,30665,30666],maxPoints:3},{fieldName:"elementalPrecision",location:{rowIdx:5,colIdx:0},spellIds:[30672,30673,30674],maxPoints:3},{fieldName:"lightningMastery",location:{rowIdx:5,colIdx:2},prereqLocation:{rowIdx:2,colIdx:2},spellIds:[16578],maxPoints:5},{fieldName:"elementalMastery",location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[16166],maxPoints:1},{fieldName:"stormEarthAndFire",location:{rowIdx:6,colIdx:2},spellIds:[51483,51485,51486],maxPoints:3},{fieldName:"boomingEchoes",location:{rowIdx:7,colIdx:0},spellIds:[63370,63372],maxPoints:2},{fieldName:"elementalOath",location:{rowIdx:7,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[51466,51470],maxPoints:2},{fieldName:"lightningOverload",location:{rowIdx:7,colIdx:2},spellIds:[30675,30678,30679],maxPoints:3},{location:{rowIdx:8,colIdx:0},spellIds:[51474,51478,51479],maxPoints:3},{fieldName:"totemOfWrath",location:{rowIdx:8,colIdx:1},spellIds:[30706],maxPoints:1},{fieldName:"lavaFlows",location:{rowIdx:8,colIdx:2},spellIds:[51480,51481,51482],maxPoints:3},{fieldName:"shamanism",location:{rowIdx:9,colIdx:1},spellIds:[62097],maxPoints:5},{fieldName:"thunderstorm",location:{rowIdx:10,colIdx:1},spellIds:[51490],maxPoints:1}]},{name:"Enhancement",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/263.jpg",talents:[{fieldName:"enhancingTotems",location:{rowIdx:0,colIdx:0},spellIds:[16259,16295,52456],maxPoints:3},{location:{rowIdx:0,colIdx:1},spellIds:[16043,16130],maxPoints:2},{fieldName:"ancestralKnowledge",location:{rowIdx:0,colIdx:2},spellIds:[17485],maxPoints:5},{location:{rowIdx:1,colIdx:0},spellIds:[16258,16293],maxPoints:2},{fieldName:"thunderingStrikes",location:{rowIdx:1,colIdx:1},spellIds:[16255,16302],maxPoints:5},{location:{rowIdx:1,colIdx:2},spellIds:[16262,16287],maxPoints:2},{fieldName:"improvedShields",location:{rowIdx:1,colIdx:3},spellIds:[16261,16290,51881],maxPoints:3},{fieldName:"elementalWeapons",location:{rowIdx:2,colIdx:0},spellIds:[16266,29079,29080],maxPoints:3},{fieldName:"shamanisticFocus",location:{rowIdx:2,colIdx:2},spellIds:[43338],maxPoints:1},{fieldName:"anticipation",location:{rowIdx:2,colIdx:3},spellIds:[16254,16271],maxPoints:3},{fieldName:"flurry",location:{rowIdx:3,colIdx:1},prereqLocation:{rowIdx:1,colIdx:1},spellIds:[16256,16281],maxPoints:5},{fieldName:"toughness",location:{rowIdx:3,colIdx:2},spellIds:[16252,16306],maxPoints:5},{fieldName:"improvedWindfuryTotem",location:{rowIdx:4,colIdx:0},spellIds:[29192,29193],maxPoints:2},{fieldName:"spiritWeapons",location:{rowIdx:4,colIdx:1},spellIds:[16268],maxPoints:1},{fieldName:"mentalDexterity",location:{rowIdx:4,colIdx:2},spellIds:[51883],maxPoints:3},{fieldName:"unleashedRage",location:{rowIdx:5,colIdx:0},spellIds:[30802,30808,30809],maxPoints:3},{fieldName:"weaponMastery",location:{rowIdx:5,colIdx:2},spellIds:[29082,29084,29086],maxPoints:3},{fieldName:"frozenPower",location:{rowIdx:5,colIdx:3},spellIds:[63373,63374],maxPoints:2},{fieldName:"dualWieldSpecialization",location:{rowIdx:6,colIdx:0},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[30816,30818],maxPoints:3},{location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:4,colIdx:1},spellIds:[30798],maxPoints:1},{fieldName:"stormstrike",location:{rowIdx:6,colIdx:2},spellIds:[17364],maxPoints:1},{fieldName:"staticShock",location:{rowIdx:7,colIdx:0},spellIds:[51525],maxPoints:3},{fieldName:"lavaLash",location:{rowIdx:7,colIdx:1},prereqLocation:{rowIdx:6,colIdx:1},spellIds:[60103],maxPoints:1},{fieldName:"improvedStormstrike",location:{rowIdx:7,colIdx:2},prereqLocation:{rowIdx:6,colIdx:2},spellIds:[51521,51522],maxPoints:2},{fieldName:"mentalQuickness",location:{rowIdx:8,colIdx:0},spellIds:[30812],maxPoints:3},{fieldName:"shamanisticRage",location:{rowIdx:8,colIdx:1},spellIds:[30823],maxPoints:1},{fieldName:"earthenPower",location:{rowIdx:8,colIdx:2},spellIds:[51523,51524],maxPoints:2},{fieldName:"maelstromWeapon",location:{rowIdx:9,colIdx:1},spellIds:[51528],maxPoints:5},{fieldName:"feralSpirit",location:{rowIdx:10,colIdx:1},spellIds:[51533],maxPoints:1}]},{name:"Restoration",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/classic/262.jpg",talents:[{location:{rowIdx:0,colIdx:1},spellIds:[16182,16226],maxPoints:5},{fieldName:"totemicFocus",location:{rowIdx:0,colIdx:2},spellIds:[16173,16222],maxPoints:5},{location:{rowIdx:1,colIdx:0},spellIds:[16184,16209],maxPoints:2},{location:{rowIdx:1,colIdx:1},spellIds:[29187,29189,29191],maxPoints:3},{location:{rowIdx:1,colIdx:2},spellIds:[16179,16214],maxPoints:5},{fieldName:"improvedWaterShield",location:{rowIdx:2,colIdx:0},spellIds:[16180,16196,16198],maxPoints:3},{location:{rowIdx:2,colIdx:1},spellIds:[16181,16230,16232],maxPoints:3},{location:{rowIdx:2,colIdx:2},spellIds:[55198],maxPoints:1},{location:{rowIdx:2,colIdx:3},spellIds:[16176,16235],maxPoints:3},{fieldName:"restorativeTotems",location:{rowIdx:3,colIdx:1},spellIds:[16187,16205],maxPoints:3},{fieldName:"tidalMastery",location:{rowIdx:3,colIdx:2},spellIds:[16194,16218],maxPoints:5},{location:{rowIdx:4,colIdx:0},spellIds:[29206,29205,29202],maxPoints:3},{fieldName:"naturesSwiftness",location:{rowIdx:4,colIdx:2},spellIds:[16188],maxPoints:1},{location:{rowIdx:4,colIdx:3},spellIds:[30864],maxPoints:3},{location:{rowIdx:5,colIdx:2},spellIds:[16178,16210],maxPoints:5},{location:{rowIdx:6,colIdx:0},spellIds:[30881,30883],maxPoints:5},{fieldName:"manaTideTotem",location:{rowIdx:6,colIdx:1},prereqLocation:{rowIdx:3,colIdx:1},spellIds:[16190],maxPoints:1},{location:{rowIdx:6,colIdx:2},prereqLocation:{rowIdx:5,colIdx:2},spellIds:[51886],maxPoints:1},{fieldName:"blessingOfTheEternals",location:{rowIdx:7,colIdx:0},spellIds:[51554,51555],maxPoints:2},{location:{rowIdx:7,colIdx:1},spellIds:[30872],maxPoints:2},{fieldName:"naturesBlessing",location:{rowIdx:7,colIdx:2},spellIds:[30867],maxPoints:3},{fieldName:"ancestralAwakening",location:{rowIdx:8,colIdx:0},spellIds:[51556],maxPoints:3},{location:{rowIdx:8,colIdx:1},spellIds:[974],maxPoints:1},{location:{rowIdx:8,colIdx:2},prereqLocation:{rowIdx:8,colIdx:1},spellIds:[51560],maxPoints:2},{location:{rowIdx:9,colIdx:1},spellIds:[51562],maxPoints:5},{location:{rowIdx:10,colIdx:1},spellIds:[61295],maxPoints:1}]}]),Uo={majorGlyphs:{[v.GlyphOfChainHeal]:{name:"Glyph of Chain Heal",description:"Your Chain Heal heals 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavegreater.jpg"},[v.GlyphOfChainLightning]:{name:"Glyph of Chain Lightning",description:"Your Chain Lightning strikes 1 additional target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_chainlightning.jpg"},[v.GlyphOfEarthShield]:{name:"Glyph of Earth Shield",description:"Increases the amount healed by your Earth Shield by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_skinofearth.jpg"},[v.GlyphOfEarthlivingWeapon]:{name:"Glyph of Earthliving Weapon",description:"Increases the chance for your Earthliving weapon to trigger by 5%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_earthlivingweapon.jpg"},[v.GlyphOfElementalMastery]:{name:"Glyph of Elemental Mastery",description:"Reduces the cooldown of your Elemental Mastery ability by 30 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_wispheal.jpg"},[v.GlyphOfFeralSpirit]:{name:"Glyph of Feral Spirit",description:"Your spirit wolves gain an additional 30% of your attack power.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_feralspirit.jpg"},[v.GlyphOfFireElementalTotem]:{name:"Glyph of Fire Elemental Totem",description:"Reduces the cooldown of your Fire Elemental Totem by 5 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_elemental_totem.jpg"},[v.GlyphOfFireNova]:{name:"Glyph of Fire Nova",description:"Reduces the cooldown of your Fire Nova spell by 3 seconds.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_sealoffire.jpg"},[v.GlyphOfFlameShock]:{name:"Glyph of Flame Shock",description:"Increases the critical strike damage bonus of your Flame Shock damage by 60%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_flameshock.jpg"},[v.GlyphOfFlametongueWeapon]:{name:"Glyph of Flametongue Weapon",description:"Increases your spell critical strike chance by 2% on each of your weapons with Flametongue Weapon active.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_flametounge.jpg"},[v.GlyphOfFrostShock]:{name:"Glyph of Frost Shock",description:"Increases the duration of your Frost Shock by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_frostshock.jpg"},[v.GlyphOfHealingStreamTotem]:{name:"Glyph of Healing Stream Totem",description:"Your Healing Stream Totem heals for an additional 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_spear_04.jpg"},[v.GlyphOfHealingWave]:{name:"Glyph of Healing Wave",description:"Your Healing Wave also heals you for 20% of the healing effect when you heal someone else.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_magicimmunity.jpg"},[v.GlyphOfHex]:{name:"Glyph of Hex",description:"Increases the damage your Hex target can take before the Hex effect is removed by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_hex.jpg"},[v.GlyphOfLava]:{name:"Glyph of Lava",description:"Your Lava Burst spell gains an additional 10% of your spellpower.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_lavaburst.jpg"},[v.GlyphOfLavaLash]:{name:"Glyph of Lava Lash",description:"Damage on your Lava Lash is increased by an additional 10% if your weapon is enchanted with Flametongue.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_shaman_lavalash.jpg"},[v.GlyphOfLesserHealingWave]:{name:"Glyph of Lesser Healing Wave",description:"Your Lesser Healing Wave heals for 20% more if the target is also affected by Earth Shield.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavelesser.jpg"},[v.GlyphOfLightningBolt]:{name:"Glyph of Lightning Bolt",description:"Increases the damage dealt by Lightning Bolt by 4%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightning.jpg"},[v.GlyphOfLightningShield]:{name:"Glyph of Lightning Shield",description:"Increases the damage from Lightning Shield by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_lightningshield.jpg"},[v.GlyphOfManaTide]:{name:"Glyph of Mana Tide",description:"Your Mana Tide Totem grants an additional 1% of each target's maximum mana each time it pulses.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_healingwavegreater.jpg"},[v.GlyphOfRiptide]:{name:"Glyph of Riptide",description:"Increases the duration of Riptide by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_riptide.jpg"},[v.GlyphOfShocking]:{name:"Glyph of Shocking",description:"Reduces your global cooldown when casting your shock spells by 0.5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_earthshock.jpg"},[v.GlyphOfStoneclawTotem]:{name:"Glyph of Stoneclaw Totem",description:"Your Stoneclaw Totem also places a damage absorb shield on you, equal to 4 times the strength of the shield it places on your totems.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_stoneclawtotem.jpg"},[v.GlyphOfStormstrike]:{name:"Glyph of Stormstrike",description:"Increases the Nature damage bonus from your Stormstrike ability by an additional 8%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_shaman_stormstrike.jpg"},[v.GlyphOfThunder]:{name:"Glyph of Thunder",description:"Reduces the cooldown on Thunderstorm by 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_thunderstorm.jpg"},[v.GlyphOfTotemOfWrath]:{name:"Glyph of Totem of Wrath",description:"When you cast Totem of Wrath, you gain 30% of the totem's bonus spell power for 5 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_totemofwrath.jpg"},[v.GlyphOfWaterMastery]:{name:"Glyph of Water Mastery",description:"Increases the passive mana regeneration of your Water Shield spell by 30%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_shaman_watershield.jpg"},[v.GlyphOfWindfuryWeapon]:{name:"Glyph of Windfury Weapon",description:"Increases the chance per swing for Windfury Weapon to trigger by 2%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_cyclone.jpg"}},minorGlyphs:{[E.GlyphOfAstralRecall]:{name:"Glyph of Astral Recall",description:"Cooldown of your Astral Recall spell reduced by 7.5 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_astralrecal.jpg"},[E.GlyphOfGhostWolf]:{name:"Glyph of Ghost Wolf",description:"Your Ghost Wolf form regenerates an additional 1% of your maximum health every 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_spiritwolf.jpg"},[E.GlyphOfRenewedLife]:{name:"Glyph of Renewed Life",description:"Your Reincarnation spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg"},[E.GlyphOfThunderstorm]:{name:"Glyph of Thunderstorm",description:"Increases the mana you receive from your Thunderstorm spell by 2%, but it no longer knocks enemies back.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shaman_thunderstorm.jpg"},[E.GlyphOfWaterBreathing]:{name:"Glyph of Water Breathing",description:"Your Water Breathing spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonbreath.jpg"},[E.GlyphOfWaterShield]:{name:"Glyph of Water Shield",description:"Increases the number of charges on your Water Shield spell by 1.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_shaman_watershield.jpg"},[E.GlyphOfWaterWalking]:{name:"Glyph of Water Walking",description:"Your Water Walking spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_windwalkon.jpg"}}},Mo=So([{name:"Affliction",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/302.jpg",talents:[{fieldName:"improvedCurseOfAgony",location:{rowIdx:0,colIdx:0},spellIds:[18827,18829],maxPoints:2},{fieldName:"suppression",location:{rowIdx:0,colIdx:1},spellIds:[18174,18175,18176],maxPoints:3},{fieldName:"improvedCorruption",location:{rowIdx:0,colIdx:2},spellIds:[17810,17811,17812,17813,17814],maxPoints:5},{fieldName:"improvedCurseOfWeakness",location:{rowIdx:1,colIdx:0},spellIds:[18179,18180],maxPoints:2},{fieldName:"improvedDrainSoul",location:{rowIdx:1,colIdx:1},spellIds:[18213,18372],maxPoints:2},{fieldName:"improvedLifeTap",location:{rowIdx:1,colIdx:2},spellIds:[18182,18183],maxPoints:2},{fieldName:"soulSiphon",location:{rowIdx:1,colIdx:3},spellIds:[17804,17805],maxPoints:2},{fieldName:"improvedFear",location:{rowIdx:2,colIdx:0},spellIds:[53754,53759],maxPoints:2},{fieldName:"felConcentration",location:{rowIdx:2,colIdx:1},spellIds:[17783,17784,17785],maxPoints:3},{fieldName:"amplifyCurse",location:{rowIdx:2,colIdx:2},spellIds:[18288],maxPoints:1},{fieldName:"grimReach",location:{rowIdx:3,colIdx:0},spellIds:[18218,18219],maxPoints:2},{fieldName:"nightfall",location:{rowIdx:3,colIdx:1},spellIds:[18094,18095],maxPoints:2},{fieldName:"empoweredCorruption",location:{rowIdx:3,colIdx:3},spellIds:[32381,32382,32383],maxPoints:3},{fieldName:"shadowEmbrace",location:{rowIdx:4,colIdx:0},spellIds:[32385,32387,32392,32393,32394],maxPoints:5},{fieldName:"siphonLife",location:{rowIdx:4,colIdx:1},spellIds:[63108],maxPoints:1},{fieldName:"curseOfExhaustion",location:{rowIdx:4,colIdx:2},spellIds:[18223],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"improvedFelhunter",location:{rowIdx:5,colIdx:0},spellIds:[54037,54038],maxPoints:2},{fieldName:"shadowMastery",location:{rowIdx:5,colIdx:1},spellIds:[18271,18272,18273,18274,18275],maxPoints:5,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"eradication",location:{rowIdx:6,colIdx:0},spellIds:[47195,47196,47197],maxPoints:3},{fieldName:"contagion",location:{rowIdx:6,colIdx:1},spellIds:[30060,30061,30062,30063,30064],maxPoints:5},{fieldName:"darkPact",location:{rowIdx:6,colIdx:2},spellIds:[18220],maxPoints:1},{fieldName:"improvedHowlOfTerror",location:{rowIdx:7,colIdx:0},spellIds:[30054,30057],maxPoints:2},{fieldName:"malediction",location:{rowIdx:7,colIdx:2},spellIds:[32477,32483,32484],maxPoints:3},{fieldName:"deathsEmbrace",location:{rowIdx:8,colIdx:0},spellIds:[47198,47199,47200],maxPoints:3},{fieldName:"unstableAffliction",location:{rowIdx:8,colIdx:1},spellIds:[30108],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"pandemic",location:{rowIdx:8,colIdx:2},spellIds:[58435],maxPoints:1,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"everlastingAffliction",location:{rowIdx:9,colIdx:1},spellIds:[47201,47202,47203,47204,47205],maxPoints:5},{fieldName:"haunt",location:{rowIdx:10,colIdx:1},spellIds:[48181],maxPoints:1}]},{name:"Demonology",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/303.jpg",talents:[{fieldName:"improvedHealthstone",location:{rowIdx:0,colIdx:0},spellIds:[18692,18693],maxPoints:2},{fieldName:"improvedImp",location:{rowIdx:0,colIdx:1},spellIds:[18694,18695,18696],maxPoints:3},{fieldName:"demonicEmbrace",location:{rowIdx:0,colIdx:2},spellIds:[18697,18698,18699],maxPoints:3},{fieldName:"felSynergy",location:{rowIdx:0,colIdx:3},spellIds:[47230,47231],maxPoints:2},{fieldName:"improvedHealthFunnel",location:{rowIdx:1,colIdx:0},spellIds:[18703,18704],maxPoints:2},{fieldName:"demonicBrutality",location:{rowIdx:1,colIdx:1},spellIds:[18705,18706,18707],maxPoints:3},{fieldName:"felVitality",location:{rowIdx:1,colIdx:2},spellIds:[18731,18743,18744],maxPoints:3},{fieldName:"improvedSayaad",location:{rowIdx:2,colIdx:0},spellIds:[18754,18755,18756],maxPoints:3},{fieldName:"soulLink",location:{rowIdx:2,colIdx:1},spellIds:[19028],maxPoints:1},{fieldName:"felDomination",location:{rowIdx:2,colIdx:2},spellIds:[18708],maxPoints:1},{fieldName:"demonicAegis",location:{rowIdx:2,colIdx:3},spellIds:[30143,30144,30145],maxPoints:3},{fieldName:"unholyPower",location:{rowIdx:3,colIdx:1},spellIds:[18769,18770,18771,18772,18773],maxPoints:5,prereqLocation:{rowIdx:2,colIdx:1}},{fieldName:"masterSummoner",location:{rowIdx:3,colIdx:2},spellIds:[18709,18710],maxPoints:2,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"manaFeed",location:{rowIdx:4,colIdx:0},spellIds:[30326],maxPoints:1,prereqLocation:{rowIdx:3,colIdx:1}},{fieldName:"masterConjuror",location:{rowIdx:4,colIdx:2},spellIds:[18767,18768],maxPoints:2},{fieldName:"masterDemonologist",location:{rowIdx:5,colIdx:1},spellIds:[23785,23822,23823,23824,23825],maxPoints:5,prereqLocation:{rowIdx:3,colIdx:1}},{fieldName:"moltenCore",location:{rowIdx:5,colIdx:2},spellIds:[47245,47246,47247],maxPoints:3},{fieldName:"demonicResilience",location:{rowIdx:6,colIdx:0},spellIds:[30319,30320,30321],maxPoints:3},{fieldName:"demonicEmpowerment",location:{rowIdx:6,colIdx:1},spellIds:[47193],maxPoints:1,prereqLocation:{rowIdx:5,colIdx:1}},{fieldName:"demonicKnowledge",location:{rowIdx:6,colIdx:2},spellIds:[35691,35692,35693],maxPoints:3},{fieldName:"demonicTactics",location:{rowIdx:7,colIdx:1},spellIds:[30242,30245,30246,30247,30248],maxPoints:5},{fieldName:"decimation",location:{rowIdx:7,colIdx:2},spellIds:[63156,63158],maxPoints:2},{fieldName:"improvedDemonicTactics",location:{rowIdx:8,colIdx:0},spellIds:[54347,54348,54349],maxPoints:3,prereqLocation:{rowIdx:7,colIdx:1}},{fieldName:"summonFelguard",location:{rowIdx:8,colIdx:1},spellIds:[30146],maxPoints:1},{fieldName:"nemesis",location:{rowIdx:8,colIdx:2},spellIds:[63117,63121,63123],maxPoints:3},{fieldName:"demonicPact",location:{rowIdx:9,colIdx:1},spellIds:[47236,47237,47238,47239,47240],maxPoints:5},{fieldName:"metamorphosis",location:{rowIdx:10,colIdx:1},spellIds:[59672],maxPoints:1}]},{name:"Destruction",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/301.jpg",talents:[{fieldName:"improvedShadowBolt",location:{rowIdx:0,colIdx:1},spellIds:[17793,17796,17801,17802,17803],maxPoints:5},{fieldName:"bane",location:{rowIdx:0,colIdx:2},spellIds:[17788,17789,17790,17791,17792],maxPoints:5},{fieldName:"aftermath",location:{rowIdx:1,colIdx:0},spellIds:[18119,18120],maxPoints:2},{fieldName:"moltenSkin",location:{rowIdx:1,colIdx:1},spellIds:[63349,63350,63351],maxPoints:3},{fieldName:"cataclysm",location:{rowIdx:1,colIdx:2},spellIds:[17778,17779,17780],maxPoints:3},{fieldName:"demonicPower",location:{rowIdx:2,colIdx:0},spellIds:[18126,18127],maxPoints:2},{fieldName:"shadowburn",location:{rowIdx:2,colIdx:1},spellIds:[17877],maxPoints:1},{fieldName:"ruin",location:{rowIdx:2,colIdx:2},spellIds:[17959,59738,59739,59740,59741],maxPoints:5},{fieldName:"intensity",location:{rowIdx:3,colIdx:0},spellIds:[18135,18136],maxPoints:2},{fieldName:"destructiveReach",location:{rowIdx:3,colIdx:1},spellIds:[17917,17918],maxPoints:2},{fieldName:"improvedSearingPain",location:{rowIdx:3,colIdx:3},spellIds:[17927,17929,17930],maxPoints:3},{fieldName:"backlash",location:{rowIdx:4,colIdx:0},spellIds:[34935,34938,34939],maxPoints:3,prereqLocation:{rowIdx:3,colIdx:0}},{fieldName:"improvedImmolate",location:{rowIdx:4,colIdx:1},spellIds:[17815,17833,17834],maxPoints:3},{fieldName:"devastation",location:{rowIdx:4,colIdx:2},spellIds:[18130],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"netherProtection",location:{rowIdx:5,colIdx:0},spellIds:[30299,30301,30302],maxPoints:3},{fieldName:"emberstorm",location:{rowIdx:5,colIdx:2},spellIds:[17954,17955,17956,17957,17958],maxPoints:5},{fieldName:"conflagrate",location:{rowIdx:6,colIdx:1},spellIds:[17962],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"soulLeech",location:{rowIdx:6,colIdx:2},spellIds:[30293,30295,30296],maxPoints:3},{fieldName:"pyroclasm",location:{rowIdx:6,colIdx:3},spellIds:[18096,18073,63245],maxPoints:3},{fieldName:"shadowAndFlame",location:{rowIdx:7,colIdx:1},spellIds:[30288,30289,30290,30291,30292],maxPoints:5},{fieldName:"improvedSoulLeech",location:{rowIdx:7,colIdx:2},spellIds:[54117,54118],maxPoints:2,prereqLocation:{rowIdx:6,colIdx:2}},{fieldName:"backdraft",location:{rowIdx:8,colIdx:0},spellIds:[47258,47259,47260],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"shadowfury",location:{rowIdx:8,colIdx:1},spellIds:[30283],maxPoints:1},{fieldName:"empoweredImp",location:{rowIdx:8,colIdx:2},spellIds:[47220,47221,47223],maxPoints:3},{fieldName:"fireAndBrimstone",location:{rowIdx:9,colIdx:1},spellIds:[47266,47267,47268,47269,47270],maxPoints:5},{fieldName:"chaosBolt",location:{rowIdx:10,colIdx:1},spellIds:[50796],maxPoints:1}]}]),jo={majorGlyphs:{[C.GlyphOfChaosBolt]:{name:"Glyph of Chaos Bolt",description:"Reduces the cooldown on Chaos Bolt by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warlock_chaosbolt.jpg"},[C.GlyphOfConflagrate]:{name:"Glyph of Conflagrate",description:"Your Conflagrate spell no longer consumes your Immolate or Shadowflame spell from the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_fireball.jpg"},[C.GlyphOfCorruption]:{name:"Glyph of Corruption",description:"Your Corruption spell has a 4% chance to cause you to enter a Shadow Trance state after damaging the opponent. The Shadow Trance state reduces the casting time of your next Shadow Bolt spell by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_abominationexplosion.jpg"},[C.GlyphOfCurseOfAgony]:{name:"Glyph of Curse of Agony",description:"Increases the duration of your Curse of Agony by 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_curseofsargeras.jpg"},[C.GlyphOfDeathCoil]:{name:"Glyph of Death Coil",description:"Increases the duration of your Death Coil by 0.5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg"},[C.GlyphOfDemonicCircle]:{name:"Glyph of Demonic Circle",description:"Reduces the cooldown on Demonic Circle by 4 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demoniccirclesummon.jpg"},[C.GlyphOfFear]:{name:"Glyph of Fear",description:"Increases the damage your Fear target can take before the Fear effect is removed by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_possession.jpg"},[C.GlyphOfFelguard]:{name:"Glyph of Felguard",description:"Increases the Felguard's total attack power by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonfelguard.jpg"},[C.GlyphOfFelhunter]:{name:"Glyph of Felhunter",description:"When your Felhunter uses Devour Magic, you will also be healed for that amount.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonfelhunter.jpg"},[C.GlyphOfHaunt]:{name:"Glyph of Haunt",description:"The bonus damage granted by your Haunt spell is increased by an additional 3%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warlock_haunt.jpg"},[C.GlyphOfHealthFunnel]:{name:"Glyph of Health Funnel",description:"Reduces the pushback suffered from damaging attacks while channeling your Health Funnel spell by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg"},[C.GlyphOfHealthstone]:{name:"Glyph of Healthstone",description:"You receive 30% more healing from using a healthstone.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_stone_04.jpg"},[C.GlyphOfHowlOfTerror]:{name:"Glyph of Howl of Terror",description:"Reduces the cooldown on your Howl of Terror spell by 8 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathscream.jpg"},[C.GlyphOfImmolate]:{name:"Glyph of Immolate",description:"Increases the periodic damage of your Immolate by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_immolation.jpg"},[C.GlyphOfImp]:{name:"Glyph of Imp",description:"Increases the damage done by your Imp's Firebolt spell by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonimp.jpg"},[C.GlyphOfIncinerate]:{name:"Glyph of Incinerate",description:"Increases the damage done by Incinerate by 5%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_burnout.jpg"},[C.GlyphOfLifeTap]:{name:"Glyph of Life Tap",description:"When you use Life Tap or Dark Pact, you gain 20% of your Spirit as spell power for 40 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_burningspirit.jpg"},[C.GlyphOfMetamorphosis]:{name:"Glyph of Metamorphosis",description:"Increases the duration of your Metamorphosis by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonform.jpg"},[C.GlyphOfQuickDecay]:{name:"Glyph of Quick Decay",description:"Your haste now reduces the time between periodic damage ticks of your Corruption spell.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_abominationexplosion.jpg"},[C.GlyphOfSearingPain]:{name:"Glyph of Searing Pain",description:"Increases the critical strike bonus of your Searing Pain by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_fire_soulburn.jpg"},[C.GlyphOfShadowBolt]:{name:"Glyph of Shadow Bolt",description:"Reduces the mana cost of your Shadow Bolt by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadowbolt.jpg"},[C.GlyphOfShadowburn]:{name:"Glyph of Shadowburn",description:"Increases the critical strike chance of Shadowburn by 20% when the target is below 35% health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_scourgebuild.jpg"},[C.GlyphOfShadowflame]:{name:"Glyph of Shadowflame",description:"Your Shadowflame also applies a 70% movement speed slow on its victims.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warlock_shadowflame.jpg"},[C.GlyphOfSiphonLife]:{name:"Glyph of Siphon Life",description:"Increases the healing you receive from your Siphon Life talent by 25%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_requiem.jpg"},[C.GlyphOfSoulLink]:{name:"Glyph of Soul Link",description:"Increases the percentage of damage shared via your Soul Link by an additional 5%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_gathershadows.jpg"},[C.GlyphOfSoulstone]:{name:"Glyph of Soulstone",description:"Increases the amount of health you gain from resurrecting via a Soulstone by 300%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_soulgem.jpg"},[C.GlyphOfSuccubus]:{name:"Glyph of Succubus",description:"Your Succubus's Seduction ability also removes all damage over time effects from the target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonsuccubus.jpg"},[C.GlyphOfUnstableAffliction]:{name:"Glyph of Unstable Affliction",description:"Decreases the casting time of your Unstable Affliction by 0.2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_unstableaffliction_3.jpg"},[C.GlyphOfVoidwalker]:{name:"Glyph of Voidwalker",description:"Increases your Voidwalker's total Stamina by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_summonvoidwalker.jpg"}},minorGlyphs:{[k.GlyphOfCurseOfExhausion]:{name:"Glyph of Curse of Exhausion",description:"Increases the range of your Curse of Exhaustion spell by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_grimward.jpg"},[k.GlyphOfDrainSoul]:{name:"Glyph of Drain Soul",description:"Your Drain Soul ability occasionally creates an additional soul shard.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_haunting.jpg"},[k.GlyphOfSubjugateDemon]:{name:"Glyph of Subjugate Demon",description:"Reduces the cast time of your Subjugate Demon spell by 50%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_enslavedemon.jpg"},[k.GlyphOfKilrogg]:{name:"Glyph of Kilrogg",description:"Increases the movement speed of your Eye of Kilrogg by 50% and allows it to fly in areas where flying mounts are enabled.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_evileye.jpg"},[k.GlyphOfSouls]:{name:"Glyph of Souls",description:"Reduces the mana cost of your Ritual of Souls spell by 70%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_shadesofdarkness.jpg"},[k.GlyphOfUnendingBreath]:{name:"Glyph of Unending Breath",description:"Increases the swim speed of targets affected by your Unending Breath spell by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_demonbreath.jpg"}}},Fo=So([{name:"Arms",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/161.jpg",talents:[{fieldName:"improvedHeroicStrike",location:{rowIdx:0,colIdx:0},spellIds:[12282,12663,12664],maxPoints:3},{fieldName:"deflection",location:{rowIdx:0,colIdx:1},spellIds:[16462,16463,16464,16465,16466],maxPoints:5},{fieldName:"improvedRend",location:{rowIdx:0,colIdx:2},spellIds:[12286,12658],maxPoints:2},{fieldName:"improvedCharge",location:{rowIdx:1,colIdx:0},spellIds:[12285,12697],maxPoints:2},{fieldName:"ironWill",location:{rowIdx:1,colIdx:1},spellIds:[12300,12959,12960],maxPoints:3},{fieldName:"tacticalMastery",location:{rowIdx:1,colIdx:2},spellIds:[12295,12676,12677],maxPoints:3},{fieldName:"improvedOverpower",location:{rowIdx:2,colIdx:0},spellIds:[12290,12963],maxPoints:2},{fieldName:"angerManagement",location:{rowIdx:2,colIdx:1},spellIds:[12296],maxPoints:1},{fieldName:"impale",location:{rowIdx:2,colIdx:2},spellIds:[16493,16494],maxPoints:2},{fieldName:"deepWounds",location:{rowIdx:2,colIdx:3},spellIds:[12834,12849,12867],maxPoints:3,prereqLocation:{rowIdx:2,colIdx:2}},{fieldName:"twoHandedWeaponSpecialization",location:{rowIdx:3,colIdx:1},spellIds:[12163,12711,12712],maxPoints:3},{fieldName:"tasteForBlood",location:{rowIdx:3,colIdx:2},spellIds:[56636,56637,56638],maxPoints:3},{fieldName:"poleaxeSpecialization",location:{rowIdx:4,colIdx:0},spellIds:[12700,12781,12783,12784,12785],maxPoints:5},{fieldName:"sweepingStrikes",location:{rowIdx:4,colIdx:1},spellIds:[12328],maxPoints:1},{fieldName:"maceSpecialization",location:{rowIdx:4,colIdx:2},spellIds:[12284,12701,12702,12703,12704],maxPoints:5},{fieldName:"swordSpecialization",location:{rowIdx:4,colIdx:3},spellIds:[12281,12812,12813,12814,12815],maxPoints:5},{fieldName:"weaponMastery",location:{rowIdx:5,colIdx:0},spellIds:[20504,20505],maxPoints:2},{fieldName:"improvedHamstring",location:{rowIdx:5,colIdx:2},spellIds:[12289,12668,23695],maxPoints:3},{fieldName:"trauma",location:{rowIdx:5,colIdx:3},spellIds:[46854,46855],maxPoints:2},{fieldName:"secondWind",location:{rowIdx:6,colIdx:0},spellIds:[29834,29838],maxPoints:2},{fieldName:"mortalStrike",location:{rowIdx:6,colIdx:1},spellIds:[12294],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"strengthOfArms",location:{rowIdx:6,colIdx:2},spellIds:[46865,46866],maxPoints:2},{fieldName:"improvedSlam",location:{rowIdx:6,colIdx:3},spellIds:[12862,12330],maxPoints:2},{fieldName:"juggernaut",location:{rowIdx:7,colIdx:0},spellIds:[64976],maxPoints:1},{fieldName:"improvedMortalStrike",location:{rowIdx:7,colIdx:1},spellIds:[35446,35448,35449],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"unrelentingAssault",location:{rowIdx:7,colIdx:2},spellIds:[46859,46860],maxPoints:2},{fieldName:"suddenDeath",location:{rowIdx:8,colIdx:0},spellIds:[29723,29724,29725],maxPoints:3},{fieldName:"endlessRage",location:{rowIdx:8,colIdx:1},spellIds:[29623],maxPoints:1},{fieldName:"bloodFrenzy",location:{rowIdx:8,colIdx:2},spellIds:[29836,29859],maxPoints:2},{fieldName:"wreckingCrew",location:{rowIdx:9,colIdx:1},spellIds:[46867,56611,56612,56613,56614],maxPoints:5},{fieldName:"bladestorm",location:{rowIdx:10,colIdx:1},spellIds:[46924],maxPoints:1}]},{name:"Fury",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/164.jpg",talents:[{fieldName:"armoredToTheTeeth",location:{rowIdx:0,colIdx:0},spellIds:[61216,61221,61222],maxPoints:3},{fieldName:"boomingVoice",location:{rowIdx:0,colIdx:1},spellIds:[12321,12835],maxPoints:2},{fieldName:"cruelty",location:{rowIdx:0,colIdx:2},spellIds:[12320,12852,12853,12855,12856],maxPoints:5},{fieldName:"improvedDemoralizingShout",location:{rowIdx:1,colIdx:1},spellIds:[12324,12876,12877,12878,12879],maxPoints:5},{fieldName:"unbridledWrath",location:{rowIdx:1,colIdx:2},spellIds:[12322,12999,13e3,13001,13002],maxPoints:5},{fieldName:"improvedCleave",location:{rowIdx:2,colIdx:0},spellIds:[12329,12950,20496],maxPoints:3},{fieldName:"piercingHowl",location:{rowIdx:2,colIdx:1},spellIds:[12323],maxPoints:1},{fieldName:"bloodCraze",location:{rowIdx:2,colIdx:2},spellIds:[16487,16489,16492],maxPoints:3},{fieldName:"commandingPresence",location:{rowIdx:2,colIdx:3},spellIds:[12318,12857,12858,12860,12861],maxPoints:5},{fieldName:"dualWieldSpecialization",location:{rowIdx:3,colIdx:0},spellIds:[23584,23585,23586,23587,23588],maxPoints:5},{fieldName:"improvedExecute",location:{rowIdx:3,colIdx:1},spellIds:[20502,20503],maxPoints:2},{fieldName:"enrage",location:{rowIdx:3,colIdx:2},spellIds:[12317,13045,13046,13047,13048],maxPoints:5},{fieldName:"precision",location:{rowIdx:4,colIdx:0},spellIds:[29590,29591,29592],maxPoints:3},{fieldName:"deathWish",location:{rowIdx:4,colIdx:1},spellIds:[12292],maxPoints:1},{fieldName:"improvedIntercept",location:{rowIdx:4,colIdx:2},spellIds:[29888,29889],maxPoints:2},{fieldName:"improvedBerserkerRage",location:{rowIdx:5,colIdx:0},spellIds:[20500,20501],maxPoints:2},{fieldName:"flurry",location:{rowIdx:5,colIdx:2},spellIds:[12319,12971,12972,12973,12974],maxPoints:5},{fieldName:"intensifyRage",location:{rowIdx:6,colIdx:0},spellIds:[46908,46909,56924],maxPoints:3},{fieldName:"bloodthirst",location:{rowIdx:6,colIdx:1},spellIds:[23881],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"improvedWhirlwind",location:{rowIdx:6,colIdx:3},spellIds:[29721,29776],maxPoints:2},{fieldName:"furiousAttacks",location:{rowIdx:7,colIdx:0},spellIds:[46910,46911],maxPoints:2},{fieldName:"improvedBerserkerStance",location:{rowIdx:7,colIdx:3},spellIds:[29759,29760,29761,29762,29763],maxPoints:5},{fieldName:"heroicFury",location:{rowIdx:8,colIdx:0},spellIds:[60970],maxPoints:1},{fieldName:"rampage",location:{rowIdx:8,colIdx:1},spellIds:[29801],maxPoints:1,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"bloodsurge",location:{rowIdx:8,colIdx:2},spellIds:[46913,46914,46915],maxPoints:3,prereqLocation:{rowIdx:6,colIdx:1}},{fieldName:"unendingFury",location:{rowIdx:9,colIdx:1},spellIds:[56927,56929,56930,56931,56932],maxPoints:5},{fieldName:"titansGrip",location:{rowIdx:10,colIdx:1},spellIds:[46917],maxPoints:1}]},{name:"Protection",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/163.jpg",talents:[{fieldName:"improvedBloodrage",location:{rowIdx:0,colIdx:0},spellIds:[12301,12818],maxPoints:2},{fieldName:"shieldSpecialization",location:{rowIdx:0,colIdx:1},spellIds:[12298,12724,12725,12726,12727],maxPoints:5},{fieldName:"improvedThunderClap",location:{rowIdx:0,colIdx:2},spellIds:[12287,12665,12666],maxPoints:3},{fieldName:"incite",location:{rowIdx:1,colIdx:1},spellIds:[50685,50686,50687],maxPoints:3},{fieldName:"anticipation",location:{rowIdx:1,colIdx:2},spellIds:[55129,12750,12751,12752,12753],maxPoints:5},{fieldName:"lastStand",location:{rowIdx:2,colIdx:0},spellIds:[12975],maxPoints:1},{fieldName:"improvedRevenge",location:{rowIdx:2,colIdx:1},spellIds:[12797,12799],maxPoints:2},{fieldName:"shieldMastery",location:{rowIdx:2,colIdx:2},spellIds:[29598,29599],maxPoints:2},{fieldName:"toughness",location:{rowIdx:2,colIdx:3},spellIds:[12299,12761,12762,12763,12764],maxPoints:5},{fieldName:"improvedSpellReflection",location:{rowIdx:3,colIdx:0},spellIds:[59088,59089],maxPoints:2},{fieldName:"improvedDisarm",location:{rowIdx:3,colIdx:1},spellIds:[12313,12804],maxPoints:2},{fieldName:"puncture",location:{rowIdx:3,colIdx:2},spellIds:[12308,12810,12811],maxPoints:3},{fieldName:"improvedDisciplines",location:{rowIdx:4,colIdx:0},spellIds:[12312,12803],maxPoints:2},{fieldName:"concussionBlow",location:{rowIdx:4,colIdx:1},spellIds:[12809],maxPoints:1},{fieldName:"gagOrder",location:{rowIdx:4,colIdx:2},spellIds:[12311,12958],maxPoints:2},{fieldName:"oneHandedWeaponSpecialization",location:{rowIdx:5,colIdx:2},spellIds:[16538,16539,16540,16541,16542],maxPoints:5},{fieldName:"improvedDefensiveStance",location:{rowIdx:6,colIdx:0},spellIds:[29593,29594],maxPoints:2},{fieldName:"vigilance",location:{rowIdx:6,colIdx:1},spellIds:[50720],maxPoints:1,prereqLocation:{rowIdx:4,colIdx:1}},{fieldName:"focusedRage",location:{rowIdx:6,colIdx:2},spellIds:[29787,29790,29792],maxPoints:3},{fieldName:"vitality",location:{rowIdx:7,colIdx:1},spellIds:[29140,29143,29144],maxPoints:3},{fieldName:"safeguard",location:{rowIdx:7,colIdx:2},spellIds:[46945,46949],maxPoints:2},{fieldName:"warbringer",location:{rowIdx:8,colIdx:0},spellIds:[57499],maxPoints:1},{fieldName:"devastate",location:{rowIdx:8,colIdx:1},spellIds:[20243],maxPoints:1},{fieldName:"criticalBlock",location:{rowIdx:8,colIdx:2},spellIds:[47294,47295,47296],maxPoints:3},{fieldName:"swordAndBoard",location:{rowIdx:9,colIdx:1},spellIds:[46951,46952,46953],maxPoints:3,prereqLocation:{rowIdx:8,colIdx:1}},{fieldName:"damageShield",location:{rowIdx:9,colIdx:2},spellIds:[58872,58874],maxPoints:2},{fieldName:"shockwave",location:{rowIdx:10,colIdx:1},spellIds:[46968],maxPoints:1}]}]),Wo={majorGlyphs:{[N.GlyphOfBarbaricInsults]:{name:"Glyph of Barbaric Insults",description:"Your Mocking Blow ability generates 100% additional threat.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg"},[N.GlyphOfBladestorm]:{name:"Glyph of Bladestorm",description:"Reduces the cooldown on Bladestorm by 15 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_bladestorm.jpg"},[N.GlyphOfBlocking]:{name:"Glyph of Blocking",description:"Increases your block value by 10% for 10 sec after using your Shield Slam ability.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_shield_05.jpg"},[N.GlyphOfBloodthirst]:{name:"Glyph of Bloodthirst",description:"Increases the healing you receive from your Bloodthirst ability by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_bloodlust.jpg"},[N.GlyphOfCleaving]:{name:"Glyph of Cleaving",description:"Increases the number of targets your Cleave hits by 1.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_cleave.jpg"},[N.GlyphOfDevastate]:{name:"Glyph of Devastate",description:"Your Devastate ability now applies two stacks of Sunder Armor.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_sword_11.jpg"},[N.GlyphOfEnragedRegeneration]:{name:"Glyph of Enraged Regeneration",description:"Your Enraged Regeneration ability heals for an additional 10% of your health over its duration.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_focusedrage.jpg"},[N.GlyphOfExecution]:{name:"Glyph of Execution",description:"Your Execute ability deals damage as if you had 10 additional rage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_sword_48.jpg"},[N.GlyphOfHamstring]:{name:"Glyph of Hamstring",description:"Gives your Hamstring ability a 10% chance to immobilize the target for 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_shockwave.jpg"},[N.GlyphOfHeroicStrike]:{name:"Glyph of Heroic Strike",description:"You gain 10 rage when you critically strike with your Heroic Strike ability.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_ambush.jpg"},[N.GlyphOfIntervene]:{name:"Glyph of Intervene",description:"Increases the number attacks you intercept for your Intervene target by 1.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_victoryrush.jpg"},[N.GlyphOfLastStand]:{name:"Glyph of Last Stand",description:"Reduces the cooldown of your Last Stand ability by 1 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_holy_ashestoashes.jpg"},[N.GlyphOfMortalStrike]:{name:"Glyph of Mortal Strike",description:"Increases the damage of your Mortal Strike ability by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_savageblow.jpg"},[N.GlyphOfOverpower]:{name:"Glyph of Overpower",description:"Adds a 100% chance to enable your Overpower when your attacks are parried.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_meleedamage.jpg"},[N.GlyphOfRapidCharge]:{name:"Glyph of Rapid Charge",description:"Reduces the cooldown of your Charge ability by 7%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_charge.jpg"},[N.GlyphOfRending]:{name:"Glyph of Rending",description:"Increases the duration of your Rend ability by 6 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_gouge.jpg"},[N.GlyphOfResonatingPower]:{name:"Glyph of Resonating Power",description:"Reduces the rage cost of your Thunder Clap ability by 5.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_thunderclap.jpg"},[N.GlyphOfRevenge]:{name:"Glyph of Revenge",description:"After using Revenge, your next Heroic Strike costs no rage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_revenge.jpg"},[N.GlyphOfShieldWall]:{name:"Glyph of Shield Wall",description:"Reduces the cooldown on Shield Wall by 2 min, but Shield Wall now only reduces damage taken by 40%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shieldwall.jpg"},[N.GlyphOfShockwave]:{name:"Glyph of Shockwave",description:"Reduces the cooldown on Shockwave by 3 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shockwave.jpg"},[N.GlyphOfSpellReflection]:{name:"Glyph of Spell Reflection",description:"Reduces the cooldown on Spell Reflection by 1 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_shieldreflection.jpg"},[N.GlyphOfSunderArmor]:{name:"Glyph of Sunder Armor",description:"Your Sunder Armor ability affects a second nearby target.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_sunder.jpg"},[N.GlyphOfSweepingStrikes]:{name:"Glyph of Sweeping Strikes",description:"Reduces the rage cost of your Sweeping Strikes ability by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_rogue_slicedice.jpg"},[N.GlyphOfTaunt]:{name:"Glyph of Taunt",description:"Increases the chance for your Taunt ability to succeed by 8%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_reincarnation.jpg"},[N.GlyphOfVictoryRush]:{name:"Glyph of Victory Rush",description:"Your Victory Rush ability has a 30% increased critical strike chance.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_devastate.jpg"},[N.GlyphOfVigilance]:{name:"Glyph of Vigilance",description:"Your Vigilance ability transfers an additional 5% of your target's threat to you.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_vigilance.jpg"},[N.GlyphOfWhirlwind]:{name:"Glyph of Whirlwind",description:"Reduces the cooldown of your Whirlwind by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_whirlwind.jpg"}},minorGlyphs:{[G.GlyphOfBattle]:{name:"Glyph of Battle",description:"Increases the duration of your Battle Shout ability by 2 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_battleshout.jpg"},[G.GlyphOfBloodrage]:{name:"Glyph of Bloodrage",description:"Reduces the health cost of your Bloodrage ability by 100%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_racial_bloodrage.jpg"},[G.GlyphOfCharge]:{name:"Glyph of Charge",description:"Increases the range of your Charge ability by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_charge.jpg"},[G.GlyphOfCommand]:{name:"Glyph of Command",description:"Increases the duration of your Commanding Shout ability by 2 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_rallyingcry.jpg"},[G.GlyphOfEnduringVictory]:{name:"Glyph of Enduring Victory",description:"Increases the window of opportunity in which you can use Victory Rush by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_devastate.jpg"},[G.GlyphOfMockingBlow]:{name:"Glyph of Mocking Blow",description:"Increases the damage of your Mocking Blow ability by 25%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_warrior_punishingblow.jpg"},[G.GlyphOfThunderClap]:{name:"Glyph of Thunder Clap",description:"Increases the radius of your Thunder Clap ability by 2 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_thunderclap.jpg"}}},Bo=So([{name:"Blood",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/398.jpg",talents:[{fieldName:"butchery",location:{rowIdx:0,colIdx:0},spellIds:[48979,49483],maxPoints:2},{fieldName:"subversion",location:{rowIdx:0,colIdx:1},spellIds:[48997,49490,49491],maxPoints:3},{fieldName:"bladeBarrier",location:{rowIdx:0,colIdx:2},spellIds:[49182,49500,49501,55225,55226],maxPoints:5},{fieldName:"bladedArmor",location:{rowIdx:1,colIdx:0},spellIds:[48978,49390,49391,49392,49393],maxPoints:5},{fieldName:"scentOfBlood",location:{rowIdx:1,colIdx:1},spellIds:[49004,49508,49509],maxPoints:3},{fieldName:"twoHandedWeaponSpecialization",location:{rowIdx:1,colIdx:2},spellIds:[55107,55108],maxPoints:2},{fieldName:"runeTap",location:{rowIdx:2,colIdx:0},spellIds:[48982],maxPoints:1},{fieldName:"darkConviction",location:{rowIdx:2,colIdx:1},spellIds:[48987,49477,49478,49479,49480],maxPoints:5},{fieldName:"deathRuneMastery",location:{rowIdx:2,colIdx:2},spellIds:[49467,50033,50034],maxPoints:3},{fieldName:"improvedRuneTap",location:{rowIdx:3,colIdx:0},spellIds:[48985,49488,49489],maxPoints:3,prereqLocation:{rowIdx:2,colIdx:0}},{fieldName:"spellDeflection",location:{rowIdx:3,colIdx:2},spellIds:[49145,49495,49497],maxPoints:3},{fieldName:"vendetta",location:{rowIdx:3,colIdx:3},spellIds:[49015,50154,55136],maxPoints:3},{fieldName:"bloodyStrikes",location:{rowIdx:4,colIdx:0},spellIds:[48977,49394,49395],maxPoints:3},{fieldName:"veteranOfTheThirdWar",location:{rowIdx:4,colIdx:2},spellIds:[49006,49526,50029],maxPoints:3},{fieldName:"markOfBlood",location:{rowIdx:4,colIdx:3},spellIds:[49005],maxPoints:1},{fieldName:"bloodyVengeance",location:{rowIdx:5,colIdx:1},spellIds:[48988,49503,49504],maxPoints:3,prereqLocation:{rowIdx:2,colIdx:1}},{fieldName:"abominationsMight",location:{rowIdx:5,colIdx:2},spellIds:[53137,53138],maxPoints:2},{fieldName:"bloodworms",location:{rowIdx:6,colIdx:0},spellIds:[49027,49542,49543],maxPoints:3},{fieldName:"hysteria",location:{rowIdx:6,colIdx:1},spellIds:[49016],maxPoints:1},{fieldName:"improvedBloodPresence",location:{rowIdx:6,colIdx:2},spellIds:[50365,50371],maxPoints:2},{fieldName:"improvedDeathStrike",location:{rowIdx:7,colIdx:0},spellIds:[62905,62908],maxPoints:2},{fieldName:"suddenDoom",location:{rowIdx:7,colIdx:1},spellIds:[49018,49529,49530],maxPoints:3},{fieldName:"vampiricBlood",location:{rowIdx:7,colIdx:2},spellIds:[55233],maxPoints:1},{fieldName:"willOfTheNecropolis",location:{rowIdx:8,colIdx:0},spellIds:[49189,50149,50150],maxPoints:3},{fieldName:"heartStrike",location:{rowIdx:8,colIdx:1},spellIds:[55050],maxPoints:1},{fieldName:"mightOfMograine",location:{rowIdx:8,colIdx:2},spellIds:[49023,49533,49534],maxPoints:3},{fieldName:"bloodGorged",location:{rowIdx:9,colIdx:1},spellIds:[61154,61155,61156,61157,61158],maxPoints:5},{fieldName:"dancingRuneWeapon",location:{rowIdx:10,colIdx:1},spellIds:[49028],maxPoints:1}]},{name:"Frost",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/399.jpg",talents:[{fieldName:"improvedIcyTouch",location:{rowIdx:0,colIdx:0},spellIds:[49175,50031,51456],maxPoints:3},{fieldName:"runicPowerMastery",location:{rowIdx:0,colIdx:1},spellIds:[49455,50147],maxPoints:2},{fieldName:"toughness",location:{rowIdx:0,colIdx:2},spellIds:[49042,49786,49787,49788,49789],maxPoints:5},{fieldName:"icyReach",location:{rowIdx:1,colIdx:1},spellIds:[55061,55062],maxPoints:2},{fieldName:"blackIce",location:{rowIdx:1,colIdx:2},spellIds:[49140,49661,49662,49663,49664],maxPoints:5},{fieldName:"nervesOfColdSteel",location:{rowIdx:1,colIdx:3},spellIds:[49226,50137,50138],maxPoints:3},{fieldName:"icyTalons",location:{rowIdx:2,colIdx:0},spellIds:[50880,50884,50885,50886,50887],maxPoints:5,prereqLocation:{rowIdx:0,colIdx:0}},{fieldName:"lichborne",location:{rowIdx:2,colIdx:1},spellIds:[49039],maxPoints:1},{fieldName:"annihilation",location:{rowIdx:2,colIdx:2},spellIds:[51468,51472,51473],maxPoints:3},{fieldName:"killingMachine",location:{rowIdx:3,colIdx:1},spellIds:[51123,51127,51128,51129,51130],maxPoints:5},{fieldName:"chillOfTheGrave",location:{rowIdx:3,colIdx:2},spellIds:[49149,50115],maxPoints:2},{fieldName:"endlessWinter",location:{rowIdx:3,colIdx:3},spellIds:[49137,49657],maxPoints:2},{fieldName:"frigidDreadplate",location:{rowIdx:4,colIdx:1},spellIds:[49186,51108,51109],maxPoints:3},{fieldName:"glacierRot",location:{rowIdx:4,colIdx:2},spellIds:[49471,49790,49791],maxPoints:3},{fieldName:"deathchill",location:{rowIdx:4,colIdx:3},spellIds:[49796],maxPoints:1},{fieldName:"improvedIcyTalons",location:{rowIdx:5,colIdx:0},spellIds:[55610],maxPoints:1,prereqLocation:{rowIdx:2,colIdx:0}},{fieldName:"mercilessCombat",location:{rowIdx:5,colIdx:1},spellIds:[49024,49538],maxPoints:2},{fieldName:"rime",location:{rowIdx:5,colIdx:2},spellIds:[49188,56822,59057],maxPoints:3},{fieldName:"chilblains",location:{rowIdx:6,colIdx:0},spellIds:[50040,50041,50043],maxPoints:3},{fieldName:"hungeringCold",location:{rowIdx:6,colIdx:1},spellIds:[49203],maxPoints:1},{fieldName:"improvedFrostPresence",location:{rowIdx:6,colIdx:2},spellIds:[50384,50385],maxPoints:2},{fieldName:"threatOfThassarian",location:{rowIdx:7,colIdx:0},spellIds:[65661,66191,66192],maxPoints:3},{fieldName:"bloodOfTheNorth",location:{rowIdx:7,colIdx:1},spellIds:[54639,54638,54637],maxPoints:3},{fieldName:"unbreakableArmor",location:{rowIdx:7,colIdx:2},spellIds:[51271],maxPoints:1},{fieldName:"acclimation",location:{rowIdx:8,colIdx:0},spellIds:[49200,50151,50152],maxPoints:3},{fieldName:"frostStrike",location:{rowIdx:8,colIdx:1},spellIds:[49143],maxPoints:1},{fieldName:"guileOfGorefiend",location:{rowIdx:8,colIdx:2},spellIds:[50187,50190,50191],maxPoints:3},{fieldName:"tundraStalker",location:{rowIdx:9,colIdx:1},spellIds:[49202,50127,50128,50129,50130],maxPoints:5},{fieldName:"howlingBlast",location:{rowIdx:10,colIdx:1},spellIds:[49184],maxPoints:1}]},{name:"Unholy",backgroundUrl:"https://wow.zamimg.com/images/wow/talents/backgrounds/wrath/400.jpg",talents:[{fieldName:"viciousStrikes",location:{rowIdx:0,colIdx:0},spellIds:[51745,51746],maxPoints:2},{fieldName:"virulence",location:{rowIdx:0,colIdx:1},spellIds:[48962,49567,49568],maxPoints:3},{fieldName:"anticipation",location:{rowIdx:0,colIdx:2},spellIds:[55129,55130,55131,55132,55133],maxPoints:5},{fieldName:"epidemic",location:{rowIdx:1,colIdx:0},spellIds:[49036,49562],maxPoints:2},{fieldName:"morbidity",location:{rowIdx:1,colIdx:1},spellIds:[48963,49564,49565],maxPoints:3},{fieldName:"unholyCommand",location:{rowIdx:1,colIdx:2},spellIds:[49588,49589],maxPoints:2},{fieldName:"ravenousDead",location:{rowIdx:1,colIdx:3},spellIds:[48965,49571,49572],maxPoints:3},{fieldName:"outbreak",location:{rowIdx:2,colIdx:0},spellIds:[49013,55236,55237],maxPoints:3},{fieldName:"necrosis",location:{rowIdx:2,colIdx:1},spellIds:[51459,51462,51463,51464,51465],maxPoints:5},{fieldName:"corpseExplosion",location:{rowIdx:2,colIdx:2},spellIds:[49158],maxPoints:1},{fieldName:"onAPaleHorse",location:{rowIdx:3,colIdx:1},spellIds:[49146,51267],maxPoints:2},{fieldName:"bloodCakedBlade",location:{rowIdx:3,colIdx:2},spellIds:[49219,49627,49628],maxPoints:3},{fieldName:"nightOfTheDead",location:{rowIdx:3,colIdx:3},spellIds:[55620,55623],maxPoints:2},{fieldName:"unholyBlight",location:{rowIdx:4,colIdx:0},spellIds:[49194],maxPoints:1},{fieldName:"impurity",location:{rowIdx:4,colIdx:1},spellIds:[49220,49633,49635,49636,49638],maxPoints:5},{fieldName:"dirge",location:{rowIdx:4,colIdx:2},spellIds:[49223,49599],maxPoints:2},{fieldName:"desecration",location:{rowIdx:5,colIdx:0},spellIds:[55666,55667],maxPoints:2},{fieldName:"magicSuppression",location:{rowIdx:5,colIdx:1},spellIds:[49224,49610,49611],maxPoints:3},{fieldName:"reaping",location:{rowIdx:5,colIdx:2},spellIds:[49208,56834,56835],maxPoints:3},{fieldName:"masterOfGhouls",location:{rowIdx:5,colIdx:3},spellIds:[52143],maxPoints:1,prereqLocation:{rowIdx:3,colIdx:3}},{fieldName:"desolation",location:{rowIdx:6,colIdx:0},spellIds:[66799,66814,66815,66816,66817],maxPoints:5},{fieldName:"antiMagicZone",location:{rowIdx:6,colIdx:1},spellIds:[51052],maxPoints:1,prereqLocation:{rowIdx:5,colIdx:1}},{fieldName:"improvedUnholyPresence",location:{rowIdx:6,colIdx:2},spellIds:[50391,50392],maxPoints:2},{fieldName:"ghoulFrenzy",location:{rowIdx:6,colIdx:3},spellIds:[63560],maxPoints:1,prereqLocation:{rowIdx:5,colIdx:3}},{fieldName:"cryptFever",location:{rowIdx:7,colIdx:1},spellIds:[49032,49631,49632],maxPoints:3},{fieldName:"boneShield",location:{rowIdx:7,colIdx:2},spellIds:[49222],maxPoints:1},{fieldName:"wanderingPlague",location:{rowIdx:8,colIdx:0},spellIds:[49217,49654,49655],maxPoints:3},{fieldName:"ebonPlaguebringer",location:{rowIdx:8,colIdx:1},spellIds:[51099,51160,51161],maxPoints:3,prereqLocation:{rowIdx:7,colIdx:1}},{fieldName:"scourgeStrike",location:{rowIdx:8,colIdx:2},spellIds:[55090],maxPoints:1},{fieldName:"rageOfRivendare",location:{rowIdx:9,colIdx:1},spellIds:[50117,50118,50119,50120,50121],maxPoints:5},{fieldName:"summonGargoyle",location:{rowIdx:10,colIdx:1},spellIds:[49206],maxPoints:1}]}]),Ao={majorGlyphs:{[T.GlyphOfAntiMagicShell]:{name:"Glyph of Anti-Magic Shell",description:"Increases the duration of your Anti-Magic Shell by 2 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_antimagicshell.jpg"},[T.GlyphOfBloodStrike]:{name:"Glyph of Blood Strike",description:"Your Blood Strike causes an additional 20% damage to snared targets.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_deathstrike.jpg"},[T.GlyphOfBoneShield]:{name:"Glyph of Bone Shield",description:"Adds 1 additional charge to your Bone Shield.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_chest_leather_13.jpg"},[T.GlyphOfChainsOfIce]:{name:"Glyph of Chains of Ice",description:"Your Chains of Ice also causes 144 to 156 Frost damage, increased by your attack power.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_chainsofice.jpg"},[T.GlyphOfDancingRuneWeapon]:{name:"Glyph of Dancing Rune Weapon",description:"Increases the duration of Dancing Rune Weapon by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_sword_07.jpg"},[T.GlyphOfDarkCommand]:{name:"Glyph of Dark Command",description:"Increases the chance for your Dark Command ability to work successfully by 8%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_nature_shamanrage.jpg"},[T.GlyphOfDarkDeath]:{name:"Glyph of Dark Death",description:"Increases the damage or healing done by Death Coil by 15%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg"},[T.GlyphOfDeathAndDecay]:{name:"Glyph of Death and Decay",description:"Damage of your Death and Decay spell increased by 20%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathanddecay.jpg"},[T.GlyphOfDeathGrip]:{name:"Glyph of Death Grip",description:"When you deal a killing blow that grants honor or experience, the cooldown of your Death Grip is refreshed.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_strangulate.jpg"},[T.GlyphOfDeathStrike]:{name:"Glyph of Death Strike",description:"Increases your Death Strike's damage by 1% for every 1 runic power you currently have (up to a maximum of 25%). The runic power is not consumed by this effect.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_butcher2.jpg"},[T.GlyphOfDisease]:{name:"Glyph of Disease",description:"Your Pestilence ability now refreshes disease durations and secondary effects of diseases on your primary target back to their maximum duration.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_plaguecloud.jpg"},[T.GlyphOfFrostStrike]:{name:"Glyph of Frost Strike",description:"Reduces the cost of your Frost Strike by 8 Runic Power.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_empowerruneblade2.jpg"},[T.GlyphOfHeartStrike]:{name:"Glyph of Heart Strike",description:"Your Heart Strike also reduces the movement speed of your target by 50% for 10 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_weapon_shortblade_40.jpg"},[T.GlyphOfHowlingBlast]:{name:"Glyph of Howling Blast",description:"Your Howling Blast ability now infects your targets with Frost Fever.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_frost_arcticwinds.jpg"},[T.GlyphOfHungeringCold]:{name:"Glyph of Hungering Cold",description:"Reduces the cost of Hungering Cold by 40 runic power.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_staff_15.jpg"},[T.GlyphOfIceboundFortitude]:{name:"Glyph of Icebound Fortitude",description:"Your Icebound Fortitude now always grants at least 40% damage reduction, regardless of your defense skill.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_iceboundfortitude.jpg"},[T.GlyphOfIcyTouch]:{name:"Glyph of Icy Touch",description:"Your Frost Fever disease deals 20% additional damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_icetouch.jpg"},[T.GlyphOfObliterate]:{name:"Glyph of Obliterate",description:"Increases the damage of your Obliterate ability by 25%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_classicon.jpg"},[T.GlyphOfPlagueStrike]:{name:"Glyph of Plague Strike",description:"Your Plague Strike does 20% additional damage.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_empowerruneblade.jpg"},[T.GlyphOfRuneStrike]:{name:"Glyph of Rune Strike",description:"Increases the critical strike chance of your Rune Strike by 10%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_darkconviction.jpg"},[T.GlyphOfRuneTap]:{name:"Glyph of Rune Tap",description:"Your Rune Tap now heals you for an additional 1% of your maximum health, and also heals your party for 10% of their maximum health.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_runetap.jpg"},[T.GlyphOfScourgeStrike]:{name:"Glyph of Scourge Strike",description:"Your Scourge Strike increases the duration of your diseases on the target by 3 sec, up to a maximum of 9 additional seconds.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_scourgestrike.jpg"},[T.GlyphOfStrangulate]:{name:"Glyph of Strangulate",description:"Reduces the cooldown of your Strangulate by 20 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_soulleech_3.jpg"},[T.GlyphOfTheGhoul]:{name:"Glyph of the Ghoul",description:"Your Ghoul receives an additional 40% of your Strength and 40% of your Stamina.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_animatedead.jpg"},[T.GlyphOfUnbreakableArmor]:{name:"Glyph of Unbreakable Armor",description:"Increases the total armor granted by Unbreakable Armor to 30%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_armor_helm_plate_naxxramas_raidwarrior_c_01.jpg"},[T.GlyphOfUnholyBlight]:{name:"Glyph of Unholy Blight",description:"Increases the damage done by Unholy Blight by 40%.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_contagion.jpg"},[T.GlyphOfVampiricBlood]:{name:"Glyph of Vampiric Blood",description:"Increases the duration of your Vampiric Blood by 5 sec.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_lifedrain.jpg"}},minorGlyphs:{[O.GlyphOfBloodTap]:{name:"Glyph of Blood Tap",description:"Your Blood Tap no longer causes damage to you.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_deathknight_bloodtap.jpg"},[O.GlyphOfCorpseExplosion]:{name:"Glyph of Corpse Explosion",description:"Increases the radius of effect on Corpse Explosion by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/ability_creature_disease_02.jpg"},[O.GlyphOfDeathSEmbrace]:{name:"Glyph of Death's Embrace",description:"Your Death Coil refunds 20 runic power when used to heal.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_deathcoil.jpg"},[O.GlyphOfHornOfWinter]:{name:"Glyph of Horn of Winter",description:"Increases the duration of your Horn of Winter ability by 1 min.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/inv_misc_horn_02.jpg"},[O.GlyphOfPestilence]:{name:"Glyph of Pestilence",description:"Increases the radius of your Pestilence effect by 5 yards.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_plaguecloud.jpg"},[O.GlyphOfRaiseDead]:{name:"Glyph of Raise Dead",description:"Your Raise Dead spell no longer requires a reagent.",iconUrl:"https://wow.zamimg.com/images/wow/icons/large/spell_shadow_animatedead.jpg"}}},Ho={[_.ItemQualityJunk]:"item-quality-junk",[_.ItemQualityCommon]:"item-quality-common",[_.ItemQualityUncommon]:"item-quality-uncommon",[_.ItemQualityRare]:"item-quality-rare",[_.ItemQualityEpic]:"item-quality-epic",[_.ItemQualityLegendary]:"item-quality-legendary"};function zo(e,t){Object.values(Ho).forEach((t=>e.classList.remove(t))),t&&e.classList.add(Ho[t])}class Vo extends d{constructor(e,t){super(e,"close-button",document.createElement("a")),this.rootElem.setAttribute("href","javascript:void(0)"),this.rootElem.setAttribute("role","button"),this.rootElem.addEventListener("click",(()=>t())),this.rootElem.innerHTML='\n\t\t\t<span>Close</span><i class="fas fa-times fa-xl ms-1"></i>\n\t\t'}}class qo extends d{constructor(e){super(e,"popup");const t=window.getComputedStyle(e);this.rootElem.style.setProperty("--main-text-color",t.getPropertyValue("--main-text-color").trim()),this.rootElem.style.setProperty("--theme-color-primary",t.getPropertyValue("--theme-color-primary").trim()),this.rootElem.style.setProperty("--theme-color-background",t.getPropertyValue("--theme-color-background").trim()),this.rootElem.style.setProperty("--theme-color-background-raw",t.getPropertyValue("--theme-color-background-raw").trim()),e.closest(".hide-damage-metrics")&&this.rootElem.classList.add("hide-damage-metrics"),e.closest(".hide-threat-metrics")&&this.rootElem.classList.add("hide-threat-metrics"),e.closest(".hide-healing-metrics")&&this.rootElem.classList.add("hide-healing-metrics"),$(this.rootElem).bPopup({onClose:()=>{this.rootElem.remove(),this.dispose()}})}addCloseButton(){new Vo(this.rootElem,(()=>this.close()))}close(){$(this.rootElem).bPopup().close(),this.rootElem.remove(),this.dispose()}}const $o={id:0,name:"Empty",description:"",iconUrl:"https://wow.zamimg.com/images/wow/icons/medium/inventoryslot_empty.jpg",quality:null};class Yo extends d{constructor(e,t,o){super(e,"glyphs-picker-root"),this.majorGlyphPickers=[],this.minorGlyphPickers=[],this.glyphsConfig=o;const s=Object.keys(o.majorGlyphs).map((e=>Number(e))),i=Object.keys(o.minorGlyphs).map((e=>Number(e))),a=s.map((e=>this.getGlyphData(e))),l=i.map((e=>this.getGlyphData(e)));a.sort(((e,t)=>L(e.name,t.name))),l.sort(((e,t)=>L(e.name,t.name))),this.majorGlyphPickers=["major1","major2","major3"].map((e=>new Jo(this.rootElem,t,a,e,!0))),this.minorGlyphPickers=["minor1","minor2","minor3"].map((e=>new Jo(this.rootElem,t,l,e,!1)))}getGlyphData(e){const t=this.glyphsConfig.majorGlyphs[e]||this.glyphsConfig.minorGlyphs[e];return{id:e,name:t.name,description:t.description,iconUrl:t.iconUrl,quality:_.ItemQualityCommon}}}class Jo extends n{constructor(e,t,o,s,i){super(e,"glyph-picker-root",t,{changedEvent:e=>e.glyphsChangeEmitter,getValue:e=>e.getGlyphs()[s],setValue:(e,t,o)=>{const i=t.getGlyphs();i[s]=o,t.setGlyphs(e,i)}}),i||this.rootElem.classList.add("minor"),this.player=t,this.glyphOptions=o,this.selectedGlyph=$o,this.rootElem.innerHTML='<a class="glyph-picker-icon"></a>',this.iconElem=this.rootElem.getElementsByClassName("glyph-picker-icon")[0],this.iconElem.addEventListener("click",(e=>{e.preventDefault(),new Ko(this.rootElem.closest(".individual-sim-ui"),this,this.glyphOptions)})),this.iconElem.addEventListener("touchstart",(e=>{e.preventDefault(),new Ko(this.rootElem.closest(".individual-sim-ui"),this,this.glyphOptions)})),this.iconElem.addEventListener("touchend",(e=>{e.preventDefault()})),this.init()}getInputElem(){return this.iconElem}getInputValue(){return this.selectedGlyph.id}setInputValue(e){this.selectedGlyph=this.glyphOptions.find((t=>t.id==e))||$o,this.iconElem.style.backgroundImage=`url('${this.selectedGlyph.iconUrl}')`,this.iconElem.href=0==this.selectedGlyph.id?"":m.makeItemUrl(this.selectedGlyph.id)}}class Ko extends qo{constructor(e,t,o){super(e),this.rootElem.classList.add("selector-modal"),this.rootElem.classList.add("glyph-modal"),this.rootElem.innerHTML='\n\t\t\t<div class="selector-modal-tab-content-header">\n\t\t\t\t<input class="selector-modal-search" type="text" placeholder="Search...">\n\t\t\t</div>\n\t\t\t<ul class="selector-modal-list"></ul>\n    ',this.addCloseButton();const i=this.rootElem.getElementsByClassName("selector-modal-list")[0],a=(o=[$o].concat(o)).map(((e,o)=>{const a=document.createElement("li");a.classList.add("selector-modal-list-item"),i.appendChild(a),a.dataset.idx=String(o),a.innerHTML=`\n        <a class="selector-modal-list-item-icon"></a>\n        <a class="selector-modal-list-item-name">${e.name}</a>\n\t\t\t\t<span class="selector-modal-list-item-description">${e.description}</span>\n      `,a.children[0].href=0==e.id?"":m.makeItemUrl(e.id),a.children[1].href=0==e.id?"":m.makeItemUrl(e.id);const l=a.getElementsByClassName("selector-modal-list-item-icon")[0];l.style.backgroundImage=`url('${e.iconUrl}')`;const n=a.getElementsByClassName("selector-modal-list-item-name")[0];zo(n,e.quality);const r=o=>{o.preventDefault(),t.setValue(s.nextEventID(),e.id)};return n.addEventListener("click",r),l.addEventListener("click",r),a})),l=()=>{const e=t.selectedGlyph.id;a.forEach((t=>{const s=parseInt(t.dataset.idx),i=o[s];t.classList.remove("active"),i.id==e&&t.classList.add("active")}))};l();const n=()=>{let e=a;t.selectedGlyph,e=e.filter((e=>{const t=parseInt(e.dataset.idx),s=o[t];if(r.value.length>0){const e=r.value.toLowerCase().split(" "),t=s.name.toLowerCase();var i=!0;if(e.forEach((e=>{t.includes(e)||(i=!1)})),!i)return!1}return!0}));let s=0;a.forEach((t=>{e.includes(t)?(t.classList.remove("hidden"),s++,s%2==0?t.classList.remove("odd"):t.classList.add("odd")):t.classList.add("hidden")}))},r=this.rootElem.getElementsByClassName("selector-modal-search")[0];r.addEventListener("input",n),r.addEventListener("keyup",(e=>{"Enter"==e.key&&a.find((e=>{if(e.classList.contains("hidden"))return!1;return e.getElementsByClassName("selector-modal-list-item-name")[0].click(),!0}))})),t.player.glyphsChangeEmitter.on((()=>{n(),l()}))}}const Qo={[R.ClassUnknown]:[],[R.ClassDeathknight]:Bo,[R.ClassDruid]:Po,[R.ClassShaman]:Do,[R.ClassHunter]:Eo,[R.ClassMage]:ko,[R.ClassRogue]:Lo,[R.ClassPaladin]:Go,[R.ClassPriest]:Oo,[R.ClassWarlock]:Mo,[R.ClassWarrior]:Fo},Xo={[R.ClassUnknown]:{majorGlyphs:[],minorGlyphs:[]},[R.ClassDeathknight]:Ao,[R.ClassDruid]:vo,[R.ClassShaman]:Uo,[R.ClassHunter]:Co,[R.ClassMage]:No,[R.ClassRogue]:Ro,[R.ClassPaladin]:To,[R.ClassPriest]:_o,[R.ClassWarlock]:jo,[R.ClassWarrior]:Wo};function Zo(e,t,o){return t.split("-").forEach(((t,s)=>{const i=o[s];[...t].forEach(((t,o)=>{const s=i.talents[o],a=parseInt(t);s.fieldName&&(1==s.maxPoints?e[s.fieldName]=1==a:e[s.fieldName]=a)}))})),e}function es(e,t){return t.map((t=>t.talents.map((t=>String(Number(e[t.fieldName])))).join("").replace(/0+$/g,""))).join("-").replace(/-+$/g,"")}const ts=class{constructor(e,o){this.name="",this.buffs=j.create(),this.consumes=F.create(),this.bonusStats=new t,this.gear=new W({}),this.profession1=0,this.profession2=0,this.talentsString="",this.glyphs=B.create(),this.cooldowns=A.create(),this.inFrontOfTarget=!1,this.distanceFromTarget=0,this.healingModel=H.create(),this.healingEnabled=!1,this.itemEPCache=new Map,this.gemEPCache=new Map,this.enchantEPCache=new Map,this.talents=null,this.epWeights=new t,this.currentStats=z.create(),this.nameChangeEmitter=new s("PlayerName"),this.buffsChangeEmitter=new s("PlayerBuffs"),this.consumesChangeEmitter=new s("PlayerConsumes"),this.bonusStatsChangeEmitter=new s("PlayerBonusStats"),this.gearChangeEmitter=new s("PlayerGear"),this.professionChangeEmitter=new s("PlayerProfession"),this.raceChangeEmitter=new s("PlayerRace"),this.rotationChangeEmitter=new s("PlayerRotation"),this.talentsChangeEmitter=new s("PlayerTalents"),this.glyphsChangeEmitter=new s("PlayerGlyphs"),this.specOptionsChangeEmitter=new s("PlayerSpecOptions"),this.cooldownsChangeEmitter=new s("PlayerCooldowns"),this.inFrontOfTargetChangeEmitter=new s("PlayerInFrontOfTarget"),this.distanceFromTargetChangeEmitter=new s("PlayerDistanceFromTarget"),this.healingModelChangeEmitter=new s("PlayerHealingModel"),this.epWeightsChangeEmitter=new s("PlayerEpWeights"),this.currentStatsEmitter=new s("PlayerCurrentStats"),this.sim=o,this.party=null,this.raid=null,this.spec=e,this.race=V[this.spec][0],this.specTypeFunctions=D[this.spec],this.rotation=this.specTypeFunctions.rotationCreate(),this.specOptions=this.specTypeFunctions.optionsCreate(),this.changeEmitter=s.onAny([this.nameChangeEmitter,this.buffsChangeEmitter,this.consumesChangeEmitter,this.bonusStatsChangeEmitter,this.gearChangeEmitter,this.professionChangeEmitter,this.raceChangeEmitter,this.rotationChangeEmitter,this.talentsChangeEmitter,this.glyphsChangeEmitter,this.specOptionsChangeEmitter,this.cooldownsChangeEmitter,this.inFrontOfTargetChangeEmitter,this.distanceFromTargetChangeEmitter,this.healingModelChangeEmitter,this.epWeightsChangeEmitter],"PlayerChange")}getSpecIcon(){return q(this.spec,this.getTalentsString())}getClass(){return U[this.spec]}getClassColor(){return Y[this.getClass()]}getParty(){return this.party}getRaid(){return this.raid}getPartyIndex(){if(null==this.party)throw new Error("Can't get party index for player without a party!");return this.party.getPlayers().indexOf(this)}getRaidIndex(){if(null==this.party)throw new Error("Can't get raid index for player without a party!");return this.party.getIndex()*ss+this.getPartyIndex()}setParty(e){null==e?(this.party=null,this.raid=null):(this.party=e,this.raid=e.raid)}getOtherPartyMembers(){return null==this.party?[]:this.party.getPlayers().filter((e=>null!=e&&e!=this))}getItems(e){return this.sim.db.getItems(e).filter((t=>J(t,this.spec,e)))}getEnchants(e){return this.sim.db.getEnchants(e).filter((e=>K(e,this.spec)))}getGems(e){return this.sim.db.getGems(e)}getEpWeights(){return this.epWeights}setEpWeights(e,t){this.epWeights=t,this.epWeightsChangeEmitter.emit(e),this.gemEPCache=new Map,this.itemEPCache=new Map,this.enchantEPCache=new Map}async computeStatWeights(e,t,o,s,i){return await this.sim.statWeights(this,t,o,s,i)}getCurrentStats(){return z.clone(this.currentStats)}setCurrentStats(e,t){this.currentStats=t,this.currentStatsEmitter.emit(e)}getName(){return this.name}setName(e,t){t!=this.name&&(this.name=t,this.nameChangeEmitter.emit(e))}getLabel(){return this.party?`${this.name} (#${this.getRaidIndex()+1})`:this.name}getRace(){return this.race}setRace(e,t){t!=this.race&&(this.race=t,this.raceChangeEmitter.emit(e))}getProfession1(){return this.profession1}setProfession1(e,t){t!=this.profession1&&(this.profession1=t,this.professionChangeEmitter.emit(e))}getProfession2(){return this.profession2}setProfession2(e,t){t!=this.profession2&&(this.profession2=t,this.professionChangeEmitter.emit(e))}getProfessions(){return[this.profession1,this.profession2].filter((e=>e!=Q.ProfessionUnknown))}setProfessions(e,t){s.freezeAllAndDo((()=>{this.setProfession1(e,t[0]||Q.ProfessionUnknown),this.setProfession2(e,t[1]||Q.ProfessionUnknown)}))}hasProfession(e){return this.getProfessions().includes(e)}isBlacksmithing(){return this.hasProfession(Q.Blacksmithing)}getFaction(){return X[this.getRace()]}getBuffs(){return j.clone(this.buffs)}setBuffs(e,t){j.equals(this.buffs,t)||(this.buffs=j.clone(t),this.buffsChangeEmitter.emit(e))}getConsumes(){return F.clone(this.consumes)}setConsumes(e,t){F.equals(this.consumes,t)||(this.consumes=F.clone(t),this.consumesChangeEmitter.emit(e))}getCooldowns(){return A.clone(this.cooldowns)}setCooldowns(e,t){A.equals(this.cooldowns,t)||(this.cooldowns=A.clone(t),this.cooldownsChangeEmitter.emit(e))}canDualWield2H(){return this.getClass()==R.ClassWarrior&&this.getTalents().titansGrip}equipItem(e,t,o){this.setGear(e,this.gear.withEquippedItem(t,o,this.canDualWield2H()))}getEquippedItem(e){return this.gear.getEquippedItem(e)}getGear(){return this.gear}setGear(e,t){t.equals(this.gear)||s.freezeAllAndDo((()=>{this.gear=t,this.gearChangeEmitter.emit(e)}))}getBonusStats(){return this.bonusStats}setBonusStats(e,t){t.equals(this.bonusStats)||(this.bonusStats=t,this.bonusStatsChangeEmitter.emit(e))}getRotation(){return this.specTypeFunctions.rotationCopy(this.rotation)}setRotation(e,t){this.specTypeFunctions.rotationEquals(t,this.rotation)||(this.rotation=this.specTypeFunctions.rotationCopy(t),this.rotationChangeEmitter.emit(e))}getTalents(){var e,t;return null==this.talents&&(this.talents=(e=this.spec,t=this.talentsString,Zo(D[e].talentsCreate(),t,Qo[U[e]]))),this.talents}getTalentsString(){return this.talentsString}setTalentsString(e,t){t!=this.talentsString&&(this.talentsString=t,this.talents=null,this.talentsChangeEmitter.emit(e))}getTalentTree(){return Z(this.getTalentsString())}getTalentTreeIcon(){return q(this.spec,this.getTalentsString())}getGlyphs(){return B.clone(this.glyphs)}setGlyphs(e,t){B.equals(this.glyphs,t)||(this.glyphs=B.clone(t),this.glyphsChangeEmitter.emit(e))}getMajorGlyphs(){return[this.glyphs.major1,this.glyphs.major2,this.glyphs.major3].filter((e=>0!=e))}getMinorGlyphs(){return[this.glyphs.minor1,this.glyphs.minor2,this.glyphs.minor3].filter((e=>0!=e))}getAllGlyphs(){return this.getMajorGlyphs().concat(this.getMinorGlyphs())}getSpecOptions(){return this.specTypeFunctions.optionsCopy(this.specOptions)}setSpecOptions(e,t){this.specTypeFunctions.optionsEquals(t,this.specOptions)||(this.specOptions=this.specTypeFunctions.optionsCopy(t),this.specOptionsChangeEmitter.emit(e))}getInFrontOfTarget(){return this.inFrontOfTarget}setInFrontOfTarget(e,t){t!=this.inFrontOfTarget&&(this.inFrontOfTarget=t,this.inFrontOfTargetChangeEmitter.emit(e))}getDistanceFromTarget(){return this.distanceFromTarget}setDistanceFromTarget(e,t){t!=this.distanceFromTarget&&(this.distanceFromTarget=t,this.distanceFromTargetChangeEmitter.emit(e))}enableHealing(){this.healingEnabled=!0;var e=this.getHealingModel();0==e.cadenceSeconds&&(e.cadenceSeconds=2,this.setHealingModel(0,e))}getHealingModel(){return H.clone(this.healingModel)}setHealingModel(e,t){H.equals(this.healingModel,t)||(this.healingModel=H.clone(t),0==this.healingModel.cadenceSeconds&&this.healingEnabled&&(this.healingModel.cadenceSeconds=2),this.healingModelChangeEmitter.emit(e))}computeStatsEP(e){return null==e?0:e.computeEP(this.epWeights)}computeGemEP(e){if(this.gemEPCache.has(e.id))return this.gemEPCache.get(e.id);const o=this.computeStatsEP(new t(e.stats)),s=ee(this.spec,e,t.fromProto(this.currentStats.finalStats));let i=0;e.unique&&(i-=.01);let a=o+s+i;return this.gemEPCache.set(e.id,a),a}computeEnchantEP(e){if(this.enchantEPCache.has(e.effectId))return this.enchantEPCache.get(e.effectId);let o=this.computeStatsEP(new t(e.stats));return this.enchantEPCache.set(e.effectId,o),o}computeItemEP(e,o){if(null==e)return 0;if(this.itemEPCache.has(e.id))return this.itemEPCache.get(e.id);let s=new t(e.stats);if(e.weaponSpeed>0){const t=te(e);o==M.ItemSlotMainHand?s=s.withPseudoStat(oe.PseudoStatMainHandDps,t):o==M.ItemSlotOffHand?s=s.withPseudoStat(oe.PseudoStatOffHandDps,t):o==M.ItemSlotRanged&&(s=s.withPseudoStat(oe.PseudoStatRangedDps,t))}let i=s.computeEP(this.epWeights);e.unique&&(i-=.01);const a=r(e.gemSockets.map((e=>{const t=this.sim.db.getGems(e).filter((e=>se(e,this.sim.getPhase())));return t.length>0?Math.max(...t.map((e=>this.computeGemEP(e)))):0}))),l=r(e.gemSockets.map((e=>{const t=this.sim.db.getGems(e).filter((t=>se(t,this.sim.getPhase())&&ie(t,e)));return t.length>0?Math.max(...t.map((e=>this.computeGemEP(e)))):0})))+this.computeStatsEP(new t(e.socketBonus));return i+=Math.max(l,a),this.itemEPCache.set(e.id,i),i}setWowheadData(e,t){const o=[],s=ue(),i=s?s+".":"";o.push(`domain=${i}wotlk`);const a=this.hasProfession(Q.Blacksmithing);e.gems.length>0&&o.push("gems="+e.curGems(a).map((e=>e?e.id:0)).join(":")),null!=e.enchant&&o.push("ench="+e.enchant.effectId),o.push("pcs="+this.gear.asArray().filter((e=>null!=e)).map((e=>e.item.id)).join(":")),e.hasExtraSocket(a)&&o.push("sock"),t.setAttribute("data-wowhead",o.join("&"))}filterItemData(e,t,o){const s=this.sim.getFilters();return ts.ARMOR_SLOTS.includes(o)?e.filter((e=>{const o=t(e);return!!s.armorTypes.includes(o.armorType)})):ts.WEAPON_SLOTS.includes(o)?e.filter((e=>{const i=t(e);if(!s.weaponTypes.includes(i.weaponType))return!1;if(!s.oneHandedWeapons&&i.handType!=ae.HandTypeTwoHand)return!1;if(!s.twoHandedWeapons&&i.handType==ae.HandTypeTwoHand)return!1;const a=o==M.ItemSlotMainHand?s.minMhWeaponSpeed:s.minOhWeaponSpeed,l=o==M.ItemSlotMainHand?s.maxMhWeaponSpeed:s.maxOhWeaponSpeed;return!(a>0&&i.weaponSpeed<a)&&!(l>0&&i.weaponSpeed>l)})):e}filterEnchantData(e,t,o,s){return s?(this.sim.getFilters(),e.filter((e=>{const o=t(e);return!!le(o,s.item)}))):e}filterGemData(e,t,o,s){const i=this.sim.getFilters();return e.filter((e=>{const o=t(e);return!(i.matchingGemsOnly&&!ie(o,s))}))}makeRaidTarget(){return null==this.party?ne():re(this.getRaidIndex())}toProto(e){const t=this.getGear();return de(this.spec,ce.create({name:this.getName(),race:this.getRace(),class:this.getClass(),equipment:t.asSpec(),consumes:this.getConsumes(),bonusStats:this.getBonusStats().toProto(),buffs:this.getBuffs(),cooldowns:this.getCooldowns(),talentsString:this.getTalentsString(),glyphs:this.getGlyphs(),profession1:this.getProfession1(),profession2:this.getProfession2(),inFrontOfTarget:this.getInFrontOfTarget(),distanceFromTarget:this.getDistanceFromTarget(),healingModel:this.getHealingModel(),database:e?me.create():t.toDatabase()}),this.getRotation(),e?this.specTypeFunctions.talentsCreate():this.getTalents(),this.getSpecOptions())}fromProto(e,o){s.freezeAllAndDo((()=>{this.setName(e,o.name),this.setRace(e,o.race),this.setGear(e,o.equipment?this.sim.db.lookupEquipmentSpec(o.equipment):new W({})),this.setConsumes(e,o.consumes||F.create()),this.setBonusStats(e,t.fromProto(o.bonusStats||pe.create())),this.setBuffs(e,o.buffs||j.create()),this.setCooldowns(e,o.cooldowns||A.create()),this.setTalentsString(e,o.talentsString),this.setGlyphs(e,o.glyphs||B.create()),this.setProfession1(e,o.profession1),this.setProfession2(e,o.profession2),this.setInFrontOfTarget(e,o.inFrontOfTarget),this.setDistanceFromTarget(e,o.distanceFromTarget),this.setHealingModel(e,o.healingModel||H.create()),this.setRotation(e,this.specTypeFunctions.rotationFromPlayer(o)),this.setSpecOptions(e,this.specTypeFunctions.optionsFromPlayer(o))}))}clone(e){const t=new ts(this.spec,this.sim);return t.fromProto(e,this.toProto()),t}applySharedDefaults(e){s.freezeAllAndDo((()=>{this.setInFrontOfTarget(e,he(this.spec)),this.setHealingModel(e,H.create()),this.setCooldowns(e,A.create({hpPercentForDefensives:he(this.spec)?.35:0})),this.setBonusStats(e,new t)}))}static applySharedDefaultsToProto(e){const o=ge(e);e.inFrontOfTarget=he(o),e.healingModel=H.create(),e.cooldowns=A.create({hpPercentForDefensives:he(o)?.35:0}),e.bonusStats=(new t).toProto()}};let os=ts;os.ARMOR_SLOTS=[M.ItemSlotHead,M.ItemSlotShoulder,M.ItemSlotChest,M.ItemSlotWrist,M.ItemSlotHands,M.ItemSlotLegs,M.ItemSlotWaist,M.ItemSlotFeet],os.WEAPON_SLOTS=[M.ItemSlotMainHand,M.ItemSlotOffHand];const ss=5;class is{constructor(e,t){this.buffs=fe.create(),this.compChangeEmitter=new s,this.buffsChangeEmitter=new s,this.sim=t,this.raid=e,this.players=[...Array(ss).keys()].map((e=>null)),this.playerChangeListener=e=>this.changeEmitter.emit(e),this.changeEmitter=s.onAny([this.compChangeEmitter,this.buffsChangeEmitter],"PartyChange")}size(){return this.players.filter((e=>null!=e)).length}isEmpty(){return 0==this.size()}clear(e){this.setBuffs(e,fe.create());for(let t=0;t<ss;t++)this.setPlayer(e,t,null)}getIndex(){return this.raid.getParties().indexOf(this)}getPlayers(){return this.players.slice()}getPlayer(e){return this.players[e]}setPlayer(e,t,o){if(t<0||t>=ss)throw new Error("Invalid player index: "+t);o!=this.players[t]&&s.freezeAllAndDo((()=>{const s=this.players[t];if(null!=s&&(s.changeEmitter.off(this.playerChangeListener),s.setParty(null)),null!=o){const s=o.getParty();s&&s.setPlayer(e,o.getPartyIndex(),null),this.players[t]=o,o.changeEmitter.on(this.playerChangeListener),o.setParty(this)}else this.players[t]=null;this.compChangeEmitter.emit(e)}))}getBuffs(){return fe.clone(this.buffs)}setBuffs(e,t){fe.equals(this.buffs,t)||(this.buffs=fe.clone(t),this.buffsChangeEmitter.emit(e))}toProto(e){return Ie.create({players:this.players.map((t=>null==t?ce.create():t.toProto(e))),buffs:this.buffs})}fromProto(e,t){s.freezeAllAndDo((()=>{this.setBuffs(e,t.buffs||fe.create());for(let o=0;o<ss;o++){if(!t.players[o]||t.players[o].class==R.ClassUnknown){this.setPlayer(e,o,null);continue}const s=t.players[o],i=ge(s),a=this.players[o];if(a&&i==a.spec)a.fromProto(e,s);else{const t=new os(i,this.sim);t.fromProto(e,s),this.setPlayer(e,o,t)}}}))}}const as=5;class ls{constructor(e){this.buffs=we.create(),this.debuffs=xe.create(),this.tanks=[],this.targetDummies=0,this.compChangeEmitter=new s,this.buffsChangeEmitter=new s,this.debuffsChangeEmitter=new s,this.tanksChangeEmitter=new s,this.targetDummiesChangeEmitter=new s,this.sim=e,this.parties=[...Array(5).keys()].map((t=>{const o=new is(this,e);return o.compChangeEmitter.on((e=>this.compChangeEmitter.emit(e))),o.changeEmitter.on((e=>this.changeEmitter.emit(e))),o})),this.changeEmitter=s.onAny([this.compChangeEmitter,this.buffsChangeEmitter,this.debuffsChangeEmitter,this.tanksChangeEmitter,this.targetDummiesChangeEmitter],"RaidChange")}size(){return r(this.parties.map((e=>e.size())))}isEmpty(){return 0==this.size()}getParties(){return this.parties.slice()}getParty(e){return this.parties[e]}getPlayers(){return this.parties.map((e=>e.getPlayers())).flat()}getPlayer(e){return this.parties[Math.floor(e/ss)].getPlayer(e%ss)}getPlayerFromRaidTarget(e){return e.targetIndex==ye?null:this.getPlayer(e.targetIndex)}setPlayer(e,t,o){this.parties[Math.floor(t/ss)].setPlayer(e,t%ss,o)}getClassCount(e){return this.getPlayers().filter((t=>null!=t&&t.getClass()==e)).length}getBuffs(){return we.clone(this.buffs)}setBuffs(e,t){if(!we.equals(this.buffs,t)){if(this.buffs=we.clone(t),this.debuffs.totemOfWrath!=this.buffs.totemOfWrath){var o=xe.clone(this.debuffs);o.totemOfWrath=this.buffs.totemOfWrath,this.setDebuffs(e,o)}this.buffsChangeEmitter.emit(e)}}getDebuffs(){return xe.clone(this.debuffs)}setDebuffs(e,t){if(!xe.equals(this.debuffs,t)){if(this.debuffs=xe.clone(t),this.debuffs.totemOfWrath!=this.buffs.totemOfWrath){var o=we.clone(this.buffs);o.totemOfWrath=this.debuffs.totemOfWrath,this.setBuffs(e,o)}this.debuffsChangeEmitter.emit(e)}}getTanks(){return this.tanks.map((e=>be.clone(e)))}setTanks(e,t){this.tanks.length==t.length&&this.tanks.every(((e,o)=>be.equals(e,t[o])))||(this.tanks=t.map((e=>be.clone(e))),this.tanksChangeEmitter.emit(e))}getTargetDummies(){return this.targetDummies}setTargetDummies(e,t){this.targetDummies!=t&&(this.targetDummies=t,this.targetDummiesChangeEmitter.emit(e))}toProto(e){return Se.create({parties:this.parties.map((t=>t.toProto(e))),buffs:this.getBuffs(),debuffs:this.getDebuffs(),tanks:this.getTanks(),targetDummies:this.getTargetDummies()})}fromProto(e,t){s.freezeAllAndDo((()=>{this.setBuffs(e,t.buffs||we.create()),this.setDebuffs(e,t.debuffs||xe.create()),this.setTanks(e,t.tanks),this.setTargetDummies(e,t.targetDummies);for(let o=0;o<5;o++)t.parties[o]?this.parties[o].fromProto(e,t.parties[o]):this.parties[o].clear(e)}))}clear(e){s.freezeAllAndDo((()=>{for(let t=0;t<5;t++)this.parties[t].clear(e)}))}}const ns=`/${Te}/sim_worker.js`;class rs{constructor(e){this.workers=[];for(let t=0;t<e;t++)this.workers.push(new ds)}getLeastBusyWorker(){return this.workers.reduce(((e,t)=>e.numTasksRunning<t.numTasksRunning?e:t))}async makeApiCall(e,t){return await this.getLeastBusyWorker().doApiCall(e,t,"")}async computeStats(e){const t=await this.makeApiCall("computeStats",Pe.toBinary(e));return ve.fromBinary(t)}async statWeightsAsync(e,t){console.log("Stat weights request: "+Ee.toJsonString(e));const o=this.getLeastBusyWorker(),s=o.makeTaskId();o.addPromiseFunc(s+"progress",this.newProgressHandler(s,o,t),(e=>{}));const i=await o.doApiCall("statWeightsAsync",Ee.toBinary(e),s),a=Ce.fromBinary(i);return console.log("Stat weights result: "+ke.toJsonString(a.finalWeightResult)),a.finalWeightResult}async raidSimAsync(e,t){console.log("Raid sim request: "+Ne.toJsonString(e));const o=this.getLeastBusyWorker(),s=o.makeTaskId();o.addPromiseFunc(s+"progress",this.newProgressHandler(s,o,t),(e=>{}));const i=await o.doApiCall("raidSimAsync",Ne.toBinary(e),s),a=Ce.fromBinary(i),l=Ge.toJson(a.finalRaidResult);return delete l.logs,console.log("Raid sim result: "+JSON.stringify(l)),a.finalRaidResult}newProgressHandler(e,t,o){return s=>{var i=Ce.fromBinary(s);o(i),null==i.finalRaidResult&&null==i.finalWeightResult&&t.addPromiseFunc(e+"progress",this.newProgressHandler(e,t,o),(e=>{}))}}}class ds{constructor(){this.numTasksRunning=0,this.taskIdsToPromiseFuncs={},this.worker=new window.Worker(ns);let e=null;this.onReady=new Promise(((t,o)=>{e=t})),this.worker.onmessage=t=>{if("ready"==t.data.msg)this.worker.postMessage({msg:"setID",id:"1"}),e();else if("idconfirm"==t.data.msg);else{const e=t.data.id;if(!this.taskIdsToPromiseFuncs[e])return void console.warn("Unrecognized result id: "+e);const o=this.taskIdsToPromiseFuncs[e];delete this.taskIdsToPromiseFuncs[e],this.numTasksRunning--,o[0](t.data.outputData)}}}addPromiseFunc(e,t,o){this.taskIdsToPromiseFuncs[e]=[t,o]}makeTaskId(){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<16;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}async doApiCall(e,t,o){this.numTasksRunning++,await this.onReady;const s=new Promise(((s,i)=>{o||(o=this.makeTaskId()),this.taskIdsToPromiseFuncs[o]=[s,i],this.worker.postMessage({msg:e,id:o,inputData:t})}));return await s}}const cs=class{constructor(){this.iterations=3e3,this.phase=Re,this.faction=De.Alliance,this.fixedRngSeed=0,this.filters=cs.defaultFilters(),this.showDamageMetrics=!0,this.showThreatMetrics=!1,this.showHealingMetrics=!1,this.showExperimental=!1,this.language="",this.db_=null,this.iterationsChangeEmitter=new s,this.phaseChangeEmitter=new s,this.factionChangeEmitter=new s,this.fixedRngSeedChangeEmitter=new s,this.lastUsedRngSeedChangeEmitter=new s,this.filtersChangeEmitter=new s,this.showDamageMetricsChangeEmitter=new s,this.showThreatMetricsChangeEmitter=new s,this.showHealingMetricsChangeEmitter=new s,this.showExperimentalChangeEmitter=new s,this.languageChangeEmitter=new s,this.crashEmitter=new s,this.simResultEmitter=new s,this.lastUsedRngSeed=0,this.modifyRaidProto=()=>{},this.workerPool=new rs(1),this._initPromise=Ue.get().then((e=>{this.db_=e})),this.raid=new ls(this),this.encounter=new wo(this),this.settingsChangeEmitter=s.onAny([this.iterationsChangeEmitter,this.phaseChangeEmitter,this.fixedRngSeedChangeEmitter,this.filtersChangeEmitter,this.showDamageMetricsChangeEmitter,this.showThreatMetricsChangeEmitter,this.showHealingMetricsChangeEmitter,this.showExperimentalChangeEmitter,this.languageChangeEmitter]),this.changeEmitter=s.onAny([this.settingsChangeEmitter,this.raid.changeEmitter,this.encounter.changeEmitter]),this.raid.changeEmitter.on((e=>this.updateCharacterStats(e)))}waitForInit(){return this._initPromise}get db(){return this.db_}setModifyRaidProto(e){this.modifyRaidProto=e}getModifiedRaidProto(){const e=this.raid.toProto();return this.modifyRaidProto(e),e.parties.forEach((e=>{e.players.forEach((e=>{if(!e.equipment)return;let t=this.db.lookupEquipmentSpec(e.equipment),o=!1;const s=[e.profession1,e.profession2].includes(Q.Blacksmithing);t.hasInactiveMetaGem(s)&&(t=t.withoutMetaGem(),o=!0),s||(t=t.withoutBlacksmithSockets(),o=!0),o&&(e.equipment=t.asSpec())}))})),e}makeRaidSimRequest(e){const t=this.getModifiedRaidProto(),o=this.encounter.toProto();return Ne.create({raid:t,encounter:o,simOptions:Me.create({iterations:e?1:this.getIterations(),randomSeed:BigInt(this.nextRngSeed()),debugFirstIteration:!0})})}async runRaidSim(e,t){if(this.raid.isEmpty())throw new Error("Raid is empty! Try adding some players first.");if(this.encounter.getNumTargets()<1)throw new Error("Encounter has no targets! Try adding some targets first.");await this.waitForInit();const o=this.makeRaidSimRequest(!1);var s=await this.workerPool.raidSimAsync(o,t);if(""!=s.errorResult)throw new ps(s.errorResult);const i=await je.makeNew(o,s);this.simResultEmitter.emit(e,i)}async runRaidSimWithLogs(e){if(this.raid.isEmpty())throw new Error("Raid is empty! Try adding some players first.");if(this.encounter.getNumTargets()<1)throw new Error("Encounter has no targets! Try adding some targets first.");await this.waitForInit();const t=this.makeRaidSimRequest(!0),o=await this.workerPool.raidSimAsync(t,(()=>{}));if(""!=o.errorResult)throw new ps(o.errorResult);const s=await je.makeNew(t,o);return this.simResultEmitter.emit(e,s),s}async updateCharacterStats(e){if(0==e)return;e=s.nextEventID(),await this.waitForInit();const t=this.raid.getPlayers(),o=Pe.create({raid:this.getModifiedRaidProto()}),i=await this.workerPool.computeStats(o);""==i.errorResult?s.freezeAllAndDo((()=>{i.raidStats.parties.forEach(((o,s)=>o.players.forEach(((o,i)=>t[5*s+i]?.setCurrentStats(e,o)))))})):this.crashEmitter.emit(e,new ps(i.errorResult))}async statWeights(e,t,o,s,i){if(this.raid.isEmpty())throw new Error("Raid is empty! Try adding some players first.");if(this.encounter.getNumTargets()<1)throw new Error("Encounter has no targets! Try adding some targets first.");if(await this.waitForInit(),null==e.getParty())return console.warn("Trying to get stat weights without a party!"),ke.create();{const a=this.raid.getTanks().map((e=>e.targetIndex)).includes(e.getRaidIndex())?[be.create({targetIndex:0})]:[],l=Ee.create({player:e.toProto(),raidBuffs:this.raid.getBuffs(),partyBuffs:e.getParty().getBuffs(),debuffs:this.raid.getDebuffs(),encounter:this.encounter.toProto(),simOptions:Me.create({iterations:this.getIterations(),randomSeed:BigInt(this.nextRngSeed()),debug:!1}),tanks:a,statsToWeigh:t,pseudoStatsToWeigh:o,epReferenceStat:s});return await this.workerPool.statWeightsAsync(l,i)}}getPhase(){return this.phase}setPhase(e,t){t!=this.phase&&t>0&&(this.phase=t,this.phaseChangeEmitter.emit(e))}getFaction(){return this.faction}setFaction(e,t){t!=this.faction&&t&&(this.faction=t,this.factionChangeEmitter.emit(e))}getFixedRngSeed(){return this.fixedRngSeed}setFixedRngSeed(e,t){t!=this.fixedRngSeed&&(this.fixedRngSeed=t,this.fixedRngSeedChangeEmitter.emit(e))}nextRngSeed(){let e=0;return e=this.fixedRngSeed?this.fixedRngSeed:Math.floor(Math.random()*cs.MAX_RNG_SEED),this.lastUsedRngSeed=e,this.lastUsedRngSeedChangeEmitter.emit(s.nextEventID()),e}getLastUsedRngSeed(){return this.lastUsedRngSeed}getFilters(){return Fe.clone(this.filters)}setFilters(e,t){Fe.equals(t,this.filters)||(this.filters=Fe.clone(t),this.filtersChangeEmitter.emit(e))}getShowDamageMetrics(){return this.showDamageMetrics}setShowDamageMetrics(e,t){t!=this.showDamageMetrics&&(this.showDamageMetrics=t,this.showDamageMetricsChangeEmitter.emit(e))}getShowThreatMetrics(){return this.showThreatMetrics}setShowThreatMetrics(e,t){t!=this.showThreatMetrics&&(this.showThreatMetrics=t,this.showThreatMetricsChangeEmitter.emit(e))}getShowHealingMetrics(){return this.showHealingMetrics}setShowHealingMetrics(e,t){t!=this.showHealingMetrics&&(this.showHealingMetrics=t,this.showHealingMetricsChangeEmitter.emit(e))}getShowExperimental(){return this.showExperimental}setShowExperimental(e,t){t!=this.showExperimental&&(this.showExperimental=t,this.showExperimentalChangeEmitter.emit(e))}getLanguage(){return this.language}setLanguage(e,t){(t=t||We())!=this.language&&(this.language=t,Be(this.language),this.languageChangeEmitter.emit(e))}getIterations(){return this.iterations}setIterations(e,t){t!=this.iterations&&(this.iterations=t,this.iterationsChangeEmitter.emit(e))}toProto(){const e=this.getFilters();return e.armorTypes.length==cs.ALL_ARMOR_TYPES.length&&(e.armorTypes=[]),e.weaponTypes.length==cs.ALL_WEAPON_TYPES.length&&(e.weaponTypes=[]),Ae.create({iterations:this.getIterations(),phase:this.getPhase(),fixedRngSeed:BigInt(this.getFixedRngSeed()),showDamageMetrics:this.getShowDamageMetrics(),showThreatMetrics:this.getShowThreatMetrics(),showHealingMetrics:this.getShowHealingMetrics(),showExperimental:this.getShowExperimental(),language:this.getLanguage(),faction:this.getFaction(),filters:e})}fromProto(e,t){s.freezeAllAndDo((()=>{this.setIterations(e,t.iterations||3e3),this.setPhase(e,t.phase||Re),this.setFixedRngSeed(e,Number(t.fixedRngSeed)),this.setShowDamageMetrics(e,t.showDamageMetrics),this.setShowThreatMetrics(e,t.showThreatMetrics),this.setShowHealingMetrics(e,t.showHealingMetrics),this.setShowExperimental(e,t.showExperimental),this.setLanguage(e,t.language),this.setFaction(e,t.faction||De.Alliance);const o=t.filters||cs.defaultFilters();0==o.armorTypes.length&&(o.armorTypes=cs.ALL_ARMOR_TYPES.slice()),0==o.weaponTypes.length&&(o.weaponTypes=cs.ALL_WEAPON_TYPES.slice()),this.setFilters(e,o)}))}applyDefaults(e,t,o){this.fromProto(e,Ae.create({iterations:3e3,phase:Re,faction:De.Alliance,showDamageMetrics:!o,showThreatMetrics:t,showHealingMetrics:o,language:this.getLanguage(),filters:cs.defaultFilters()}))}static defaultFilters(){return Fe.create({oneHandedWeapons:!0,twoHandedWeapons:!0})}};let ms=cs;ms.MAX_RNG_SEED=Math.pow(2,32)-1,ms.ALL_ARMOR_TYPES=Oe(_e).filter((e=>0!=e)),ms.ALL_WEAPON_TYPES=Oe(Le).filter((e=>0!=e));class ps extends Error{constructor(e){super(e),this.errorStr=e}}class hs extends n{constructor(e,t,o){super(e,"number-picker-root",t,o),this.float=o.float||!1,this.positive=o.positive||!1,this.inputElem=document.createElement("input"),this.inputElem.type="text",this.inputElem.classList.add("form-control","number-picker-input"),this.positive&&(this.inputElem.onchange=e=>{this.inputElem.value=Math.abs(parseInt(this.inputElem.value)).toString()}),this.rootElem.appendChild(this.inputElem),this.init(),this.inputElem.addEventListener("change",(e=>{this.inputChanged(s.nextEventID())}))}getInputElem(){return this.inputElem}getInputValue(){return this.float?parseFloat(this.inputElem.value||"")||0:parseInt(this.inputElem.value||"")||0}setInputValue(e){this.inputElem.value=String(e)}}class gs extends d{constructor(e,t,o,i){super(e,"character-stats-root"),this.stats=He.filter((e=>o.includes(e))),this.player=t,this.modifyDisplayStats=i;const a=document.createElement("label");a.classList.add("character-stats-label"),a.textContent="Stats",this.rootElem.appendChild(a);const l=document.createElement("table");l.classList.add("character-stats-table"),this.rootElem.appendChild(l),this.valueElems=[],this.stats.forEach((e=>{let o=ze(e,t.getClass());const s=document.createElement("tr");s.classList.add("character-stats-table-row"),s.innerHTML=`\n\t\t\t\t<td class="character-stats-table-label">${o}</td>\n\t\t\t\t<td class="character-stats-table-value"></td\n\t\t\t`,l.appendChild(s);const i=s.getElementsByClassName("character-stats-table-value")[0];i.appendChild(this.bonusStatsLink(e)),this.valueElems.push(i)})),this.updateStats(t),s.onAny([t.currentStatsEmitter,t.sim.changeEmitter]).on((()=>{this.updateStats(t)}))}updateStats(e){const o=e.getCurrentStats(),s=this.modifyDisplayStats?this.modifyDisplayStats(this.player):{talents:new t},i=t.fromProto(o.baseStats),a=t.fromProto(o.gearStats),l=t.fromProto(o.talentsStats),n=t.fromProto(o.buffsStats),r=t.fromProto(o.consumesStats),d=this.getDebuffStats(),c=e.getBonusStats(),m=i.subtract(c),p=a.subtract(i),h=l.subtract(a).add(s.talents),g=n.subtract(l),u=r.subtract(n),f=t.fromProto(o.finalStats).add(s.talents).add(d);this.stats.forEach(((e,t)=>{let o=document.createElement("fragment");o.innerHTML=`\n\t\t\t\t<a href="javascript:void(0)" class="stat-value-link" role="button" data-bs-toggle="tooltip" data-bs-html="true">${this.statDisplayString(f,f,e)}</a>\n\t\t\t`;let s=o.children[0];this.valueElems[t].querySelector(".stat-value-link")?.remove(),this.valueElems[t].prepend(s);let I=c.getStat(e);0==I?(s.classList.remove("text-success","text-danger"),s.classList.add("text-white")):I>0?(s.classList.remove("text-white","text-danger"),s.classList.add("text-success")):I<0&&(s.classList.remove("text-white","text-success"),s.classList.add("text-danger")),s.setAttribute("data-bs-title",`\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Base:</span>\n\t\t\t\t\t<span>${this.statDisplayString(i,m,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Gear:</span>\n\t\t\t\t\t<span>${this.statDisplayString(a,p,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Talents:</span>\n\t\t\t\t\t<span>${this.statDisplayString(l,h,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Buffs:</span>\n\t\t\t\t\t<span>${this.statDisplayString(n,g,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Consumes:</span>\n\t\t\t\t\t<span>${this.statDisplayString(r,u,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t${0==d.getStat(e)?"":`\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Debuffs:</span>\n\t\t\t\t\t<span>${this.statDisplayString(d,d,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t`}\n\t\t\t\t${0==I?"":`\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Bonus:</span>\n\t\t\t\t\t<span>${this.statDisplayString(c,c,e)}</span>\n\t\t\t\t</div>\n\t\t\t\t`}\n\t\t\t\t<div class="character-stats-tooltip-row">\n\t\t\t\t\t<span>Total:</span>\n\t\t\t\t\t<span>${this.statDisplayString(f,f,e)}</span>\n\t\t\t\t</div>\n\t\t\t`),co.getOrCreateInstance(s)}))}statDisplayString(e,t,o){let s=t.getStat(o);o==a.StatBlockValue&&(s*=e.getPseudoStat(oe.PseudoStatBlockValueMultiplier)||1);let i=String(Math.round(s));return o==a.StatMeleeHit?i+=` (${(s/32.79).toFixed(2)}%)`:o==a.StatSpellHit?i+=` (${(s/26.23).toFixed(2)}%)`:o==a.StatMeleeCrit||o==a.StatSpellCrit?i+=` (${(s/45.91).toFixed(2)}%)`:o==a.StatMeleeHaste?[R.ClassDruid,R.ClassShaman,R.ClassPaladin,R.ClassDeathknight].includes(this.player.getClass())?i+=` (${(s/25.22).toFixed(2)}%)`:i+=` (${(s/32.79).toFixed(2)}%)`:o==a.StatSpellHaste?i+=` (${(s/32.79).toFixed(2)}%)`:o==a.StatArmorPenetration?i+=` (${(s/13.99).toFixed(2)}%)`:o==a.StatExpertise?i+=` (${(Math.floor(s/8.1975)/4).toFixed(2)}%)`:o==a.StatDefense?i+=` (${(400+s/4.92).toFixed(1)})`:o==a.StatBlock?i+=` (${(s/16.39).toFixed(2)}%)`:(o==a.StatDodge||o==a.StatParry)&&(i+=` (${(s/45.25).toFixed(2)}%)`),i}getDebuffStats(){let e=new t;const o=this.player.sim.raid.getDebuffs();return(o.misery||o.faerieFire==Ve.TristateEffectImproved)&&(e=e.addStat(a.StatSpellHit,78.69)),(o.totemOfWrath||o.heartOfTheCrusader||o.masterPoisoner)&&(e=e.addStat(a.StatSpellCrit,137.73),e=e.addStat(a.StatMeleeCrit,137.73)),(o.improvedScorch||o.wintersChill||o.shadowMastery)&&(e=e.addStat(a.StatSpellCrit,5*45.91)),e}bonusStatsLink(e){let t=ze(e,this.player.getClass()),o=document.createElement("fragment");o.innerHTML=`\n\t\t\t<a\n\t\t\t\thref="javascript:void(0)"\n\t\t\t\tclass="add-bonus-stats text-white ms-2"\n\t\t\t\trole="button"\n\t\t\t\tdata-bs-toggle="popover"\n\t\t\t\tdata-bs-content="\n\t\t\t\t\t<div class='input-root number-picker-root'>\n\t\t\t\t\t\t<label class='form-label'>Bonus Health</label>\n\t\t\t\t\t\t<input type='text' class='form-control number-picker-input' value=${this.player.getBonusStats().getStat(e)}>\n\t\t\t\t\t</div>\n\t\t\t\t"\n\t\t\t\tdata-bs-placement="right"\n\t\t\t\tdata-bs-html="true"\n\t\t\t>\n\t\t\t\t<i class="fas fa-plus-minus"></i>\n\t\t\t</a>\n\t\t`;let s=o.children[0],i=mo.getOrCreateInstance(s,{customClass:"bonus-stats-popover",fallbackPlacement:["left"],sanitize:!1});return s.addEventListener("shown.bs.popover",(o=>{let s=document.querySelector(".popover.bonus-stats-popover .popover-body");s.innerHTML="",new hs(s,this.player,{label:`Bonus ${t}`,changedEvent:e=>e.bonusStatsChangeEmitter,getValue:t=>t.getBonusStats().getStat(e),setValue:(t,o,s)=>{const a=o.getBonusStats().withStat(e,s);o.setBonusStats(t,a),i.hide()}})})),s}}class us extends d{constructor(e,t,o){super(e,"detailed-results-manager-root"),this.simUI=t,this.tabWindow=null,this.latestRun=null,this.simUI.sim.settingsChangeEmitter.on((()=>this.updateSettings()));const s=window.getComputedStyle(this.rootElem),i=new URL(`${window.location.protocol}//${window.location.host}/${Te}/detailed_results/index.html`);i.searchParams.append("mainTextColor",s.getPropertyValue("--main-text-color").trim()),i.searchParams.append("themeColorPrimary",s.getPropertyValue("--theme-color-primary").trim()),i.searchParams.append("themeColorBackground",s.getPropertyValue("--theme-color-background").trim()),i.searchParams.append("themeColorBackgroundRaw",s.getPropertyValue("--theme-color-background-raw").trim()),i.searchParams.append("themeBackgroundImage",s.getPropertyValue("--theme-background-image").trim()),i.searchParams.append("themeBackgroundOpacity",s.getPropertyValue("--theme-background-opacity").trim()),t.isIndividualSim()&&i.searchParams.append("isIndividualSim",""),this.rootElem.innerHTML=`\n\t\t<div class="detailed-results-controls-div">\n\t\t\t<button class="detailed-results-new-tab-button sim-button">VIEW IN SEPARATE TAB</button>\n\t\t</div>\n\t\t<iframe class="detailed-results-iframe" src="${i.href}" allowtransparency="true"></iframe>\n\t\t`,this.iframeElem=this.rootElem.getElementsByClassName("detailed-results-iframe")[0];this.rootElem.getElementsByClassName("detailed-results-new-tab-button")[0].addEventListener("click",(e=>{null==this.tabWindow||this.tabWindow.closed?(this.tabWindow=window.open(i.href,"Detailed Results"),this.tabWindow.addEventListener("load",(e=>{this.latestRun&&(this.updateSettings(),this.setSimRunData(this.latestRun))}))):this.tabWindow.focus()})),o.currentChangeEmitter.on((()=>{const e=o.getRunData();e&&(this.updateSettings(),this.setSimRunData(e))}))}setSimRunData(e){this.latestRun=e,this.postMessage(qe.create({data:{oneofKind:"runData",runData:e}}))}updateSettings(){this.postMessage(qe.create({data:{oneofKind:"settings",settings:this.simUI.sim.toProto()}}))}postMessage(e){this.iframeElem.contentWindow.postMessage(qe.toJson(e),"*"),this.tabWindow&&this.tabWindow.postMessage(qe.toJson(e),"*")}}class fs extends n{constructor(e,t,o){super(e,"enum-picker-root",t,o),this.selectElem=document.createElement("select"),this.selectElem.classList.add("enum-picker-selector","form-select"),this.rootElem.appendChild(this.selectElem),o.values.forEach((e=>{const t=document.createElement("option");t.value=String(e.value),t.textContent=e.name,this.selectElem.appendChild(t),e.tooltip&&(t.title=e.tooltip)})),this.init(),this.selectElem.addEventListener("change",(e=>{this.inputChanged(s.nextEventID())}))}getInputElem(){return this.selectElem}getInputValue(){return parseInt(this.selectElem.value)}setInputValue(e){this.selectElem.value=String(e)}}let Is=null;async function ws(e){return(await(null==Is&&(Is=fetch("/wotlk/assets/enchants/descriptions.json").then((e=>e.json())).then((e=>{const t={};for(let o in e)t[parseInt(o)]=e[o];return t}))),Is))[e.effectId]||e.name}function xs(e){return e.effectId+"-"+e.type}class ys extends n{constructor(e,t,o){super(e,"boolean-picker-root",t,o),this.rootElem.classList.add("form-check","form-check-reverse"),this.inputElem=document.createElement("input"),this.inputElem.type="checkbox",this.inputElem.classList.add("boolean-picker-input","form-check-input"),this.rootElem.appendChild(this.inputElem),this.init(),this.inputElem.addEventListener("change",(e=>{this.inputChanged(s.nextEventID())}))}getInputElem(){return this.inputElem}getInputValue(){return Boolean(this.inputElem.checked)}setInputValue(e){this.inputElem.checked=e}}class bs extends qo{constructor(e,t,o){if(super(e),this.rootElem.classList.add("filters-menu"),this.rootElem.innerHTML='\n\t\t\t<div class="menu-title">\n\t\t\t\t<span>FILTERS</span>\n\t\t\t</div>\n\t\t\t<div class="menu-content">\n\t\t\t</div>\n\t\t',this.addCloseButton(),this.contentElem=this.rootElem.getElementsByClassName("menu-content")[0],os.ARMOR_SLOTS.includes(o)){const e=$e[t.getClass()];if(e>=_e.ArmorTypeLeather){const o=this.newSection("Armor Type");o.classList.add("filters-menu-section-bool-list");Oe(_e).filter((e=>e!=_e.ArmorTypeUnknown)).filter((t=>t<=e)).forEach((e=>{new ys(o,t.sim,{label:Ye[e],inline:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:t=>t.getFilters().armorTypes.includes(e),setValue:(t,o,s)=>{const i=o.getFilters();s?i.armorTypes.push(e):i.armorTypes=i.armorTypes.filter((t=>t!=e)),o.setFilters(t,i)}})}))}}else if(os.WEAPON_SLOTS.includes(o)){const e=this.newSection("Weapon Type");e.classList.add("filters-menu-section-bool-list");const o=Je[t.getClass()].map((e=>e.weaponType)),s=n.newGroupContainer();e.appendChild(s),o.forEach((e=>{new ys(s,t.sim,{label:Ke[e],inline:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:t=>t.getFilters().weaponTypes.includes(e),setValue:(t,o,s)=>{const i=o.getFilters();s?i.weaponTypes.push(e):i.weaponTypes=i.weaponTypes.filter((t=>t!=e)),o.setFilters(t,i)}})}));const i=this.newSection("Weapon Speed");i.classList.add("filters-menu-section-number-list"),new hs(i,t.sim,{label:"Min MH Speed",float:!0,positive:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().minMhWeaponSpeed,setValue:(e,t,o)=>{const s=t.getFilters();s.minMhWeaponSpeed=o,t.setFilters(e,s)}}),new hs(i,t.sim,{label:"Max MH Speed",float:!0,positive:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().maxMhWeaponSpeed,setValue:(e,t,o)=>{const s=t.getFilters();s.maxMhWeaponSpeed=o,t.setFilters(e,s)}}),Qe(t.spec)&&(new hs(i,t.sim,{label:"Min OH Speed",float:!0,positive:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().minOhWeaponSpeed,setValue:(e,t,o)=>{const s=t.getFilters();s.minOhWeaponSpeed=o,t.setFilters(e,s)}}),new hs(i,t.sim,{label:"Max OH Speed",float:!0,positive:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().maxOhWeaponSpeed,setValue:(e,t,o)=>{const s=t.getFilters();s.maxOhWeaponSpeed=o,t.setFilters(e,s)}}))}}newSection(e){const t=document.createElement("div");return t.classList.add("menu-section"),this.contentElem.appendChild(t),t.innerHTML=`\n\t\t\t<div class="menu-section-header">\n\t\t\t\t<span class="menu-section-title">${e}</span>\n\t\t\t</div>\n\t\t\t<div class="menu-section-content">\n\t\t\t</div>\n\t\t`,t.getElementsByClassName("menu-section-content")[0]}static anyFiltersForSlot(e){return os.ARMOR_SLOTS.includes(e)||os.WEAPON_SLOTS.includes(e)}}const Ss={type:"enum",label:"Starting Conjured",labelTooltip:"If set, this conjured will be used instead of the default conjured for the first few uses.",values:[{name:"None",value:Xe.ConjuredUnknown},{name:"Dark Rune",value:Xe.ConjuredDarkRune},{name:"Flame Cap",value:Xe.ConjuredFlameCap},{name:"Thistle Tea",value:Xe.ConjuredRogueThistleTea}],changedEvent:e=>e.consumesChangeEmitter,getValue:e=>e.getConsumes().startingConjured,setValue:(e,t,o)=>{const s=t.getConsumes();s.startingConjured=o,t.setConsumes(e,s)}},Ps={type:"boolean",label:"In Front of Target",labelTooltip:"Stand in front of the target, causing Blocks and Parries to be included in the attack table.",changedEvent:e=>e.inFrontOfTargetChangeEmitter,getValue:e=>e.getInFrontOfTarget(),setValue:(e,t,o)=>{t.setInFrontOfTarget(e,o)}},vs={type:"number",label:"Distance From Target",labelTooltip:"Distance from targets, in yards. Used to calculate travel time for certain spells.",changedEvent:e=>e.distanceFromTargetChangeEmitter,getValue:e=>e.getDistanceFromTarget(),setValue:(e,t,o)=>{t.setDistanceFromTarget(e,o)}},Es={type:"enum",extraCssClasses:["tank-selector","threat-metrics","within-raid-sim-hide"],label:"Tank Assignment",labelTooltip:"Determines which mobs will be tanked. Most mobs default to targeting the Main Tank, but in preset multi-target encounters this is not always true.",values:[{name:"None",value:-1},{name:"Main Tank",value:0},{name:"Tank 2",value:1},{name:"Tank 3",value:2},{name:"Tank 4",value:3}],changedEvent:e=>e.getRaid().tanksChangeEmitter,getValue:e=>e.getRaid().getTanks().findIndex((t=>be.equals(t,e.makeRaidTarget()))),setValue:(e,t,o)=>{const s=[];if(-1!=o){for(let e=0;e<o;e++)s.push(ne());s.push(t.makeRaidTarget())}t.getRaid().setTanks(e,s)}},Cs={type:"number",label:"Incoming HPS",labelTooltip:"\n\t\t<p>Average amount of healing received per second. Used for calculating chance of death.</p>\n\t\t<p>If set to 0, defaults to 150% of DTPS.</p>\n\t",changedEvent:e=>e.getRaid().changeEmitter,getValue:e=>e.getHealingModel().hps,setValue:(e,t,o)=>{const s=t.getHealingModel();s.hps=o,t.setHealingModel(e,s)},enableWhen:e=>null!=e.getRaid().getTanks().find((t=>be.equals(t,e.makeRaidTarget())))},ks={type:"number",float:!0,label:"Healing Cadence",labelTooltip:"\n\t\t<p>How often the incoming heal 'ticks', in seconds. Generally, longer durations favor Effective Hit Points (EHP) for minimizing Chance of Death, while shorter durations favor avoidance.</p>\n\t\t<p>Example: if Incoming HPS is set to 1000 and this is set to 1s, then every 1s a heal will be received for 1000. If this is instead set to 2s, then every 2s a heal will be recieved for 2000.</p>\n\t\t<p>If set to 0, defaults to 2.0 seconds.</p>\n\t",changedEvent:e=>e.getRaid().changeEmitter,getValue:e=>e.getHealingModel().cadenceSeconds,setValue:(e,t,o)=>{const s=t.getHealingModel();s.cadenceSeconds=o,t.setHealingModel(e,s)},enableWhen:e=>null!=e.getRaid().getTanks().find((t=>be.equals(t,e.makeRaidTarget())))},Ns={type:"number",float:!0,label:"HP % for Defensive CDs",labelTooltip:"\n\t\t<p>% of Maximum Health, below which defensive cooldowns are allowed to be used.</p>\n\t\t<p>If set to 0, this restriction is disabled.</p>\n\t",changedEvent:e=>e.cooldownsChangeEmitter,getValue:e=>100*e.getCooldowns().hpPercentForDefensives,setValue:(e,t,o)=>{const s=t.getCooldowns();s.hpPercentForDefensives=o/100,t.setCooldowns(e,s)}},Gs={type:"number",float:!0,label:"Inspiration % Uptime",labelTooltip:"\n\t\t<p>% average of Encounter Duration, during which you have the Inspiration buff.</p>\n\t\t<p>If set to 0, the buff isn't applied.</p>\n\t",changedEvent:e=>e.healingModelChangeEmitter,getValue:e=>100*e.getHealingModel().inspirationUptime,setValue:(e,t,o)=>{const s=t.getHealingModel();s.inspirationUptime=o/100,t.setHealingModel(e,s)}};class Ts extends d{constructor(e,t){super(e,"gear-picker-root");const o=document.createElement("div");o.classList.add("gear-picker-left"),this.rootElem.appendChild(o);const s=document.createElement("div");s.classList.add("gear-picker-right"),this.rootElem.appendChild(s);const i=[M.ItemSlotHead,M.ItemSlotNeck,M.ItemSlotShoulder,M.ItemSlotBack,M.ItemSlotChest,M.ItemSlotWrist,M.ItemSlotMainHand,M.ItemSlotOffHand,M.ItemSlotRanged].map((e=>new Os(o,t,e))),a=[M.ItemSlotHands,M.ItemSlotWaist,M.ItemSlotLegs,M.ItemSlotFeet,M.ItemSlotFinger1,M.ItemSlotFinger2,M.ItemSlotTrinket1,M.ItemSlotTrinket2].map((e=>new Os(s,t,e)));this.itemPickers=i.concat(a).sort(((e,t)=>e.slot-t.slot))}}class Os extends d{constructor(e,t,o){super(e,"item-picker-root"),this._items=[],this._enchants=[],this._equippedItem=null,this.slot=o,this.player=t,this.rootElem.innerHTML='\n      <a class="item-picker-icon">\n        <div class="item-picker-sockets-container">\n        </div>\n      </a>\n      <div class="item-picker-labels-container">\n        <a class="item-picker-name"></a><br>\n        <a class="item-picker-enchant"></a>\n      </div>\n    ',this.iconElem=this.rootElem.getElementsByClassName("item-picker-icon")[0],this.nameElem=this.rootElem.getElementsByClassName("item-picker-name")[0],this.enchantElem=this.rootElem.getElementsByClassName("item-picker-enchant")[0],this.socketsContainerElem=this.rootElem.getElementsByClassName("item-picker-sockets-container")[0],this.item=t.getEquippedItem(o),t.sim.waitForInit().then((()=>{this._items=this.player.getItems(this.slot),this._enchants=this.player.getEnchants(this.slot);const e=e=>{e.preventDefault(),new _s(this.rootElem.closest(".individual-sim-ui"),this.player,this.slot,this._equippedItem,this._items,this._enchants)},t=e=>{e.preventDefault()};this.iconElem.addEventListener("click",e),this.iconElem.addEventListener("touchstart",e),this.iconElem.addEventListener("touchend",t),this.nameElem.addEventListener("click",e),this.nameElem.addEventListener("touchstart",e),this.nameElem.addEventListener("touchend",t),this.enchantElem.addEventListener("click",(e=>{e.preventDefault();new _s(this.rootElem.closest(".individual-sim-ui"),this.player,this.slot,this._equippedItem,this._items,this._enchants).openTab(1)})),this.enchantElem.addEventListener("touchstart",(e=>{e.preventDefault();new _s(this.rootElem.closest(".individual-sim-ui"),this.player,this.slot,this._equippedItem,this._items,this._enchants).openTab(1)})),this.enchantElem.addEventListener("touchend",t)})),t.gearChangeEmitter.on((()=>{this.item=t.getEquippedItem(o)})),t.professionChangeEmitter.on((()=>{null!=this._equippedItem&&this.player.setWowheadData(this._equippedItem,this.iconElem)})),WowSim.WhOnLoadHook=e=>(e.tooltip&&(e.tooltip=e.tooltip.replaceAll('href="/wotlk/item','href="/item')),e)}set item(e){var t;if(this.nameElem.removeAttribute("data-wowhead"),this.nameElem.removeAttribute("href"),this.iconElem.style.backgroundImage=`url('${t=this.slot,Ls[t]}')`,this.iconElem.removeAttribute("data-wowhead"),this.iconElem.removeAttribute("href"),this.enchantElem.removeAttribute("data-wowhead"),this.nameElem.textContent=Ze[this.slot],zo(this.nameElem,null),this.enchantElem.innerHTML="",this.socketsContainerElem.innerHTML="",null!=e){if(this.nameElem.textContent=e.item.name,e.item.heroic){var o=document.createElement("span");o.style.color="green",o.style.marginLeft="3px",o.innerText="[H]",this.nameElem.appendChild(o)}zo(this.nameElem,e.item.quality),this.player.setWowheadData(e,this.iconElem),this.player.setWowheadData(e,this.nameElem),e.asActionId().fill().then((e=>{e.setBackgroundAndHref(this.iconElem),e.setWowheadHref(this.nameElem)})),e.enchant&&(ws(e.enchant).then((e=>{this.enchantElem.textContent=e})),e.enchant.spellId?this.enchantElem.setAttribute("data-wowhead",`domain=wotlk&spell=${e.enchant.spellId}`):this.enchantElem.setAttribute("data-wowhead",`domain=wotlk&item=${e.enchant.itemId}`)),e.allSocketColors().forEach(((t,o)=>{const s=document.createElement("img");if(s.classList.add("item-picker-gem-icon"),et(s,t),null==e.gems[o]?s.src=tt(t):m.fromItemId(e.gems[o].id).fill().then((e=>{s.src=e.iconUrl})),this.socketsContainerElem.appendChild(s),o==e.numPossibleSockets-1&&[ot.ItemTypeWrist,ot.ItemTypeHands].includes(e.item.type)){const e=()=>{this.player.isBlacksmithing()?s.style.removeProperty("display"):s.style.display="none"};this.player.professionChangeEmitter.on(e),e()}}))}this._equippedItem=e}}class _s extends qo{constructor(e,t,o,s,i,a){super(e),this.player=t,this.rootElem.classList.add("selector-modal"),this.rootElem.innerHTML='\n\t\t\t<ul class="nav nav-tabs selector-modal-tabs">\n\t\t\t</ul>\n\t\t\t<div class="tab-content selector-modal-tab-content">\n\t\t\t</div>\n\t\t',this.addCloseButton(),this.tabsElem=this.rootElem.getElementsByClassName("selector-modal-tabs")[0],this.contentElem=this.rootElem.getElementsByClassName("selector-modal-tab-content")[0],this.setData(o,s,i,a)}openTab(e){this.tabsElem.getElementsByClassName("selector-modal-item-tab")[e].click()}setData(e,o,s,i){this.tabsElem.innerHTML="",this.contentElem.innerHTML="",this.addTab("Items",e,o,s.map((t=>({item:t,id:t.id,actionId:m.fromItem(t),name:t.name,quality:t.quality,heroic:t.heroic,phase:t.phase,baseEP:this.player.computeItemEP(t,e),ignoreEPFilter:!1,onEquip:(t,o)=>{const s=this.player.getEquippedItem(e);s?this.player.equipItem(t,e,s.withItem(o)):this.player.equipItem(t,e,new st(o))}}))),(t=>this.player.computeItemEP(t,e)),(e=>e?.item),it.GemColorUnknown,(t=>{this.player.equipItem(t,e,null)})),this.addTab("Enchants",e,o,i.map((o=>({item:o,id:o.effectId,actionId:o.spellId?m.fromSpellId(o.spellId):m.fromItemId(o.itemId),name:o.name,quality:o.quality,phase:o.phase||1,baseEP:this.player.computeStatsEP(new t(o.stats)),ignoreEPFilter:!0,heroic:!1,onEquip:(t,o)=>{const s=this.player.getEquippedItem(e);s&&this.player.equipItem(t,e,s.withEnchant(o))}}))),(e=>this.player.computeEnchantEP(e)),(e=>e?.enchant),it.GemColorUnknown,(t=>{const o=this.player.getEquippedItem(e);o&&this.player.equipItem(t,e,o.withEnchant(null))})),this.addGemTabs(e,o)}addGemTabs(e,o){if(null==o)return;const s=this.player.computeStatsEP(new t(o.item.socketBonus))/(o.item.gemSockets.length||1);o.curSocketColors(this.player.isBlacksmithing()).forEach(((i,a)=>{this.addTab("Gem "+(a+1),e,o,this.player.getGems(i).map((o=>({item:o,id:o.id,actionId:m.fromItemId(o.id),name:o.name,quality:o.quality,phase:o.phase,heroic:!1,baseEP:this.player.computeStatsEP(new t(o.stats)),ignoreEPFilter:!0,onEquip:(t,o)=>{const s=this.player.getEquippedItem(e);s&&this.player.equipItem(t,e,s.withGem(o,a))}}))),(e=>{let t=this.player.computeGemEP(e);return ie(e,i)&&(t+=s),t}),(e=>e?.gems[a]),i,(t=>{const o=this.player.getEquippedItem(e);o&&this.player.equipItem(t,e,o.withGem(null,a))}),(t=>{t.classList.add("selector-modal-tab-gem-icon"),et(t,i);const o=()=>{const o=this.player.getEquippedItem(e)?.gems[a];if(o)m.fromItemId(o.id).fill().then((e=>{t.style.backgroundImage=`url('${e.iconUrl}')`}));else{const e=tt(i);t.style.backgroundImage=`url('${e}')`}};this.player.gearChangeEmitter.on(o),this.addOnDisposeCallback((()=>this.player.gearChangeEmitter.off(o))),o()}))}))}addTab(e,t,o,i,a,l,n,r,d){if(0==i.length)return;t==M.ItemSlotTrinket1||t==M.ItemSlotTrinket2?i.sort(((e,t)=>t.item.ilvl-e.item.ilvl)):i.sort(((e,t)=>{const o=a(t.item)-a(e.item);return Math.abs(o)<.01?t.item.ilvl-e.item.ilvl:o}));const c=(e+"-tab").split(" ").join(""),m="Items"===e,p=document.createElement("fragment");p.innerHTML=`\n\t\t\t<li class="nav-item">\n\t\t\t\t<a\n\t\t\t\t\tclass="nav-link selector-modal-item-tab ${m?"active":""}"\n\t\t\t\t\tdata-content-id="${c}"\n\t\t\t\t\tdata-bs-toggle="tab"\n\t\t\t\t\tdata-bs-target="#${c}"\n\t\t\t\t\ttype="button"\n\t\t\t\t\trole="tab"\n\t\t\t\t\taria-controls="${c}"\n\t\t\t\t\taria-selected="${m}"\n\t\t\t\t></a>\n\t\t\t</li>\n\t\t`;const h=p.children[0],g=h.getElementsByClassName("selector-modal-item-tab")[0];g.dataset.label=e,d?d(g):g.textContent=e,this.tabsElem.appendChild(h);const u=document.createElement("fragment");u.innerHTML=`\n\t\t\t<div\n\t\t\t\tid="${c}"\n\t\t\t\tclass="selector-modal-tab-pane tab-pane fade ${m?"active show":""}"\n\t\t\t>\n\t\t\t\t<div class="selector-modal-tab-content-header">\n\t\t\t\t\t<input class="selector-modal-search form-control" type="text" placeholder="Search...">\n\t\t\t\t\t<button class="selector-modal-filters-button btn btn-primary">Filters</button>\n\t\t\t\t\t<div class="sim-input selector-modal-boolean-option selector-modal-show-1h-weapons"></div>\n\t\t\t\t\t<div class="sim-input selector-modal-boolean-option selector-modal-show-2h-weapons"></div>\n\t\t\t\t\t<div class="sim-input selector-modal-boolean-option selector-modal-show-matching-gems"></div>\n\t\t\t\t\t<div class="selector-modal-phase-selector"></div>\n\t\t\t\t\t<button class="selector-modal-remove-button btn btn-danger">Unequip Item</button>\n\t\t\t\t</div>\n\t\t\t\t<div style="width: 100%;height: 30px;font-size: 18px;">\n\t\t\t\t\t<span style="float:left">Item</span>\n\t\t\t\t\t<span style="float:right">EP(+/-)<span class="ep-help fas fa-search" style="font-size:10px"></span></span>\n\t\t\t\t</div>\n\t\t\t\t<ul class="selector-modal-list"></ul>\n\t\t\t</div>\n\t\t`;const f=u.children[0];this.contentElem.appendChild(f);const I=f.getElementsByClassName("ep-help").item(0);var w,x;tippy(I,{content:'These values are computed using stat weights which can be edited using the "Stat Weights" button.'}),w=f.getElementsByClassName("selector-modal-show-1h-weapons")[0],x=this.player.sim,new ys(w,x,{extraCssClasses:["show-1h-weapons-selector","mb-0"],label:"1H",inline:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().oneHandedWeapons,setValue:(e,t,o)=>{const s=t.getFilters();s.oneHandedWeapons=o,t.setFilters(e,s)}}),function(e,t){new ys(e,t,{extraCssClasses:["show-2h-weapons-selector","mb-0"],label:"2H",inline:!0,changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().twoHandedWeapons,setValue:(e,t,o)=>{const s=t.getFilters();s.twoHandedWeapons=o,t.setFilters(e,s)}})}(f.getElementsByClassName("selector-modal-show-2h-weapons")[0],this.player.sim),"Items"==e&&(t==M.ItemSlotMainHand||t==M.ItemSlotOffHand&&this.player.getClass()==R.ClassWarrior)||(f.getElementsByClassName("selector-modal-show-1h-weapons")[0].style.display="none",f.getElementsByClassName("selector-modal-show-2h-weapons")[0].style.display="none"),function(e,t){new ys(e,t,{extraCssClasses:["show-matching-gems-selector"],label:"Match Socket",changedEvent:e=>e.filtersChangeEmitter,getValue:e=>e.getFilters().matchingGemsOnly,setValue:(e,t,o)=>{const s=t.getFilters();s.matchingGemsOnly=o,t.setFilters(e,s)}})}(f.getElementsByClassName("selector-modal-show-matching-gems")[0],this.player.sim),e.startsWith("Gem")||(f.getElementsByClassName("selector-modal-show-matching-gems")[0].style.display="none"),function(e,t){new fs(e,t,{extraCssClasses:["phase-selector"],values:[{name:"Phase 1",value:1},{name:"Phase 2",value:2},{name:"Phase 3",value:3},{name:"Phase 4",value:4},{name:"Phase 5",value:5}],changedEvent:e=>e.phaseChangeEmitter,getValue:e=>e.getPhase(),setValue:(e,t,o)=>{t.setPhase(e,o)}})}(f.getElementsByClassName("selector-modal-phase-selector")[0],this.player.sim);const y=f.getElementsByClassName("selector-modal-filters-button")[0];bs.anyFiltersForSlot(t)?y.addEventListener("click",(()=>new bs(this.rootElem,this.player,t))):y.style.display="none","Items"==e&&(h.classList.add("active","in"),f.classList.add("active","in"));const b=f.getElementsByClassName("selector-modal-list")[0],S=this.player.sim.getFilters();let P=null;const v=i.map(((o,i)=>{const l=o.item,n=a(l),r=document.createElement("li");if(r.classList.add("selector-modal-list-item"),b.appendChild(r),r.dataset.idx=String(i),r.innerHTML=`\n\t\t\t\t<div class="selector-modal-list-label-cell">\n\t\t\t\t\t<a class="selector-modal-list-item-icon"></a>\n\t\t\t\t\t<a class="selector-modal-list-item-name">${o.heroic?o.name+'<span style="color:green">[H]</span>':o.name}</a>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<span class="selector-modal-list-item-favorite fa-star"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="selector-modal-list-item-ep">\n\t\t\t\t\t<span class="selector-modal-list-item-ep-value">${n<9.95?n.toFixed(1):Math.round(n)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="selector-modal-list-item-ep">\n\t\t\t\t\t<span class="selector-modal-list-item-ep-delta"></span>\n\t\t\t\t</div>\n      `,t==M.ItemSlotTrinket1||t==M.ItemSlotTrinket2){r.getElementsByClassName("selector-modal-list-item-ep")[0].style.display="none"}const d=r.getElementsByClassName("selector-modal-list-item-icon")[0],c=r.getElementsByClassName("selector-modal-list-item-name")[0];o.actionId.fill().then((e=>{e.setWowheadHref(d),e.setWowheadHref(c),d.style.backgroundImage=`url('${e.iconUrl}')`})),zo(c,o.quality);const m=e=>{e.preventDefault(),o.onEquip(s.nextEventID(),l),at.is(l)&&(this.removeTabs("Gem"),this.addGemTabs(t,this.player.getEquippedItem(t)))};c.addEventListener("click",m),d.addEventListener("click",m);const p=r.getElementsByClassName("selector-modal-list-item-favorite")[0];tippy(p,{content:"Add to Favorites"});const h=t=>{const a=this.player.sim.getFilters();if("Items"==e){const e=o.id;if(t)a.favoriteItems.push(e);else{const t=a.favoriteItems.indexOf(e);-1!=t&&a.favoriteItems.splice(t,1)}}else if("Enchants"==e){const e=xs(l);if(t)a.favoriteEnchants.push(e);else{const t=a.favoriteEnchants.indexOf(e);-1!=t&&a.favoriteEnchants.splice(t,1)}}else if(e.startsWith("Gem")){const e=o.id;if(t)a.favoriteGems.push(e);else{const t=a.favoriteGems.indexOf(e);-1!=t&&a.favoriteGems.splice(t,1)}}this.player.sim.setFilters(s.nextEventID(),a);const n=Array.from(b.children);if(t){const e=n.find((e=>"false"==e.dataset.fav||parseInt(e.dataset.idx)>i));e?b.insertBefore(r,e):b.appendChild(r),p.classList.add("fa-solid"),p.classList.remove("fa-regular"),r.dataset.fav="true"}else{let e=i;for(;e>0&&"false"==n[e].dataset.fav&&parseInt(n[e].dataset.idx)>i;)e--;for(;e<n.length&&("true"==n[e].dataset.fav||parseInt(n[e].dataset.idx)<i);)e++;e==n.length?b.appendChild(r):b.insertBefore(r,n[e]),p.classList.remove("fa-solid"),p.classList.add("fa-regular"),r.dataset.fav="false"}};p.addEventListener("click",(()=>h("false"==r.dataset.fav)));let g=!1;return"Items"==e?g=S.favoriteItems.includes(o.id):"Enchants"==e?g=S.favoriteEnchants.includes(xs(l)):e.startsWith("Gem")&&(g=S.favoriteGems.includes(o.id)),g?(p.classList.add("fa-solid"),r.dataset.fav="true",null==P?b.prepend(r):P.after(r),P=r):(p.classList.add("fa-regular"),r.dataset.fav="false"),r}));f.getElementsByClassName("selector-modal-remove-button")[0].addEventListener("click",(e=>{v.forEach((e=>e.classList.remove("active"))),r(s.nextEventID())}));const E=()=>{const o=this.player.getEquippedItem(t),s=l(o),n=s?"Enchants"==e?s.effectId:s.id:0,r=s?a(s):0;v.forEach((e=>{const t=parseInt(e.dataset.idx),o=i[t],s=o.item;e.classList.remove("active"),o.id==n&&e.classList.add("active");const l=e.getElementsByClassName("selector-modal-list-item-ep-delta")[0];if(l.textContent="",s){const e=a(s);lt(l,r,e,0)}}))};this.player.gearChangeEmitter.on(E),this.addOnDisposeCallback((()=>this.player.gearChangeEmitter.off(E))),E();const C=()=>{let o=v;const s=this.player.getEquippedItem(t);"Items"==e?o=this.player.filterItemData(o,(e=>i[parseInt(e.dataset.idx)].item),t):"Enchants"==e?o=this.player.filterEnchantData(o,(e=>i[parseInt(e.dataset.idx)].item),t,s):e.startsWith("Gem")&&(o=this.player.filterGemData(o,(e=>i[parseInt(e.dataset.idx)].item),t,n)),o=o.filter((e=>{const t=i[parseInt(e.dataset.idx)];if(t.phase>this.player.sim.getPhase())return!1;if(k.value.length>0){const e=k.value.toLowerCase().split(" "),s=t.name.toLowerCase();var o=!0;if(e.forEach((e=>{s.includes(e)||(o=!1)})),!o)return!1}return!0}));let a=0;v.forEach((e=>{o.includes(e)?(e.classList.remove("hidden"),a++,a%2==0?e.classList.remove("odd"):e.classList.add("odd")):e.classList.add("hidden")}))},k=f.getElementsByClassName("selector-modal-search")[0];k.addEventListener("input",C),k.addEventListener("keyup",(e=>{"Enter"==e.key&&v.find((e=>{if(e.classList.contains("hidden"))return!1;return e.getElementsByClassName("selector-modal-list-item-name")[0].click(),!0}))})),this.player.sim.phaseChangeEmitter.on(C),this.player.sim.filtersChangeEmitter.on(C),this.player.gearChangeEmitter.on(C),this.addOnDisposeCallback((()=>{this.player.sim.phaseChangeEmitter.off(C),this.player.sim.filtersChangeEmitter.off(C),this.player.gearChangeEmitter.off(C)})),C()}removeTabs(e){const t=Array.prototype.slice.call(this.tabsElem.getElementsByClassName("selector-modal-item-tab")).filter((t=>t.dataset.label.includes(e))),o=t.map((e=>document.getElementById(e.dataset.contentId.substring(1)))).filter((e=>Boolean(e)));t.forEach((e=>e.parentElement.remove())),o.forEach((e=>e.remove()))}}const Ls={[M.ItemSlotHead]:"https://cdn.seventyupgrades.com/item-slots/Head.jpg",[M.ItemSlotNeck]:"https://cdn.seventyupgrades.com/item-slots/Neck.jpg",[M.ItemSlotShoulder]:"https://cdn.seventyupgrades.com/item-slots/Shoulders.jpg",[M.ItemSlotBack]:"https://cdn.seventyupgrades.com/item-slots/Back.jpg",[M.ItemSlotChest]:"https://cdn.seventyupgrades.com/item-slots/Chest.jpg",[M.ItemSlotWrist]:"https://cdn.seventyupgrades.com/item-slots/Wrists.jpg",[M.ItemSlotHands]:"https://cdn.seventyupgrades.com/item-slots/Hands.jpg",[M.ItemSlotWaist]:"https://cdn.seventyupgrades.com/item-slots/Waist.jpg",[M.ItemSlotLegs]:"https://cdn.seventyupgrades.com/item-slots/Legs.jpg",[M.ItemSlotFeet]:"https://cdn.seventyupgrades.com/item-slots/Feet.jpg",[M.ItemSlotFinger1]:"https://cdn.seventyupgrades.com/item-slots/Finger.jpg",[M.ItemSlotFinger2]:"https://cdn.seventyupgrades.com/item-slots/Finger.jpg",[M.ItemSlotTrinket1]:"https://cdn.seventyupgrades.com/item-slots/Trinket.jpg",[M.ItemSlotTrinket2]:"https://cdn.seventyupgrades.com/item-slots/Trinket.jpg",[M.ItemSlotMainHand]:"https://cdn.seventyupgrades.com/item-slots/MainHand.jpg",[M.ItemSlotOffHand]:"https://cdn.seventyupgrades.com/item-slots/OffHand.jpg",[M.ItemSlotRanged]:"https://cdn.seventyupgrades.com/item-slots/Ranged.jpg"};class Rs extends d{constructor(e,t,o){super(e,"content-block",o.rootElem),this.config=o,this.rootElem.classList.add(t),o.classes&&this.rootElem.classList.add(...o.classes),this.headerElement=this.buildHeader(),this.bodyElement=this.buildBody()}buildHeader(){if(this.config.header&&Object.keys(this.config.header).length){let e=this.config.header.titleTag||"h6",t=document.createElement("fragment");t.innerHTML=`\n        <div class="content-block-header">\n          <${e}\n            class="content-block-title"\n            ${this.config.header.tooltip?'data-bs-toggle="tooltip"':""}\n            ${this.config.header.tooltip?`data-bs-title="${this.config.header.tooltip}"`:""}\n          >${this.config.header.title}</${e}>\n        </div>\n      `;let o=t.children[0];return this.config.header.classes&&o.classList.add(...this.config.header.classes),this.config.header.tooltip&&co.getOrCreateInstance(o.querySelector(".content-block-title")),this.rootElem.appendChild(o),o}return null}buildBody(){let e=document.createElement("div");return e.classList.add("content-block-body"),this.rootElem.appendChild(e),e}}class Ds extends d{constructor(e,t,o){super(e,"saved-data-manager-root"),this.modObject=t,this.config=o,this.userData=[],this.presets=[],this.frozen=!1;let s=new Rs(this.rootElem,"saved-data",{header:o.header});s.bodyElement.innerHTML='<div class="saved-data-container hide"></div>',this.savedDataDiv=s.bodyElement.querySelector(".saved-data-container"),o.presetsOnly||(s.bodyElement.appendChild(this.buildCreateContainer()),this.saveInput=s.bodyElement.querySelector(".saved-data-save-input"))}addSavedData(e){this.savedDataDiv.classList.remove("hide");const t=this.makeSavedData(e),o=e.isPreset?this.presets:this.userData,s=o.findIndex((t=>t.name==e.name));-1==s?(e.isPreset||0==this.presets.length?this.savedDataDiv.appendChild(t.elem):this.savedDataDiv.insertBefore(t.elem,this.presets[0].elem),o.push(t)):(this.savedDataDiv.replaceChild(t.elem,o[s].elem),o[s]=t)}makeSavedData(e){const t=document.createElement("fragment");t.innerHTML=`\n\t\t\t<div class="saved-data-set-chip badge rounded-pill">\n\t\t\t\t<a href="javascript:void(0)" class="saved-data-set-name" role="button">${e.name}</a>\n\t\t\t</div>\n\t\t`;const o=t.children[0];if(o.addEventListener("click",(t=>{this.config.setData(s.nextEventID(),this.modObject,e.data),this.saveInput&&(this.saveInput.value=e.name)})),!e.isPreset){let t=document.createElement("fragment");t.innerHTML='\n\t\t\t\t<a href="javascript:void(0)" class="saved-data-set-delete" role="button">\n\t\t\t\t\t<i class="fa fa-times fa-lg"></i>\n\t\t\t\t</a>\n\t\t\t';const s=t.children[0];o.appendChild(s),s.addEventListener("click",(t=>{t.stopPropagation();if(!confirm(`Delete saved ${this.config.label} '${e.name}'?`))return;const o=this.userData.findIndex((t=>t.name==e.name));this.userData[o].elem.remove(),this.userData.splice(o,1),this.saveUserData()}))}e.tooltip&&(o.setAttribute("data-bs-toggle","tooltip"),o.setAttribute("data-bs-title",e.tooltip),o.setAttribute("data-bs-trigger","hover"),o.setAttribute("data-bs-placement","bottom"),o.setAttribute("data-bs-html","true"),co.getOrCreateInstance(o));const i=()=>{this.config.equals(e.data,this.config.getData(this.modObject))?o.classList.add("active"):o.classList.remove("active"),e.enableWhen&&!e.enableWhen(this.modObject)?o.classList.add("disabled"):o.classList.remove("disabled")};return i(),this.config.changeEmitters.forEach((e=>e.on(i))),{name:e.name,data:e.data,elem:o,enableWhen:e.enableWhen}}saveUserData(){const e={};this.userData.forEach((t=>{e[t.name]=this.config.toJson(t.data)})),0==this.userData.length&&this.savedDataDiv.classList.add("hide"),window.localStorage.setItem(this.config.storageKey,JSON.stringify(e))}loadUserData(){const e=window.localStorage.getItem(this.config.storageKey);if(!e)return;let t;try{t=JSON.parse(e)}catch(o){console.warn("Invalid json for local storage value: "+e)}for(let s in t)try{this.addSavedData({name:s,data:this.config.fromJson(t[s])})}catch(o){console.warn("Failed parsing saved data: "+t[s])}}freeze(){this.frozen=!0,this.rootElem.classList.add("frozen")}buildCreateContainer(){let e=document.createElement("fragment");e.innerHTML=`\n\t\t\t<div class="saved-data-create-container">\n\t\t\t\t<label class="form-label">${this.config.label} Name</label>\n\t\t\t\t<input class="saved-data-save-input form-control" type="text" placeholder="Name">\n\t\t\t\t<button class="saved-data-save-button btn btn-primary">Save ${this.config.label}</button>\n\t\t\t</div>\n\t\t`;return e.querySelector(".saved-data-save-button").addEventListener("click",(e=>{if(this.frozen)return;const t=this.saveInput?.value;t?t in this.presets?alert(`${this.config.label} with name ${t} already exists.`):(this.addSavedData({name:t,data:this.config.getData(this.modObject)}),this.saveUserData()):alert(`Choose a label for your saved ${this.config.label}!`)})),e.children[0]}}function Us(e,t,o){return{inputs:e,numColumns:o||1,label:t}}function Ms(e){const t=e.getModObject;return{type:"boolean",label:e.label,labelTooltip:e.labelTooltip,changedEvent:o=>e.changedEvent(t(o)),getValue:o=>e.getValue(t(o)),setValue:(o,s,i)=>e.setValue(o,t(s),i),enableWhen:e.enableWhen?o=>e.enableWhen(t(o)):void 0,showWhen:e.showWhen?o=>e.showWhen(t(o)):void 0}}function js(e){return Ms({label:e.label,labelTooltip:e.labelTooltip,getModObject:e=>e,getValue:e.getValue||(t=>t.getSpecOptions()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getSpecOptions();i[e.fieldName]=s,o.setSpecOptions(t,i)}),changedEvent:e.changeEmitter||(e=>e.specOptionsChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen,extraCssClasses:e.extraCssClasses})}function Fs(e){return Ms({label:e.label,labelTooltip:e.labelTooltip,getModObject:e=>e,getValue:e.getValue||(t=>t.getRotation()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getRotation();i[e.fieldName]=s,o.setRotation(t,i)}),changedEvent:e.changeEmitter||(e=>e.rotationChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen,extraCssClasses:e.extraCssClasses})}function Ws(e){const t=e.getModObject;return{type:"number",label:e.label,labelTooltip:e.labelTooltip,float:e.float,positive:e.positive,changedEvent:o=>e.changedEvent(t(o)),getValue:o=>e.getValue(t(o)),setValue:(o,s,i)=>e.setValue(o,t(s),i),enableWhen:e.enableWhen?o=>e.enableWhen(t(o)):void 0,showWhen:e.showWhen?o=>e.showWhen(t(o)):void 0}}function Bs(e){const t={label:e.label,labelTooltip:e.labelTooltip,float:e.float,positive:e.positive,getModObject:e=>e,getValue:e.getValue||(t=>t.getSpecOptions()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getSpecOptions();i[e.fieldName]=s,o.setSpecOptions(t,i)}),changedEvent:e.changeEmitter||(e=>e.specOptionsChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen,extraCssClasses:e.extraCssClasses};if(e.percent){const e=t.getValue;t.getValue=t=>100*e(t);const o=t.setValue;t.setValue=(e,t,s)=>o(e,t,s/100)}return Ws(t)}function As(e){const t={label:e.label,labelTooltip:e.labelTooltip,float:e.float,positive:e.positive,getModObject:e=>e,getValue:e.getValue||(t=>t.getRotation()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getRotation();i[e.fieldName]=s,o.setRotation(t,i)}),changedEvent:e.changeEmitter||(e=>e.rotationChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen,extraCssClasses:e.extraCssClasses};if(e.percent){const e=t.getValue;t.getValue=t=>100*e(t);const o=t.setValue;t.setValue=(e,t,s)=>o(e,t,s/100)}return Ws(t)}function Hs(e){const t=e.getModObject;return{type:"enum",label:e.label,labelTooltip:e.labelTooltip,values:e.values,changedEvent:o=>e.changedEvent(t(o)),getValue:o=>e.getValue(t(o)),setValue:(o,s,i)=>e.setValue(o,t(s),i),enableWhen:e.enableWhen?o=>e.enableWhen(t(o)):void 0,showWhen:e.showWhen?o=>e.showWhen(t(o)):void 0}}function zs(e){return Hs({label:e.label,labelTooltip:e.labelTooltip,values:e.values,getModObject:e=>e,getValue:e.getValue||(t=>t.getSpecOptions()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getSpecOptions();i[e.fieldName]=s,o.setSpecOptions(t,i)}),changedEvent:e.changeEmitter||(e=>e.specOptionsChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen})}function Vs(e){return Hs({label:e.label,labelTooltip:e.labelTooltip,values:e.values,getModObject:e=>e,getValue:e.getValue||(t=>t.getRotation()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getRotation();i[e.fieldName]=s,o.setRotation(t,i)}),changedEvent:e.changeEmitter||(e=>e.rotationChangeEmitter),enableWhen:e.enableWhen,showWhen:e.showWhen})}function qs(e){const t=e.getModObject;return{type:"icon",id:e.id,states:e.states,changedEvent:o=>e.changedEvent(t(o)),getValue:o=>e.getValue(t(o)),setValue:(o,s,i)=>e.setValue(o,t(s),i),extraCssClasses:e.extraCssClasses}}function $s(e,t,o,s){return qs({getModObject:e.getModObject,id:t,states:2,changedEvent:e.changeEmitter,getValue:e.getFieldValue||(t=>s?e.getValue(t)[o]==s:e.getValue(t)[o]),setValue:e.setFieldValue||((t,i,a)=>{const l=e.getValue(i);s?a?l[o]=s:l[o]==s&&(l[o]=0):l[o]=a,e.setValue(t,i,l)}),extraCssClasses:e.extraCssClasses})}function Ys(e){return $s({getModObject:e=>e,getValue:e=>e.getSpecOptions(),setValue:(e,t,o)=>t.setSpecOptions(e,o),changeEmitter:e.changeEmitter||(e=>e.specOptionsChangeEmitter),extraCssClasses:e.extraCssClasses,getFieldValue:e.getValue,setFieldValue:e.setValue},e.id,e.fieldName,e.value)}function Js(e,t,o,s){return qs({getModObject:e.getModObject,id:t,states:0,changedEvent:e.changeEmitter,getValue:t=>e.getValue(t)[o],setValue:(t,i,a)=>{const l=e.getValue(i);if(s){const e=a-l[o];a+=(s-1)*e}a<0&&(a=0),l[o]=a,e.setValue(t,i,l)}})}function Ks(e,t,o,s){const i=Js(e,t,s);return i.states=3,i.improvedId=o,i}function Qs(e,t,o,s,i){const a=Js(e,t,s,i);return a.states=o,a}function Xs(e){const t=e.getModObject;return{type:"iconEnum",numColumns:e.numColumns,values:e.values.map((e=>{if(e.showWhen){const o=e.showWhen;e.showWhen=e=>o(t(e))}return e})),equals:e.equals,showWhen:o=>!e.showWhen||e.showWhen(t(o)),zeroValue:e.zeroValue,changedEvent:o=>e.changedEvent(t(o)),getValue:o=>e.getValue(t(o)),setValue:(o,s,i)=>e.setValue(o,t(s),i),extraCssClasses:e.extraCssClasses}}function Zs(e){return Xs({numColumns:e.numColumns||1,values:e.values,equals:(e,t)=>e==t,showWhen:e.showWhen,zeroValue:0,getModObject:e=>e,getValue:e.getValue||(t=>t.getSpecOptions()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getSpecOptions();i[e.fieldName]=s,o.setSpecOptions(t,i)}),changedEvent:e.changeEmitter||(e=>e.specOptionsChangeEmitter),extraCssClasses:e.extraCssClasses})}function ei(e){return Xs({numColumns:e.numColumns||1,values:e.values,equals:(e,t)=>e==t,showWhen:e.showWhen,zeroValue:0,getModObject:e=>e,getValue:e.getValue||(t=>t.getRotation()[e.fieldName]),setValue:e.setValue||((t,o,s)=>{const i=o.getRotation();i[e.fieldName]=s,o.setRotation(t,i)}),changedEvent:e.changeEmitter||(e=>e.rotationChangeEmitter),extraCssClasses:e.extraCssClasses})}function ti(e){return{type:"customRotation",getValue:e.getValue||(t=>t.getRotation()[e.fieldName]||nt.create()),setValue:e.setValue||((t,o,s)=>{const i=o.getRotation();i[e.fieldName]=s,o.setRotation(t,i)}),showWhen:e.showWhen,numColumns:e.numColumns,showCastsPerMinute:e.showCastsPerMinute||!1,values:e.values}}function oi(e){return Zs({fieldName:"petType",numColumns:5,values:[{value:rt.PetNone,tooltip:"No Pet"},{actionId:m.fromPetName("Bat"),tooltip:"Bat",value:rt.Bat},{actionId:m.fromPetName("Bear"),tooltip:"Bear",value:rt.Bear},{actionId:m.fromPetName("Bird of Prey"),tooltip:"Bird of Prey",value:rt.BirdOfPrey},{actionId:m.fromPetName("Boar"),tooltip:"Boar",value:rt.Boar},{actionId:m.fromPetName("Carrion Bird"),tooltip:"Carrion Bird",value:rt.CarrionBird},{actionId:m.fromPetName("Cat"),tooltip:"Cat",value:rt.Cat},{actionId:m.fromPetName("Chimaera"),tooltip:"Chimaera (Exotic)",value:rt.Chimaera},{actionId:m.fromPetName("Core Hound"),tooltip:"Core Hound (Exotic)",value:rt.CoreHound},{actionId:m.fromPetName("Crab"),tooltip:"Crab",value:rt.Crab},{actionId:m.fromPetName("Crocolisk"),tooltip:"Crocolisk",value:rt.Crocolisk},{actionId:m.fromPetName("Devilsaur"),tooltip:"Devilsaur (Exotic)",value:rt.Devilsaur},{actionId:m.fromPetName("Dragonhawk"),tooltip:"Dragonhawk",value:rt.Dragonhawk},{actionId:m.fromPetName("Gorilla"),tooltip:"Gorilla",value:rt.Gorilla},{actionId:m.fromPetName("Hyena"),tooltip:"Hyena",value:rt.Hyena},{actionId:m.fromPetName("Moth"),tooltip:"Moth",value:rt.Moth},{actionId:m.fromPetName("Nether Ray"),tooltip:"Nether Ray",value:rt.NetherRay},{actionId:m.fromPetName("Raptor"),tooltip:"Raptor",value:rt.Raptor},{actionId:m.fromPetName("Ravager"),tooltip:"Ravager",value:rt.Ravager},{actionId:m.fromPetName("Rhino"),tooltip:"Rhino",value:rt.Rhino},{actionId:m.fromPetName("Scorpid"),tooltip:"Scorpid",value:rt.Scorpid},{actionId:m.fromPetName("Serpent"),tooltip:"Serpent",value:rt.Serpent},{actionId:m.fromPetName("Silithid"),tooltip:"Silithid (Exotic)",value:rt.Silithid},{actionId:m.fromPetName("Spider"),tooltip:"Spider",value:rt.Spider},{actionId:m.fromPetName("Spirit Beast"),tooltip:"Spirit Beast (Exotic)",value:rt.SpiritBeast},{actionId:m.fromPetName("Spore Bat"),tooltip:"Spore Bat",value:rt.SporeBat},{actionId:m.fromPetName("Tallstrider"),tooltip:"Tallstrider",value:rt.Tallstrider},{actionId:m.fromPetName("Turtle"),tooltip:"Turtle",value:rt.Turtle},{actionId:m.fromPetName("Warp Stalker"),tooltip:"Warp Stalker",value:rt.WarpStalker},{actionId:m.fromPetName("Wasp"),tooltip:"Wasp",value:rt.Wasp},{actionId:m.fromPetName("Wind Serpent"),tooltip:"Wind Serpent",value:rt.WindSerpent},{actionId:m.fromPetName("Wolf"),tooltip:"Wolf",value:rt.Wolf},{actionId:m.fromPetName("Worm"),tooltip:"Worm (Exotic)",value:rt.Worm}]})}const si={[rt.PetNone]:1,[rt.Bat]:0,[rt.Bear]:2,[rt.BirdOfPrey]:0,[rt.Boar]:2,[rt.CarrionBird]:1,[rt.Cat]:1,[rt.Chimaera]:0,[rt.CoreHound]:1,[rt.Crab]:2,[rt.Crocolisk]:2,[rt.Devilsaur]:1,[rt.Dragonhawk]:0,[rt.Gorilla]:2,[rt.Hyena]:1,[rt.Moth]:1,[rt.NetherRay]:0,[rt.Raptor]:1,[rt.Ravager]:0,[rt.Rhino]:2,[rt.Scorpid]:2,[rt.Serpent]:0,[rt.Silithid]:0,[rt.Spider]:0,[rt.SpiritBeast]:1,[rt.SporeBat]:0,[rt.Tallstrider]:1,[rt.Turtle]:2,[rt.WarpStalker]:2,[rt.Wasp]:1,[rt.WindSerpent]:0,[rt.Wolf]:1,[rt.Worm]:2},ii=[0,1,2],ai=["cunning","ferocity","tenacity"];class li extends d{constructor(e,t){super(e,"hunter-pet-talents-picker"),this.player=t,this.rootElem.innerHTML='\n\t\t\t<div class="pet-talents-container"></div>\n\t\t',this.curCategory=this.getCategoryFromPlayer(),this.curTalents=this.getPetTalentsFromPlayer(),this.savedSets=ci.slice(),this.savedSets[this.curCategory]=this.curTalents,this.rootElem.classList.add(ai[this.curCategory]);const o=this.rootElem.getElementsByClassName("pet-talents-container")[0],i=ii.map(((e,s)=>{const i=gi[s],a=document.createElement("div");a.classList.add("hunter-pet-talents-"+ai[s]),o.appendChild(a);const l=new xo(a,t,{trees:i,changedEvent:e=>e.specOptionsChangeEmitter,getValue:e=>es(this.getPetTalentsFromPlayer(),i),setValue:(e,t,o)=>{const a=t.getSpecOptions();a.petTalents=Zo(dt.create(),o,i),t.setSpecOptions(e,a),this.savedSets[s]=a.petTalents,this.curTalents=a.petTalents},pointsPerRow:3,maxPoints:16}),n=new Ds(a,this.player,{presetsOnly:!0,label:"Pet Talents",storageKey:"__NEVER_USED__",getData:e=>es(this.getPetTalentsFromPlayer(),i),setData:(e,t,o)=>{const a=t.getSpecOptions();a.petTalents=Zo(dt.create(),o,i),t.setSpecOptions(e,a),this.savedSets[s]=a.petTalents,this.curTalents=a.petTalents},changeEmitters:[this.player.specOptionsChangeEmitter],equals:(e,t)=>e==t,toJson:e=>e,fromJson:e=>""});return n.addSavedData({name:"Default",isPreset:!0,data:es(ci[s],i)}),n.addSavedData({name:"BM",isPreset:!0,data:es(hi[s],i)}),l}));t.specOptionsChangeEmitter.on((()=>{const e=this.getCategoryFromPlayer(),t=ii.indexOf(e);if(e!=this.curCategory){this.curCategory=e,this.rootElem.classList.remove(...ai),this.rootElem.classList.add(ai[t]);const o=this.getPetTalentsFromPlayer();if(dt.equals(o,this.curTalents)){const e=this.player.getSpecOptions();e.petTalents=this.savedSets[this.curCategory],this.player.setSpecOptions(s.nextEventID(),e),this.curTalents=e.petTalents}else this.curTalents=o,this.savedSets[this.curCategory]=this.curTalents}}));const a=()=>{const e=this.player.getTalents().beastMastery?20:16;i.forEach((t=>t.setMaxPoints(e)))};t.talentsChangeEmitter.on(a),a()}getPetTalentsFromPlayer(){return this.player.getSpecOptions().petTalents||dt.create()}getCategoryFromPlayer(){const e=this.player.getSpecOptions().petType;return si[e]}}function ni(e){const t=si[e],o=ii.indexOf(t);return gi[o]}const ri=dt.create({cobraReflexes:2,dive:!0,boarsSpeed:!0,mobility:2,spikedCollar:3,cornered:2,feedingFrenzy:2,wolverineBite:!0,bullheaded:!0,wildHunt:1}),di=dt.create({cobraReflexes:2,dive:!0,spikedCollar:3,boarsSpeed:!0,cullingTheHerd:3,spidersBite:3,rabid:!0,callOfTheWild:!0,wildHunt:1}),ci=[ri,di,dt.create({cobraReflexes:2,charge:!0,greatStamina:3,bloodOfTheRhino:2,guardDog:2,thunderstomp:!0,graceOfTheMantis:2,taunt:!0,roarOfSacrifice:!0,wildHunt:1})],mi=dt.create({cobraReflexes:2,dive:!0,boarsSpeed:!0,mobility:2,spikedCollar:3,cornered:2,feedingFrenzy:2,wolverineBite:!0,bullheaded:!0,graceOfTheMantis:2,wildHunt:2,roarOfSacrifice:!0}),pi=dt.create({cobraReflexes:2,dive:!0,bloodthirsty:1,spikedCollar:3,boarsSpeed:!0,cullingTheHerd:3,spidersBite:3,rabid:!0,callOfTheWild:!0,sharkAttack:2,wildHunt:2}),hi=[mi,pi,dt.create({cobraReflexes:2,charge:!0,greatStamina:3,spikedCollar:3,bloodOfTheRhino:2,guardDog:2,thunderstomp:!0,graceOfTheMantis:2,taunt:!0,roarOfSacrifice:!0,wildHunt:2})],gi=[So([{name:"Cunning",backgroundUrl:"https://wotlkdb.com/static/images/wow/hunterpettalents/bg_3.jpg?85",talents:[{fieldName:"cobraReflexes",location:{rowIdx:0,colIdx:0},spellIds:[61682],maxPoints:2},{fieldName:"dive",location:{rowIdx:0,colIdx:1},spellIds:[23145],maxPoints:1},{fieldName:"greatStamina",location:{rowIdx:0,colIdx:2},spellIds:[61686],maxPoints:3},{fieldName:"naturalArmor",location:{rowIdx:0,colIdx:3},spellIds:[61689],maxPoints:2},{fieldName:"boarsSpeed",location:{rowIdx:1,colIdx:0},spellIds:[19596],maxPoints:1},{fieldName:"mobility",location:{rowIdx:1,colIdx:1},prereqLocation:{rowIdx:0,colIdx:1},spellIds:[53554],maxPoints:2},{fieldName:"owlsFocus",location:{rowIdx:1,colIdx:2},spellIds:[53514,53516],maxPoints:2},{fieldName:"spikedCollar",location:{rowIdx:1,colIdx:3},spellIds:[53182],maxPoints:3},{fieldName:"cullingTheHerd",location:{rowIdx:2,colIdx:0},spellIds:[61680,61681,52858],maxPoints:3},{fieldName:"lionhearted",location:{rowIdx:2,colIdx:1},spellIds:[53409,53411],maxPoints:2},{fieldName:"carrionFeeder",location:{rowIdx:2,colIdx:2},spellIds:[54044],maxPoints:1},{fieldName:"greatResistance",location:{rowIdx:3,colIdx:1},spellIds:[53427,53429],maxPoints:3},{fieldName:"cornered",location:{rowIdx:3,colIdx:2},spellIds:[52234,53497],maxPoints:2},{fieldName:"feedingFrenzy",location:{rowIdx:3,colIdx:3},prereqLocation:{rowIdx:1,colIdx:3},spellIds:[53511],maxPoints:2},{fieldName:"wolverineBite",location:{rowIdx:4,colIdx:0},spellIds:[53508],maxPoints:1},{fieldName:"roarOfRecovery",location:{rowIdx:4,colIdx:1},spellIds:[53517],maxPoints:1},{fieldName:"bullheaded",location:{rowIdx:4,colIdx:2},prereqLocation:{rowIdx:3,colIdx:2},spellIds:[53490],maxPoints:1},{fieldName:"graceOfTheMantis",location:{rowIdx:4,colIdx:3},spellIds:[53450],maxPoints:2},{fieldName:"wildHunt",location:{rowIdx:5,colIdx:0},prereqLocation:{rowIdx:4,colIdx:0},spellIds:[62758,62762],maxPoints:2},{fieldName:"roarOfSacrifice",location:{rowIdx:5,colIdx:3},prereqLocation:{rowIdx:4,colIdx:3},spellIds:[53480],maxPoints:1}]}]),So([{name:"Ferocity",backgroundUrl:"https://wotlkdb.com/static/images/wow/hunterpettalents/bg_1.jpg?85",talents:[{fieldName:"cobraReflexes",location:{rowIdx:0,colIdx:0},spellIds:[61682],maxPoints:2},{fieldName:"dive",location:{rowIdx:0,colIdx:1},spellIds:[23145],maxPoints:1},{fieldName:"greatStamina",location:{rowIdx:0,colIdx:2},spellIds:[61686],maxPoints:3},{fieldName:"naturalArmor",location:{rowIdx:0,colIdx:3},spellIds:[61689],maxPoints:2},{fieldName:"improvedCower",location:{rowIdx:1,colIdx:0},spellIds:[53180],maxPoints:2},{fieldName:"bloodthirsty",location:{rowIdx:1,colIdx:1},spellIds:[53186],maxPoints:2},{fieldName:"spikedCollar",location:{rowIdx:1,colIdx:2},spellIds:[53182],maxPoints:3},{fieldName:"boarsSpeed",location:{rowIdx:1,colIdx:3},spellIds:[19596],maxPoints:1},{fieldName:"cullingTheHerd",location:{rowIdx:2,colIdx:0},spellIds:[61680,61681,52858],maxPoints:3},{fieldName:"lionhearted",location:{rowIdx:2,colIdx:2},spellIds:[53409,53411],maxPoints:2},{fieldName:"charge",location:{rowIdx:2,colIdx:3},spellIds:[61685],maxPoints:1},{fieldName:"heartOfThePheonix",location:{rowIdx:3,colIdx:1},prereqLocation:{rowIdx:1,colIdx:1},spellIds:[55709],maxPoints:1},{fieldName:"spidersBite",location:{rowIdx:3,colIdx:2},spellIds:[53203],maxPoints:3},{fieldName:"greatResistance",location:{rowIdx:3,colIdx:3},spellIds:[53427,53429],maxPoints:3},{fieldName:"rabid",location:{rowIdx:4,colIdx:0},spellIds:[53401],maxPoints:1},{fieldName:"lickYourWounds",location:{rowIdx:4,colIdx:1},prereqLocation:{rowIdx:3,colIdx:1},spellIds:[53426],maxPoints:1},{fieldName:"callOfTheWild",location:{rowIdx:4,colIdx:2},prereqLocation:{rowIdx:3,colIdx:2},spellIds:[53434],maxPoints:1},{fieldName:"sharkAttack",location:{rowIdx:5,colIdx:0},spellIds:[62759],maxPoints:2},{fieldName:"wildHunt",location:{rowIdx:5,colIdx:2},prereqLocation:{rowIdx:4,colIdx:2},spellIds:[62758,62762],maxPoints:2}]}]),So([{name:"Tenacity",backgroundUrl:"https://wotlkdb.com/static/images/wow/hunterpettalents/bg_2.jpg?85",talents:[{fieldName:"cobraReflexes",location:{rowIdx:0,colIdx:0},spellIds:[61682],maxPoints:2},{fieldName:"charge",location:{rowIdx:0,colIdx:1},spellIds:[61685],maxPoints:1},{fieldName:"greatStamina",location:{rowIdx:0,colIdx:2},spellIds:[61686],maxPoints:3},{fieldName:"naturalArmor",location:{rowIdx:0,colIdx:3},spellIds:[61689],maxPoints:2},{fieldName:"spikedCollar",location:{rowIdx:1,colIdx:0},spellIds:[53182],maxPoints:3},{fieldName:"boarsSpeed",location:{rowIdx:1,colIdx:1},spellIds:[19596],maxPoints:1},{fieldName:"bloodOfTheRhino",location:{rowIdx:1,colIdx:2},prereqLocation:{rowIdx:0,colIdx:2},spellIds:[53481],maxPoints:2},{fieldName:"petBarding",location:{rowIdx:1,colIdx:3},prereqLocation:{rowIdx:0,colIdx:3},spellIds:[53175],maxPoints:2},{fieldName:"cullingTheHerd",location:{rowIdx:2,colIdx:0},spellIds:[61680,61681,52858],maxPoints:3},{fieldName:"guardDog",location:{rowIdx:2,colIdx:1},spellIds:[53178],maxPoints:2},{fieldName:"lionhearted",location:{rowIdx:2,colIdx:2},spellIds:[53409,53411],maxPoints:2},{fieldName:"thunderstomp",location:{rowIdx:2,colIdx:3},spellIds:[63900],maxPoints:1},{fieldName:"graceOfTheMantis",location:{rowIdx:3,colIdx:2},spellIds:[53450],maxPoints:2},{fieldName:"greatResistance",location:{rowIdx:3,colIdx:3},spellIds:[53427,53429],maxPoints:3},{fieldName:"lastStand",location:{rowIdx:4,colIdx:0},spellIds:[53478],maxPoints:1},{fieldName:"taunt",location:{rowIdx:4,colIdx:1},prereqLocation:{rowIdx:2,colIdx:1},spellIds:[53477],maxPoints:1},{fieldName:"roarOfSacrifice",location:{rowIdx:4,colIdx:2},prereqLocation:{rowIdx:3,colIdx:2},spellIds:[53480],maxPoints:1},{fieldName:"intervene",location:{rowIdx:4,colIdx:3},spellIds:[53476],maxPoints:1},{fieldName:"silverback",location:{rowIdx:5,colIdx:1},spellIds:[62764],maxPoints:2},{fieldName:"wildHunt",location:{rowIdx:5,colIdx:2},prereqLocation:{rowIdx:4,colIdx:2},spellIds:[62758,62762],maxPoints:2}]}])];class ui extends n{constructor(e,t,o){super(e,"icon-enum-picker-root",t,o),this.rootElem.classList.add("icon-picker","dropdown"),this.config=o,this.currentValue=this.config.zeroValue,o.showWhen&&o.changedEvent(this.modObject).on((e=>{o.showWhen&&o.showWhen(this.modObject)||this.rootElem.classList.add("hide")})),o.tooltip&&(this.rootElem.setAttribute("data-bs-toggle","tooltip"),this.rootElem.setAttribute("data-bs-title",o.tooltip),co.getOrCreateInstance(this.rootElem)),this.rootElem.innerHTML='\n\t\t\t<a\n\t\t\t\thref="javascript:void(0)"\n\t\t\t\tclass="icon-picker-button"\n\t\t\t\trole="button"\n\t\t\t\tdata-bs-toggle="dropdown"\n\t\t\t\tdata-bs-placement="bottom"\n\t\t\t\taria-expanded="false"\n\t\t\t>\n\t\t\t\t<span class=\'icon-picker-label\'></span>\n\t\t\t</a>\n\t\t\t<ul class="dropdown-menu"></ul>\n    ',this.buttonElem=this.rootElem.querySelector(".icon-picker-button"),this.buttonText=this.buttonElem.querySelector(".icon-picker-label");const i=this.rootElem.querySelector(".dropdown-menu");i.style.gridTemplateColumns=`repeat(${this.config.numColumns}, 1fr)`,o.values.forEach(((e,t)=>{const a=document.createElement("li");i.appendChild(a);const l=document.createElement("a");if(l.classList.add("icon-dropdown-option","dropdown-option"),a.appendChild(l),this.setImage(l,e),null!=e.text){const t=document.createElement("div");t.classList.add("icon-picker-label"),t.textContent=e.text,l.append(t)}e.tooltip&&tippy(l,{content:e.tooltip,allowHTML:!0}),e.showWhen&&o.changedEvent(this.modObject).on((t=>{e.showWhen&&e.showWhen(this.modObject)?a.classList.remove("hide"):a.classList.add("hide")})),l.addEventListener("click",(t=>{t.preventDefault(),this.currentValue=e.value,this.inputChanged(s.nextEventID()),l.dispatchEvent(new Event("mouseout"))})),l.addEventListener("touchstart",(e=>{e.preventDefault()})),l.addEventListener("touchend",(t=>{t.preventDefault(),this.currentValue=e.value,this.inputChanged(s.nextEventID()),i.style.display="none"}))})),this.init()}setActionImage(e,t){t.fillAndSet(e,!0,!0)}setImage(e,t){t.actionId?this.setActionImage(e,t.actionId):(e.style.backgroundImage="",e.style.backgroundColor=t.color)}getInputElem(){return this.buttonElem}getInputValue(){return this.currentValue}setInputValue(e){this.currentValue=e,this.config.equals(this.currentValue,this.config.zeroValue)?this.buttonElem.classList.remove("active"):this.buttonElem.classList.add("active"),this.buttonText.textContent="",this.buttonText.style.display="none";const t=this.config.values.find((e=>this.config.equals(e.value,this.currentValue)));if(t)this.setImage(this.buttonElem,t),null!=t.text&&(this.buttonText.style.display="block",this.buttonText.textContent=t.text);else if(this.config.backupIconUrl){const e=this.config.backupIconUrl(this.currentValue);this.setActionImage(this.buttonElem,e),this.rootElem.classList.remove("active")}}}class fi extends d{constructor(e,t){super(e,"log-runner-root");const o=document.createElement("div");o.classList.add("log-runner-control-bar"),this.rootElem.appendChild(o);const s=document.createElement("button");s.classList.add("log-runner-button","sim-button"),s.textContent="SIM 1 ITERATION",o.appendChild(s);const i=document.createElement("div");i.classList.add("log-runner-logs"),this.rootElem.appendChild(i),s.addEventListener("click",(async()=>t.runSimOnce())),t.sim.simResultEmitter.on(((e,t)=>{const o=t.logs;i.textContent="",o.filter((e=>!e.isCastCompleted())).forEach((e=>{const t=document.createElement("span");t.textContent=e.toString(),i.appendChild(t)}))}))}}class Ii extends d{constructor(e){super(e,"results-viewer"),this.rootElem.innerHTML='\n      <div class="results-pending">\n        <div class="loader"></div>\n      </div>\n      <div class="results-content">\n      </div>\n\t\t',this.pendingElem=this.rootElem.getElementsByClassName("results-pending")[0],this.contentElem=this.rootElem.getElementsByClassName("results-content")[0],this.hideAll()}hideAll(){this.contentElem.style.display="none",this.pendingElem.style.display="none"}setPending(){this.contentElem.style.display="none",this.pendingElem.style.display="initial"}setContent(e){this.contentElem.innerHTML=e,this.contentElem.style.display="initial",this.pendingElem.style.display="none"}}var wi=(e=>(e[e.Unlaunched=0]="Unlaunched",e[e.Alpha=1]="Alpha",e[e.Beta=2]="Beta",e[e.Launched=3]="Launched",e))(wi||{});const xi={[ct.SpecBalanceDruid]:1,[ct.SpecElementalShaman]:1,[ct.SpecEnhancementShaman]:1,[ct.SpecFeralDruid]:1,[ct.SpecFeralTankDruid]:1,[ct.SpecHunter]:2,[ct.SpecMage]:1,[ct.SpecRogue]:1,[ct.SpecRetributionPaladin]:1,[ct.SpecProtectionPaladin]:1,[ct.SpecHealingPriest]:1,[ct.SpecShadowPriest]:1,[ct.SpecSmitePriest]:1,[ct.SpecWarlock]:1,[ct.SpecWarrior]:1,[ct.SpecProtectionWarrior]:1,[ct.SpecDeathknight]:1,[ct.SpecTankDeathknight]:0},yi=[ct.SpecSmitePriest];function bi(e){return Object.keys(U).map((e=>parseInt(e))).filter((t=>U[t]==e&&xi[t]>0))}class Si extends d{constructor(e,t){super(e,"sim-title-dropdown-root"),this.specLabels={[ct.SpecBalanceDruid]:"Balance",[ct.SpecElementalShaman]:"Elemental",[ct.SpecEnhancementShaman]:"Enhancement",[ct.SpecFeralDruid]:"Feral DPS",[ct.SpecFeralTankDruid]:"Feral Tank",[ct.SpecHunter]:"Hunter",[ct.SpecMage]:"Mage",[ct.SpecRogue]:"Rogue",[ct.SpecRetributionPaladin]:"Retribution",[ct.SpecProtectionPaladin]:"Protection",[ct.SpecHealingPriest]:"Healing",[ct.SpecShadowPriest]:"Shadow",[ct.SpecSmitePriest]:"Smite",[ct.SpecWarlock]:"Warlock",[ct.SpecWarrior]:"DPS",[ct.SpecProtectionWarrior]:"Protection",[ct.SpecDeathknight]:"DPS",[ct.SpecTankDeathknight]:"Tank"};let o=null===t?{type:"Raid"}:{type:"Spec",index:t},s=this.buildRootSimLink(o);this.rootElem.innerHTML=`\n      <div class="dropdown sim-link-dropdown">\n        ${s.outerHTML}\n        <ul class="dropdown-menu"></ul>\n      </div>\n    `,this.dropdownMenu=this.rootElem.getElementsByClassName("dropdown-menu")[0],this.buildDropdown(),this.dropdownMenu.addEventListener("click",(e=>{e.target.closest('a:not([href="javascript:void(0)"]')||(e.stopPropagation(),e.preventDefault())}))}buildDropdown(){mt.forEach((e=>{let t=document.createElement("li"),o=bi(e);1==o.length?(t.appendChild(this.buildClassLink(e)),this.dropdownMenu.appendChild(t)):o.length>1&&(t.appendChild(this.buildClassDropdown(e)),this.dropdownMenu.appendChild(t))}))}buildClassDropdown(e){let t=bi(e),o=document.createElement("fragment"),s=document.createElement("ul");s.classList.add("dropdown-menu");let i=this.buildClassLink(e);return t.forEach((e=>{let t=document.createElement("li"),o=this.buildSpecLink(e);t.appendChild(o),s.appendChild(t)})),o.innerHTML=`\n      <div class="dropend sim-link-dropdown">\n        ${i.outerHTML}\n        ${s.outerHTML}\n      </div>\n    `,o.children[0]}buildRootSimLink(e){let t,o=this.getSimIconPath(e),s=this.getContextualKlass(e);if("Raid"==e.type)t=It;else{let o=U[e.index];t=bi(o).length>1?pt[e.index]:ut[o]}let i=document.createElement("fragment");return i.innerHTML=`\n      <a href="javascript:void(0)" class="sim-link ${s}" role="button" data-bs-toggle="dropdown" aria-expanded="false">\n        <div class="sim-link-content">\n          <img src="${o}" class="sim-link-icon">\n          <div class="d-flex flex-column">\n            <span class="sim-link-label text-white">WoWSims - WOTLK</span>\n            <span class="sim-link-title">${t}</span>\n            ${this.launchStatusLabel(e)}\n          </div>\n        </div>\n      </a>\n    `,i.children[0]}buildRaidLink(){let e=this.getContextualKlass({type:"Raid"}),t=this.getSimIconPath({type:"Raid"}),o=It,s=document.createElement("fragment");return s.innerHTML=`\n      <a href="${ht}" class="sim-link ${e}">\n        <div class="sim-link-content">\n          <img src="${t}" class="sim-link-icon">\n          <div class="d-flex flex-column">\n            <span class="sim-link-title">${o}</span>\n            ${this.launchStatusLabel({type:"Raid"})}\n          </div>\n        </div>\n      </a>\n    `,s.children[0]}buildClassLink(e){let t=bi(e),o=t.length>1?"javascript:void(0)":gt(t[0]),s=this.getContextualKlass({type:"Class",index:e}),i=this.getSimIconPath({type:"Class",index:e}),a=ut[e],l=document.createElement("fragment");return l.innerHTML=`\n      <a href="${o}" class="sim-link ${s}" ${t.length>1?'role="button" data-bs-toggle="dropdown" aria-expanded="false"':""}>\n        <div class="sim-link-content">\n          <img src="${i}" class="sim-link-icon">\n          <div class="d-flex flex-column">\n            <span class="sim-link-title">${a}</span>\n            ${1==t.length?this.launchStatusLabel({type:"Spec",index:t[0]}):""}\n          </div>\n        </div>\n      </a>\n    `,l.children[0]}buildSpecLink(e){let t=gt(e),o=this.getContextualKlass({type:"Spec",index:e}),s=this.getSimIconPath({type:"Spec",index:e}),i=ut[U[e]],a=this.specLabels[e],l=document.createElement("fragment");return l.innerHTML=`\n      <a href="${t}" class="sim-link ${o}" role="button">\n        <div class="sim-link-content">\n          <img src="${s}" class="sim-link-icon">\n          <div class="d-flex flex-column">\n            <span class="sim-link-label">${i}</span>\n            <span class="sim-link-title">${a}</span>\n            ${this.launchStatusLabel({type:"Spec",index:e})}\n          </div>\n        </div>\n      </a>\n    `,l.children[0]}launchStatusLabel(e){if("Raid"==e.type&&1==wi.Launched||"Spec"==e.type&&xi[e.index]==wi.Launched)return"";let t="Raid"==e.type?wi[1]:wi[xi[e.index]],o=document.createElement("span");return o.classList.add("launch-status-label","text-brand"),o.textContent=t,o.outerHTML}getSimIconPath(e){let t;if("Raid"==e.type)t=wt;else if("Class"==e.type){t=`/wotlk/assets/img/${ut[e.index].toLowerCase().replace(/\s/g,"_")}_icon.png`}else t=ft[e.index];return t}getContextualKlass(e){let t;return t="Raid"==e.type?"text-white":"Class"==e.type?`text-${ut[e.index].toLowerCase().replace(/\s/g,"-")}`:`text-${ut[U[e.index]].toLowerCase().replace(/\s/g,"-")}`,t}}class Pi extends qo{constructor(e,t){super(e),this.rootElem.classList.add("settings-menu"),this.simUI=t,this.rootElem.innerHTML='\n\t\t\t<div class="menu-title">\n\t\t\t\t<span>OPTIONS</span>\n\t\t\t</div>\n\t\t\t<div class="menu-content">\n\t\t\t\t<div class="settings-menu-content-left">\n\t\t\t\t\t<button class="restore-defaults-button btn btn-primary">Restore Defaults</button>\n\t\t\t\t\t<div class="fixed-rng-seed"></div>\n\t\t\t\t\t<div class="last-used-rng-seed-container form-text">\n\t\t\t\t\t\t<small>Last used RNG seed:</small><small class="last-used-rng-seed">0</small>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="show-threat-metrics-picker"></div>\n\t\t\t\t\t<div class="show-experimental-picker"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="settings-menu-content-right">\n\t\t\t\t\t<div class="language-picker within-raid-sim-hide"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',this.addCloseButton();const o=this.rootElem.getElementsByClassName("restore-defaults-button")[0];o.addEventListener("click",(e=>{this.simUI.applyDefaults(s.nextEventID())})),tippy(o,{content:"Restores all default settings (gear, consumes, buffs, talents, EP weights, etc).",allowHTML:!0});const i=this.rootElem.getElementsByClassName("fixed-rng-seed")[0];new hs(i,this.simUI.sim,{label:"Fixed RNG Seed",labelTooltip:"Seed value for the random number generator used during sims, or 0 to use different randomness each run. Use this to share exact sim results or for debugging.",changedEvent:e=>e.fixedRngSeedChangeEmitter,getValue:e=>e.getFixedRngSeed(),setValue:(e,t,o)=>{t.setFixedRngSeed(e,o)}});const a=this.rootElem.getElementsByClassName("last-used-rng-seed")[0];a.textContent=String(this.simUI.sim.getLastUsedRngSeed()),this.simUI.sim.lastUsedRngSeedChangeEmitter.on((()=>a.textContent=String(this.simUI.sim.getLastUsedRngSeed())));const l=this.rootElem.getElementsByClassName("show-threat-metrics-picker")[0];new ys(l,this.simUI.sim,{label:"Show Threat/Tank Options",labelTooltip:"Shows all options and metrics relevant to tanks, like TPS/DTPS.",inline:!0,changedEvent:e=>e.showThreatMetricsChangeEmitter,getValue:e=>e.getShowThreatMetrics(),setValue:(e,t,o)=>{t.setShowThreatMetrics(e,o)}});const n=this.rootElem.getElementsByClassName("show-experimental-picker")[0];new ys(n,this.simUI.sim,{label:"Show Experimental",labelTooltip:"Shows experimental options, if there are any active experiments.",inline:!0,changedEvent:e=>e.showExperimentalChangeEmitter,getValue:e=>e.getShowExperimental(),setValue:(e,t,o)=>{t.setShowExperimental(e,o)}});const r=this.rootElem.getElementsByClassName("language-picker")[0],d=Object.keys(xt),c=d.indexOf("en");new fs(r,this.simUI.sim,{label:"Language",labelTooltip:"Controls the language for Wowhead tooltips.",values:d.map(((e,t)=>({name:xt[e],value:t}))),changedEvent:e=>e.languageChangeEmitter,getValue:e=>{const t=d.indexOf(e.getLanguage());return-1==t?c:t},setValue:(e,t,o)=>{t.setLanguage(e,d[o]||"en")}}).changeEmitter.on((()=>setTimeout((()=>location.reload()),100)))}}class vi extends d{constructor(e,t){super(e,"sim-header"),this.warnings=[],this.simUI=t,this.simTabsContainer=this.rootElem.querySelector(".sim-tabs"),this.importExportContainer=this.rootElem.querySelector(".import-export"),this.simToolbar=this.rootElem.querySelector(".sim-toolbar"),this.warningsLink=this.addWarningsLink(),this.updateWarnings(),this.knownIssuesLink=this.addKnownIssuesLink(),this.addBugReportLink(),this.addDownloadBinaryLink(),this.addSimOptionsLink(),this.addSocialLinks()}addTab(e,t){const o=0==this.simTabsContainer.children.length,s=document.createElement("fragment");s.innerHTML=`\n\t\t\t<li class="${t} nav-item" role="presentation">\n\t\t\t\t<a\n\t\t\t\t\tclass="nav-link ${o?"active":""}"\n\t\t\t\t\tdata-bs-toggle="tab"\n\t\t\t\t\tdata-bs-target="#${t}"\n\t\t\t\t\ttype="button"\n\t\t\t\t\trole="tab"\n\t\t\t\t\taria-controls="${t}"\n\t\t\t\t\taria-selected="${o}"\n\t\t\t\t>${e}</a>\n\t\t\t</li>\n\t\t`,this.simTabsContainer.appendChild(s.children[0])}addSimTabLink(e){const t=0==this.simTabsContainer.children.length;e.navLink.setAttribute("aria-selected",t.toString()),t&&e.navLink.classList.add("active","show"),this.simTabsContainer.appendChild(e.navItem)}addImportLink(e,t,o){this.addImportExportLink("importFragment",e,t,o)}addExportLink(e,t,o){this.addImportExportLink("exportFragment",e,t,o)}addImportExportLink(e,t,o,s){const i=this.rootElem.getElementsByClassName(e)[0].getElementsByClassName("dropdown-menu")[0],a=document.createElement("fragment");a.innerHTML=`\n\t\t\t<li class="${s?"within-raid-sim-hide":""}">\n\t\t\t\t<a\n\t\t\t\t\thref="javascript:void(0)"\n\t\t\t\t\tclass="dropdown-item"\n\t\t\t\t\trole="button"\n\t\t\t\t>${t}</a>\n\t\t\t</li>\n\t\t`;a.children[0].children[0].addEventListener("click",(()=>o(i))),i.appendChild(a)}addToolbarLink(e){let t=document.createElement("fragment");t.innerHTML=`\n\t\t\t<div class="sim-toolbar-item">\n\t\t\t\t<a\n\t\t\t\t\thref="${e.href?e.href:"javascript:void(0)"}"\n\t\t\t\t\t${e.href?'target="_blank"':""}\n\t\t\t\t\tclass="${e.classes}"\n\t\t\t\t\t${e.tooltip?'data-bs-toggle="tooltip"':""}\n\t\t\t\t\t${e.tooltip?'data-bs-placement="bottom"':""}\n\t\t\t\t\t${e.tooltip?`data-bs-title="${e.tooltip}"`:""}\n\t\t\t\t\t${e.tooltip?'data-bs-html="true"':""}\n\t\t\t\t>\n\t\t\t\t\t${e.icon?`<i class="${e.icon}"></i>`:""}\n\t\t\t\t\t${e.text?e.text:""}\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`;let o=t.children[0],s=o.children[0];return e.onclick&&s.addEventListener("click",(()=>{e.onclick&&e.onclick()})),new co(s),e.parent.appendChild(o),o}addWarningsLink(){return this.addToolbarLink({parent:this.simToolbar,icon:"fas fa-exclamation-triangle fa-3x",tooltip:"<ul class='text-start ps-3 mb-0'></ul>",classes:"warnings link-warning"}).children[0]}addWarning(e){this.warnings.push(e),e.updateOn.on((()=>this.updateWarnings())),this.updateWarnings()}updateWarnings(){const e=this.warnings.map((e=>e.getContent())).flat().filter((e=>""!=e));let t=document.createElement("fragment");t.innerHTML=this.warningsLink.getAttribute("data-bs-title");let o=t.children[0];o.innerHTML="",0==e.length?this.warningsLink.parentElement?.classList?.add("hide"):(this.warningsLink.parentElement?.classList?.remove("hide"),e.forEach((e=>{let t=document.createElement("li");t.innerHTML=e,o.appendChild(t)}))),this.warningsLink.setAttribute("data-bs-title",o.outerHTML),new co(this.warningsLink)}addKnownIssuesLink(){return this.addToolbarLink({parent:this.simToolbar,text:"Known Issues",tooltip:"<ul class='text-start ps-3 mb-0'></ul>",classes:"known-issues link-danger"}).children[0]}addKnownIssue(e){let t=document.createElement("fragment");t.innerHTML=this.knownIssuesLink.getAttribute("data-bs-title");let o=t.children[0],s=document.createElement("li");s.innerHTML=e,o.appendChild(s),this.knownIssuesLink.setAttribute("data-bs-title",o.outerHTML),new co(this.knownIssuesLink)}addBugReportLink(){this.addToolbarLink({href:"https://github.com/wowsims/wotlk/issues/new/choose",parent:this.simToolbar,icon:"fas fa-bug fa-lg",tooltip:"Report a bug or<br>Request a feature"})}addDownloadBinaryLink(){let e="https://github.com/wowsims/wotlk/releases",t="fas fa-gauge-high fa-lg",o=this.simToolbar;document.location.href.includes("localhost")?fetch("/version").then((s=>{s.json().then((s=>{2==s.outdated&&this.addToolbarLink({href:e,parent:o,icon:t,tooltip:"Newer version of simulator available for download",classes:"downbin link-danger"})})).catch((e=>{console.warn("No version info found!")}))})):this.addToolbarLink({href:e,parent:o,icon:t,tooltip:"Download simulator for faster simulating",classes:"downbin"})}addSimOptionsLink(){this.addToolbarLink({parent:this.simToolbar,icon:"fas fa-cog fa-lg",tooltip:"Show Sim Options",classes:"sim-options",onclick:()=>new Pi(this.rootElem,this.simUI)})}addSocialLinks(){let e=document.createElement("div");e.classList.add("sim-toolbar-socials"),this.simToolbar.appendChild(e),this.addDiscordLink(e),this.addGitHubLink(e),this.addPatreonLink(e)}addDiscordLink(e){this.addToolbarLink({href:"https://discord.gg/p3DgvmnDCS",parent:e,icon:"fab fa-discord fa-lg",tooltip:"Join us on Discord",classes:"discord-link link-alt"})}addGitHubLink(e){this.addToolbarLink({href:"https://github.com/wowsims/wotlk",parent:e,icon:"fab fa-github fa-lg",tooltip:"Contribute on GitHub",classes:"github-link link-alt"})}addPatreonLink(e){this.addToolbarLink({href:"https://patreon.com/wowsims",parent:e,text:"Support our devs",icon:"fab fa-patreon fa-lg",classes:"patreon-link link-alt"})}customRootElement(){let e=document.createElement("fragment");return e.innerHTML='\n\t\t\t<header class="sim-header">\n\t\t\t\t<ul class="sim-tabs nav nav-tabs" role="tablist"></ul>\n\t\t\t\t<div class="import-export">\n\t\t\t\t\t<fragment class="importFragment">\n\t\t\t\t\t\t<div class="dropdown sim-dropdown-menu">\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="import-link" role="button" data-bs-toggle="dropdown" data-bs-display="dynamic" aria-expanded="false">\n\t\t\t\t\t\t\t\t<i class="fa fa-download"></i>\n\t\t\t\t\t\t\t\tImport\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<ul class="dropdown-menu"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fragment>\n\t\t\t\t\t<fragment class="exportFragment">\n\t\t\t\t\t\t<div class="dropdown sim-dropdown-menu">\n\t\t\t\t\t\t\t<a href="javascript:void(0)" class="export-link" role="button" data-bs-toggle="dropdown" data-bs-display="dynamic" aria-expanded="false">\n\t\t\t\t\t\t\t\t<i class="fa fa-right-from-bracket"></i>\n\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<ul class="dropdown-menu"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fragment>\n\t\t\t\t</div>\n\t\t\t\t<div class="sim-toolbar">\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t',e.children[0]}}class Ei extends d{constructor(e,t,o){super(e,"sim-ui"),this.sim=t,this.rootElem.innerHTML=Ci,this.simContentContainer=this.rootElem.querySelector(".sim-content"),this.simHeader=new vi(this.simContentContainer,this),this.simMain=document.createElement("main"),this.simMain.classList.add("sim-main","tab-content"),this.simContentContainer.appendChild(this.simMain),this.isWithinRaidSim=null!=this.rootElem.closest(".within-raid-sim"),this.isWithinRaidSim||this.rootElem.classList.add("not-within-raid-sim"),this.changeEmitter=s.onAny([this.sim.changeEmitter],"SimUIChange"),this.sim.crashEmitter.on(((e,t)=>this.handleCrash(t)));const i=()=>{this.sim.getShowDamageMetrics()?this.rootElem.classList.remove("hide-damage-metrics"):this.rootElem.classList.add("hide-damage-metrics")};i(),this.sim.showDamageMetricsChangeEmitter.on(i);const a=()=>{this.sim.getShowThreatMetrics()?this.rootElem.classList.remove("hide-threat-metrics"):this.rootElem.classList.add("hide-threat-metrics")};a(),this.sim.showThreatMetricsChangeEmitter.on(a);const l=()=>{this.sim.getShowHealingMetrics()?this.rootElem.classList.remove("hide-healing-metrics"):this.rootElem.classList.add("hide-healing-metrics")};l(),this.sim.showHealingMetricsChangeEmitter.on(l);const n=()=>{this.sim.getShowExperimental()?this.rootElem.classList.remove("hide-experimental"):this.rootElem.classList.add("hide-experimental")};n(),this.sim.showExperimentalChangeEmitter.on(n),this.addNoticeBanner(),this.addKnownIssues(o);const r=this.rootElem.querySelector(".sim-title");new Si(r,o.spec);const d=this.rootElem.getElementsByClassName("sim-sidebar-results")[0];this.resultsViewer=new Ii(d),this.simActionsContainer=this.rootElem.getElementsByClassName("sim-sidebar-actions")[0],new hs(this.simActionsContainer,this.sim,{label:"Iterations",extraCssClasses:["iterations-picker","within-raid-sim-hide"],changedEvent:e=>e.iterationsChangeEmitter,getValue:e=>e.getIterations(),setValue:(e,t,o)=>{t.setIterations(e,o)}}),this.iterationsPicker=this.rootElem.getElementsByClassName("iterations-picker")[0],this.simTabContentsContainer=this.rootElem.querySelector(".sim-main.tab-content"),this.isWithinRaidSim||window.addEventListener("message",(async e=>{"runOnce"==e.data&&this.runSimOnce()}))}addAction(e,t,o){const s=document.createElement("button");s.classList.add("btn","btn-primary","w-100",t),s.textContent=e,s.addEventListener("click",o),this.simActionsContainer.appendChild(s)}addTab(e,t,o){const s=t.replace(/\s+/g,"-")+"-tab",i=0==this.simTabContentsContainer.children.length;this.simHeader.addTab(e,s);const a=document.createElement("fragment");a.innerHTML=`\n\t\t\t<div\n\t\t\t\tid="${s}"\n\t\t\t\tclass="tab-pane fade ${i?"active show":""}"\n\t\t\t>${o}</div>\n\t\t`,this.simTabContentsContainer.appendChild(a.children[0])}addSimTab(e){this.simHeader.addSimTabLink(e)}addWarning(e){this.simHeader.addWarning(e)}addNoticeBanner(){document.querySelector(".notices-banner").remove()}addKnownIssues(e){let t="";e.launchStatus==wi.Unlaunched?t="This sim is a WORK IN PROGRESS. It is not fully developed and should not be used for general purposes.":e.launchStatus==wi.Alpha?t="This sim is in ALPHA. Bugs are expected; please let us know if you find one!":e.launchStatus==wi.Beta&&(t="This sim is in BETA. There may still be a few bugs; please let us know if you find one!"),t&&(e.knownIssues=[t].concat(e.knownIssues||[])),e.knownIssues&&e.knownIssues.length&&e.knownIssues.forEach((e=>this.simHeader.addKnownIssue(e)))}getSettingsStorageKey(){return this.getStorageKey("__currentSettings__")}getSavedEncounterStorageKey(){return"sharedData__savedEncounter__"}isIndividualSim(){return this.rootElem.classList.contains("individual-sim-ui")}async runSim(e){this.resultsViewer.setPending();try{await this.sim.runRaidSim(s.nextEventID(),e)}catch(t){this.resultsViewer.hideAll(),this.handleCrash(t)}}async runSimOnce(){this.resultsViewer.setPending();try{await this.sim.runRaidSimWithLogs(s.nextEventID())}catch(e){this.resultsViewer.hideAll(),this.handleCrash(e)}}handleCrash(e){if(!(e instanceof ps))return void alert(e);const t=e.errorStr;if(window.confirm("Simulation Failure:\n"+t+"\nPress Ok to file crash report")){const e=this.hashCode(t),o=this.toLink(),s=this.sim.getLastUsedRngSeed();fetch("https://api.github.com/search/issues?q=is:issue+is:open+repo:wowsims/wotlk+"+e).then((i=>{i.json().then((i=>{if(i.total_count>0)window.open(i.items[0].html_url,"_blank");else{const i=`${"https://github.com/wowsims/wotlk/issues/new?assignees=&labels=&title=Crash%20Report%20"}${e}&body=`,a=2048-i.length;let l=encodeURIComponent(`Link:\n${o}\n\nRNG Seed: ${s}\n\n${t}`);for(;l.length>a;)l=l.slice(0,l.lastIndexOf("%"));window.open(i+l,"_blank")}}))})).catch((e=>{alert("Failed to file report... try again another time:"+e)}))}}hashCode(e){let t=0;for(let o=0,s=e.length;o<s;o++){t=(t<<5)-t+e.charCodeAt(o),t|=0}return t}}const Ci='\n<div class="sim-root">\n\t<div class="sim-bg"></div>\n\t<div class="notices-banner alert border-bottom mb-0 text-center"></div>\n  <aside class="sim-sidebar">\n    <div class="sim-title"></div>\n\t\t<div class="sim-sidebar-content">\n\t\t\t<div class="sim-sidebar-actions within-raid-sim-hide"></div>\n\t\t\t<div class="sim-sidebar-results within-raid-sim-hide"></div>\n\t\t\t<div class="sim-sidebar-footer"></div>\n\t\t</div>\n  </aside>\n  <div class="sim-content container-fluid">\n\t</div>\n  </section>\n</div>\n';const ki=class extends qo{constructor(e,o,i,l){super(e.rootElem),this.simUI=e,this.statsType="ep",this.epStats=o,this.epPseudoStats=i,this.epReferenceStat=l,this.rootElem.classList.add("ep-weights-menu"),this.rootElem.innerHTML='\n\t\t\t<div class="ep-weights-header">\n\t\t\t\t<div class="ep-weights-actions">\n\t\t\t\t\t<button class="btn btn-primary calc-weights">CALCULATE</button>\n\t\t\t\t</div>\n\t\t\t\t<div class="ep-weights-results"></div>\n\t\t\t</div>\n\t\t\t<div class="stats-controls-row">\n\t\t\t\t<div class="ep-weights-options">\n\t\t\t\t\t<select class="ep-type-select form-select">\n\t\t\t\t\t\t<option value="ep">EP</option>\n\t\t\t\t\t\t<option value="weight">Weights</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class="show-all-stats-container">\n\t\t\t\t</div>\n\t\t\t\t<button class="btn btn-primary optimize-gems">OPTIMIZE GEMS</button>\n\t\t\t</div>\n\t\t\t<p>The \'Current EPs\' column displays the values currently used by the item pickers to sort items. Use <span class="fa fa-copy" style="color: var(--theme-color-primary);"></span> icon above the EPs to use newly calculated EPs. </p>\n\t\t\t<div class="ep-weights-table">\n\t\t\t\t<table class="results-ep-table">\n\t\t\t\t\t<tbody id="ep-tbody">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Stat</th>\n\t\t\t\t\t\t\t<th class="damage-metrics type-weight"><span>DPS Weight</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="damage-metrics type-ep"><span>DPS EP</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="healing-metrics type-weight"><span>HPS Weight</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="healing-metrics type-ep"><span>HPS EP</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="threat-metrics type-weight"><span>TPS Weight</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="threat-metrics type-ep"><span>TPS EP</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="threat-metrics type-weight"><span>DTPS Weight</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th class="threat-metrics type-ep"><span>DTPS EP</span><span class="col-action fa fa-copy"></span></th>\n\t\t\t\t\t\t\t<th><span>Current EP</span><span class="col-action fa fa-recycle"></span></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t',this.tableContainer=this.rootElem.getElementsByClassName("ep-weights-table")[0],this.tableBody=this.rootElem.querySelector("#ep-tbody"),this.tableHeader=this.rootElem.querySelector("#ep-tbody > tr");const n=this.rootElem.getElementsByClassName("ep-weights-results")[0];this.resultsViewer=new Ii(n);const r=()=>{"ep"==this.statsType?(this.tableContainer.classList.remove("stats-type-weight"),this.tableContainer.classList.add("stats-type-ep")):(this.tableContainer.classList.add("stats-type-weight"),this.tableContainer.classList.remove("stats-type-ep"))},d=this.rootElem.getElementsByClassName("ep-type-select")[0];d.addEventListener("input",(e=>{this.statsType=d.value,r()})),d.value=this.statsType,r();this.rootElem.getElementsByClassName("calc-weights")[0].addEventListener("click",(async e=>{this.resultsViewer.setPending();const t=this.simUI.sim.getIterations(),o=await this.simUI.player.computeStatWeights(s.nextEventID(),this.epStats,this.epPseudoStats,this.epReferenceStat,(e=>{this.setSimProgress(e)}));this.resultsViewer.hideAll(),this.simUI.prevEpIterations=t,this.simUI.prevEpSimResult=o,this.updateTable(t,o)}));const c=Array.from(this.rootElem.getElementsByClassName("col-action")),m=(e,o,i,a)=>{tippy(e.previousSibling,{content:o,allowHTML:!0}),tippy(e,{content:i,allowHTML:!0}),e.addEventListener("click",(e=>{this.simUI.player.setEpWeights(s.nextEventID(),t.fromProto(a()))}))},p=ze(this.epReferenceStat,this.simUI.player.getClass()),h=ze(a.StatArmor,this.simUI.player.getClass());m(c[0],"Per-point increase in DPS (Damage Per Second) for each stat.","Copy to Current EP",(()=>this.getPrevSimResult().dps.weights)),m(c[1],`EP (Equivalency Points) for DPS (Damage Per Second) for each stat. Normalized by ${p}.`,"Copy to Current EP",(()=>this.getPrevSimResult().dps.epValues)),m(c[2],"Per-point increase in HPS (Healing Per Second) for each stat.","Copy to Current EP",(()=>this.getPrevSimResult().hps.weights)),m(c[3],`EP (Equivalency Points) for HPS (Healing Per Second) for each stat. Normalized by ${p}.`,"Copy to Current EP",(()=>this.getPrevSimResult().hps.epValues)),m(c[4],"Per-point increase in TPS (Threat Per Second) for each stat.","Copy to Current EP",(()=>this.getPrevSimResult().tps.weights)),m(c[5],`EP (Equivalency Points) for TPS (Threat Per Second) for each stat. Normalized by ${p}.`,"Copy to Current EP",(()=>this.getPrevSimResult().tps.epValues)),m(c[6],"Per-point increase in DTPS (Damage Taken Per Second) for each stat.","Copy to Current EP",(()=>this.getPrevSimResult().dtps.weights)),m(c[7],`EP (Equivalency Points) for DTPS (Damage Taken Per Second) for each stat. Normalized by ${h}.`,"Copy to Current EP",(()=>this.getPrevSimResult().dtps.epValues)),m(c[8],"Current EP Weights. Used to sort the gear selector menus.","Restore Default EP",(()=>this.simUI.individualConfig.defaults.epWeights.toProto()));const g=this.rootElem.getElementsByClassName("show-all-stats-container")[0];new ys(g,this,{label:"Show All Stats",inline:!0,changedEvent:()=>new s,getValue:()=>this.tableContainer.classList.contains("show-all-stats"),setValue:(e,t,o)=>{o?this.tableContainer.classList.add("show-all-stats"):this.tableContainer.classList.remove("show-all-stats"),this.applyAlternatingColors()}}),this.updateTable(this.simUI.prevEpIterations||1,this.getPrevSimResult());const u=this.rootElem.getElementsByClassName("optimize-gems")[0];tippy(u,{content:'\n\t\t\t\t<p><span class="warnings fa fa-exclamation-triangle"></span>WARNING: This feature is experimental, and will not always produce the most optimal gems especially when interacting with soft/hard stat caps.</p>\n\t\t\t\t<p>Optimizes equipped gems to maximize EP, based on the values in <b>Current EP</b>.</p>\n\t\t\t\t<p>Does not change the meta gem, but ensures that its condition is met. Uses JC gems if Jewelcrafting is a selected profession.</p>\n\t\t\t',allowHTML:!0}),u.addEventListener("click",(e=>this.optimizeGems(s.nextEventID()))),this.addCloseButton()}setSimProgress(e){this.resultsViewer.setContent(`\n  <div class="results-sim">\n  \t\t\t<div class=""> ${e.completedSims} / ${e.totalSims}<br>simulations complete</div>\n  \t\t\t<div class="">\n\t\t\t\t${e.completedIterations} / ${e.totalIterations}<br>iterations complete\n\t\t\t</div>\n  </div>\n`)}updateTable(e,t){this.tableHeader.remove(),this.tableBody.innerHTML="",this.tableBody.appendChild(this.tableHeader),ki.epUnitStats.forEach((o=>{const s=this.makeTableRow(o,e,t);(o.isStat()&&!this.epStats.includes(o.getStat())||o.isPseudoStat()&&!this.epPseudoStats.includes(o.getPseudoStat()))&&s.classList.add("non-ep-stat"),this.tableBody.appendChild(s)})),this.applyAlternatingColors()}makeTableRow(e,t,o){const s=document.createElement("tr"),i=(o,s)=>`\n\t\t\t\t<td class="stdev-cell ${s} type-weight"><span>${e.getProtoValue(o.weights).toFixed(2)}</span><span>${Gt(e.getProtoValue(o.weightsStdev),t).toFixed(2)}</span></td>\n\t\t\t\t<td class="stdev-cell ${s} type-ep"><span>${e.getProtoValue(o.epValues).toFixed(2)}</span><span>${Gt(e.getProtoValue(o.epValuesStdev),t).toFixed(2)}</span></td>\n\t\t\t`;s.innerHTML=`\n\t\t\t<td>${e.getName(this.simUI.player.getClass())}</td>\n\t\t\t${i(o.dps,"damage-metrics")}\n\t\t\t${i(o.hps,"healing-metrics")}\n\t\t\t${i(o.tps,"threat-metrics")}\n\t\t\t${i(o.dtps,"threat-metrics")}\n\t\t\t<td class="current-ep"></td>\n\t\t`;const a=s.querySelector(".current-ep");return new hs(a,this.simUI.player,{float:!0,changedEvent:e=>e.epWeightsChangeEmitter,getValue:t=>t.getEpWeights().getUnitStat(e),setValue:(t,o,s)=>{const i=o.getEpWeights().withUnitStat(e,s);o.setEpWeights(t,i)}}),s}applyAlternatingColors(){Array.from(this.tableBody.childNodes).filter((e=>"none"!=window.getComputedStyle(e).getPropertyValue("display"))).forEach(((e,t)=>{t%2==0?e.classList.remove("odd"):e.classList.add("odd")}))}getPrevSimResult(){return this.simUI.prevEpSimResult||ke.create({dps:{weights:(new t).toProto(),weightsStdev:(new t).toProto(),epValues:(new t).toProto(),epValuesStdev:(new t).toProto()},hps:{weights:(new t).toProto(),weightsStdev:(new t).toProto(),epValues:(new t).toProto(),epValuesStdev:(new t).toProto()},tps:{weights:(new t).toProto(),weightsStdev:(new t).toProto(),epValues:(new t).toProto(),epValuesStdev:(new t).toProto()},dtps:{weights:(new t).toProto(),weightsStdev:(new t).toProto(),epValues:(new t).toProto(),epValuesStdev:(new t).toProto()}})}optimizeGems(e){let o=this.simUI.player.getEpWeights();o=new t(o.asArray().map((e=>0==e?1e-8:e)));const s=this.simUI.player.getGear(),i=this.simUI.sim.db.getGems(),a=this.simUI.sim.getPhase(),l=this.simUI.player.isBlacksmithing(),n=this.simUI.player.hasProfession(Q.Jewelcrafting),r=ki.optimizeGemsForWeights(o,s,i,a,l,n);this.simUI.player.setGear(e,r)}static optimizeGemsForWeights(e,o,s,i,a,l){const n=s.filter((e=>se(e,i))),{bestGemForColor:d,bestGemForColorEP:c,bestGemForSocket:m,bestGemForSocketEP:p,bestGem:h,bestGemEP:g}=ki.findBestGems(n,e),u=o.asMap(),f=Object.values(u).map((o=>null!=o?new t(o.item.socketBonus).computeEP(e):0));Object.entries(u).forEach((([e,t],o)=>{if(null==t)return;t.item;const s=t.curSocketColors(a);r(s.map((e=>e==it.GemColorMeta?0:g)))>f[o]+r(s.map((e=>e==it.GemColorMeta?0:p[e])))?s.forEach(((e,o)=>{e!=it.GemColorMeta&&(t=t.withGem(h,o))})):s.forEach(((e,o)=>{e!=it.GemColorMeta&&(t=t.withGem(m[e],o))})),u[Number(e)]=t})),o=new W(u);const I=Object.keys(u).map((e=>{const t=parseInt(e),o=u[t];if(!o)return[];const s=o.numSockets(a);return[...Array(s).keys()].filter((e=>o.item.gemSockets[e]!=it.GemColorMeta)).map((e=>({itemSlot:t,socketIdx:e})))})).flat(),w=bt(I,3),x=t=>t.statsFromGems(a).computeEP(e);return o=(t=>{if(!l)return t;const o=s.filter((e=>e.requiredProfession==Q.Jewelcrafting)),{bestGemForColor:i,bestGemForColorEP:n,bestGemForSocket:r,bestGemForSocketEP:d,bestGem:c,bestGemEP:m}=ki.findBestGems(o,e);let p=t,h=x(t);return w.forEach((e=>{const o=t.asMap();for(let t=0;t<e.length;t++){const{itemSlot:s,socketIdx:a}=e[t],l=o[s],n=l.gems[a].color;o[s]=l.withGem(i[n],a)}const s=new W(o);if(s.hasActiveMetaGem(a)){const e=x(s);e>h&&(p=s,h=e)}})),p})(o=(e=>{const t=e.getMetaGem();if(!t)return e;const o=St(t.id);if(!o||o.isCompareColorCondition())return e;if(e.getAllGems(a).length-1<3)return e;const s=ki.getColorCombosToSatisfyCondition(o);let i=e,l=x(e);return s.forEach((t=>{w.forEach((o=>{const s=e.asMap();for(let e=0;e<t.length;e++){const i=t[e],{itemSlot:a,socketIdx:l}=o[e];s[a]=s[a].withGem(d[i],l)}const n=new W(s);if(n.hasActiveMetaGem(a)){const e=x(n);e>l&&(i=n,l=e)}}))})),i})(o))}static getColorCombosToSatisfyCondition(e){if(e.isOneOfEach())return[Pt,[it.GemColorPrismatic]].concat(vt.map(((e,t)=>{const o=Pt[t];return Et.get(o).map((t=>[t,e]))})).flat());if(e.isTwoAndOne()){const t=Pt[[e.minRed,e.minYellow,e.minBlue].indexOf(1)],o=Pt[[e.minRed,e.minYellow,e.minBlue].indexOf(2)],s=vt.find((e=>Ct(e,t)&&Ct(e,o)));return[[it.GemColorPrismatic],[s],[t,o]].map((e=>Et.get(o).map((t=>e.concat([t]))))).flat()}if(e.isThreeOfAColor()){const t=Pt[[e.minRed,e.minYellow,e.minBlue].indexOf(3)],o=Et.get(t);return kt(o,3)}return[]}static findBestGems(e,o){const s=Nt.map((e=>null)),i=Nt.map((e=>0)),a=s.slice(),l=i.slice();let n=e[0],r=0;return e.forEach((e=>{const d=new t(e.stats).computeEP(o);d>i[e.color]&&(i[e.color]=d,s[e.color]=e,e.color!=it.GemColorMeta&&d>r&&(r=d,n=e)),Nt.forEach((t=>{ie(e,t)&&d>l[t]&&(l[t]=d,a[t]=e)}))})),{bestGemForColor:s,bestGemForColorEP:i,bestGemForSocket:a,bestGemForSocketEP:l,bestGem:n,bestGemEP:r}}};let Ni=ki;Ni.epUnitStats=yt.getAll().filter((e=>!!e.isStat()||[oe.PseudoStatMainHandDps,oe.PseudoStatOffHandDps,oe.PseudoStatRangedDps].includes(e.getPseudoStat())));class Gi extends qo{constructor(e,t,o){super(e),this.rootElem.classList.add("exporter"),this.rootElem.innerHTML=`\n\t\t\t<span class="exporter-title">${t}</span>\n\t\t\t<div class="export-content">\n\t\t\t\t<textarea class="exporter-textarea form-control" readonly></textarea>\n\t\t\t</div>\n\t\t\t<div class="actions-row">\n\t\t\t\t<button class="exporter-button btn btn-primary clipboard-button">COPY TO CLIPBOARD</button>\n\t\t\t\t<button class="exporter-button btn btn-primary download-button">DOWNLOAD</button>\n\t\t\t</div>\n\t\t`,this.addCloseButton(),this.textElem=this.rootElem.getElementsByClassName("exporter-textarea")[0];this.rootElem.getElementsByClassName("clipboard-button")[0].addEventListener("click",(e=>{const t=this.textElem.textContent;null==navigator.clipboard?alert(t):navigator.clipboard.writeText(t)}));const s=this.rootElem.getElementsByClassName("download-button")[0];o?s.addEventListener("click",(e=>{const t=this.textElem.textContent;Tt(t,"wowsims.json")})):s.remove()}init(){this.textElem.textContent=this.getData()}}class Ti extends Gi{constructor(e,t){super(e,"Sharable Link",!1),this.simUI=t,this.init()}getData(){return this.simUI.toLink()}}class Oi extends Gi{constructor(e,t){super(e,"JSON Export",!0),this.simUI=t,this.init()}getData(){return JSON.stringify(Ot.toJson(this.simUI.toProto()),null,2)}}const _i=class extends Gi{constructor(e,t){super(e,"80Upgrades EP Export",!0),this.simUI=t,this.init()}getData(){const e=this.simUI.player,t=e.getEpWeights(),o=yt.getAll(),s={};return o.forEach((e=>{const o=_i.getName(e),i=t.getUnitStat(e);0!=i&&""!=o&&(s[o]?s[o]+=i:s[o]=i)})),`https://eightyupgrades.com/ep/import?name=${encodeURIComponent(`${pt[e.spec]} WoWSims Weights`)}`+Object.keys(s).map((e=>`&${e}=${s[e].toFixed(3)}`)).join("")}static getName(e){return e.isStat()?_i.statNames[e.getStat()]:_i.pseudoStatNames[e.getPseudoStat()]||""}};let Li=_i;Li.statNames={[a.StatStrength]:"strength",[a.StatAgility]:"agility",[a.StatStamina]:"stamina",[a.StatIntellect]:"intellect",[a.StatSpirit]:"spirit",[a.StatSpellPower]:"spellDamage",[a.StatMP5]:"mp5",[a.StatSpellHit]:"hitRating",[a.StatSpellCrit]:"critRating",[a.StatSpellHaste]:"hasteRating",[a.StatSpellPenetration]:"spellPen",[a.StatAttackPower]:"attackPower",[a.StatMeleeHit]:"hitRating",[a.StatMeleeCrit]:"critRating",[a.StatMeleeHaste]:"hasteRating",[a.StatArmorPenetration]:"armorPen",[a.StatExpertise]:"expertiseRating",[a.StatMana]:"mana",[a.StatEnergy]:"energy",[a.StatRage]:"rage",[a.StatArmor]:"armor",[a.StatRangedAttackPower]:"attackPower",[a.StatDefense]:"defenseRating",[a.StatBlock]:"blockRating",[a.StatBlockValue]:"blockValue",[a.StatDodge]:"dodgeRating",[a.StatParry]:"parryRating",[a.StatResilience]:"resilienceRating",[a.StatHealth]:"health",[a.StatArcaneResistance]:"arcaneResistance",[a.StatFireResistance]:"fireResistance",[a.StatFrostResistance]:"frostResistance",[a.StatNatureResistance]:"natureResistance",[a.StatShadowResistance]:"shadowResistance",[a.StatBonusArmor]:"armorBonus"},Li.pseudoStatNames={[oe.PseudoStatMainHandDps]:"dps",[oe.PseudoStatRangedDps]:"rangedDps"};const Ri=class extends Gi{constructor(e,t){super(e,"Pawn EP Export",!0),this.simUI=t,this.init()}getData(){const e=this.simUI.player,t=e.getEpWeights(),o=yt.getAll(),s={};return o.forEach((e=>{const o=Ri.getName(e),i=t.getUnitStat(e);0!=i&&""!=o&&(s[o]?s[o]+=i:s[o]=i)})),`( Pawn: v1: "${pt[e.spec]} WoWSims Weights": Class=${_t[e.getClass()]},`+Object.keys(s).map((e=>`${e}=${s[e].toFixed(3)}`)).join(",")+" )"}static getName(e){return e.isStat()?Ri.statNames[e.getStat()]:Ri.pseudoStatNames[e.getPseudoStat()]||""}};let Di=Ri;Di.statNames={[a.StatStrength]:"Strength",[a.StatAgility]:"Agility",[a.StatStamina]:"Stamina",[a.StatIntellect]:"Intellect",[a.StatSpirit]:"Spirit",[a.StatSpellPower]:"SpellDamage",[a.StatMP5]:"Mp5",[a.StatSpellHit]:"HitRating",[a.StatSpellCrit]:"CritRating",[a.StatSpellHaste]:"HasteRating",[a.StatSpellPenetration]:"SpellPen",[a.StatAttackPower]:"Ap",[a.StatMeleeHit]:"HitRating",[a.StatMeleeCrit]:"CritRating",[a.StatMeleeHaste]:"HasteRating",[a.StatArmorPenetration]:"ArmorPenetration",[a.StatExpertise]:"ExpertiseRating",[a.StatMana]:"Mana",[a.StatEnergy]:"Energy",[a.StatRage]:"Rage",[a.StatArmor]:"Armor",[a.StatRangedAttackPower]:"Ap",[a.StatDefense]:"DefenseRating",[a.StatBlock]:"BlockRating",[a.StatBlockValue]:"BlockValue",[a.StatDodge]:"DodgeRating",[a.StatParry]:"ParryRating",[a.StatResilience]:"ResilienceRating",[a.StatHealth]:"Health",[a.StatArcaneResistance]:"ArcaneResistance",[a.StatFireResistance]:"FireResistance",[a.StatFrostResistance]:"FrostResistance",[a.StatNatureResistance]:"NatureResistance",[a.StatShadowResistance]:"ShadowResistance",[a.StatBonusArmor]:"Armor2"},Di.pseudoStatNames={[oe.PseudoStatMainHandDps]:"MeleeDps",[oe.PseudoStatRangedDps]:"RangedDps"};class Ui extends qo{constructor(e,t,o){super(e),this.includeFile=o;const s="upload-input-"+t.toLowerCase().replaceAll(" ","-");this.rootElem.classList.add("importer");let i=`\n\t\t\t<span class="importer-title">${t}</span>\n\t\t\t<div class="import-description">\n\t\t\t</div>\n\t\t\t<div class="import-content">\n\t\t\t\t<textarea class="importer-textarea form-control"></textarea>\n\t\t\t</div>\n\t\t\t<div class="actions-row">\n\t\t`;if(this.includeFile&&(i+=`<label for="${s}" class="importer-button btn btn-primary upload-button">UPLOAD FROM FILE</label>\n\t\t\t\t<input type="file" id="${s}" class="importer-upload-input" hidden>\n\t\t\t`),i+='<button class="importer-button btn btn-primary import-button">IMPORT</button>\n\t\t\t</div>\n\t\t',this.rootElem.innerHTML=i,this.addCloseButton(),this.textElem=this.rootElem.getElementsByClassName("importer-textarea")[0],this.descriptionElem=this.rootElem.getElementsByClassName("import-description")[0],this.includeFile){this.rootElem.getElementsByClassName("importer-upload-input")[0].addEventListener("change",(async e=>{const t=await e.target.files[0].text();this.textElem.textContent=t}))}this.importButton=this.rootElem.getElementsByClassName("import-button")[0],this.importButton.addEventListener("click",(e=>{try{this.onImport(this.textElem.value||"")}catch(t){alert("Import error: "+t)}}))}async finishIndividualImport(e,t,o,i,a,l,n){const r=e.player.getClass();if(t!=r)throw new Error(`Wrong Class! Expected ${_t[r]} but found ${_t[t]}!`);await Ue.loadLeftoversIfNecessary(i);const d=e.sim.db.lookupEquipmentSpec(i),c=i.items.map((e=>e.enchant)),m=d.asSpec().items.map((e=>e.enchant)),p=c.filter((e=>0!=e&&!m.includes(e))),h=i.items.map((e=>e.id)),g=d.asSpec().items.map((e=>e.id)),u=h.filter((e=>!g.includes(e))),f=s.nextEventID();s.freezeAllAndDo((()=>{e.player.setRace(f,o),e.player.setGear(f,d),a&&e.player.setTalentsString(f,a),l&&e.player.setGlyphs(f,l),n.length>0&&e.player.setProfessions(f,n)})),this.close(),0==u.length&&0==p.length?alert("Import successful!"):alert("Import successful, but the following IDs were not found in the sim database:"+(0==u.length?"":"\n\nItems: "+u.join(", "))+(0==p.length?"":"\n\nEnchants: "+p.join(", ")))}}class Mi extends Ui{constructor(e,t){super(e,"JSON Import",!0),this.simUI=t,this.descriptionElem.innerHTML="\n\t\t\t<p>\n\t\t\t\tImport settings from a JSON text file, which can be created using the JSON Export feature of this site.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the JSON text below and click, 'Import'.\n\t\t\t</p>\n\t\t"}async onImport(e){const t=Ot.fromJsonString(e);t.player?.equipment&&await Ue.loadLeftoversIfNecessary(t.player.equipment),this.simUI.isWithinRaidSim?t.player&&this.simUI.player.fromProto(s.nextEventID(),t.player):this.simUI.fromProto(s.nextEventID(),t),this.close()}}class ji extends Ui{constructor(e,t){super(e,"80 Upgrades Import",!0),this.simUI=t,this.descriptionElem.innerHTML='\n\t\t\t<p>\n\t\t\t\tImport settings from <a href="https://eightyupgrades.com" target="_blank">Eighty Upgrades</a>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThis feature imports gear, race, and (optionally) talents. It does NOT import buffs, debuffs, consumes, rotation, or custom stats.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the output from the site\'s export option below and click, \'Import\'.\n\t\t\t</p>\n\t\t'}onImport(e){const t=JSON.parse(e),o=Lt(t?.character?.gameClass||"");if(o==R.ClassUnknown)throw new Error("Could not parse Class!");const s=Rt(t?.character?.race||"");if(s==Dt.RaceUnknown)throw new Error("Could not parse Race!");let i="";if(t?.talents?.length>0){i=function(e,t){return Qo[e].map((e=>e.talents.map((e=>{const o=e.spellIds.findIndex((e=>t.includes(e)));return-1==o?"0":String(o+1)})).join("").replace(/0+$/g,""))).join("-").replace(/-+$/g,"")}(o,t.talents.map((e=>e.spellId)))}let a=Ut.create();t.items.forEach((e=>{let t=Mt.create();t.id=e.id,e.enchant?.id&&(t.enchant=e.enchant.id),e.gems&&(t.gems=e.gems.filter((e=>e?.id)).map((e=>e.id))),a.items.push(t)})),this.simUI.sim.db.lookupEquipmentSpec(a),this.finishIndividualImport(this.simUI,o,s,a,i,null,[])}}class Fi extends Ui{constructor(e,t){super(e,"Addon Import",!0),this.simUI=t,this.descriptionElem.innerHTML='\n\t\t\t<p>\n\t\t\t\tImport settings from the <a href="https://www.curseforge.com/wow/addons/wowsimsexporter" target="_blank">WoWSims Importer In-Game Addon</a>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThis feature imports gear, race, talents, glyphs, and professions. It does NOT import buffs, debuffs, consumes, rotation, or custom stats.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tTo import, paste the output from the addon below and click, \'Import\'.\n\t\t\t</p>\n\t\t'}onImport(e){const t=JSON.parse(e),o=Lt(t.class||"");if(o==R.ClassUnknown)throw new Error("Could not parse Class!");const s=Rt(t.race||"");if(s==Dt.RaceUnknown)throw new Error("Could not parse Race!");const i=t.professions.map((e=>jt(e.name)));i.forEach(((e,o)=>{if(e==Q.ProfessionUnknown)throw new Error(`Could not parse profession '${t.professions[o]}'`)}));const a=t.talents||"",l=Xo[o],n=t.glyphs.major.map((e=>Wi(e,l.majorGlyphs))),r=t.glyphs.minor.map((e=>Wi(e,l.minorGlyphs))),d=B.create({major1:n[0]||0,major2:n[1]||0,major3:n[2]||0,minor1:r[0]||0,minor2:r[1]||0,minor3:r[2]||0}),c=t.gear;c.items=c.items.filter((e=>null!=e)),c.items.forEach((e=>{e.gems&&(e.gems=e.gems.map((e=>e||0)))}));const m=Ut.fromJson(c);this.finishIndividualImport(this.simUI,o,s,m,a,d,i)}}function Wi(e,t){if(!e)return 0;for(let o in t)if(t[o].name==e)return parseInt(o);throw new Error(`Unknown glyph name '${e}'`)}const Bi="Specify Paladin Blessings for each role, in order of priority. Blessings in the 1st column will be used if there is at least 1 Paladin in the raid, 2nd column if at least 2, etc.",Ai="<p>Preset gear lists are intended as rough approximations of BIS, and will often not be the absolute highest-DPS setup for you. Your optimal gear setup will depend on many factors; that's why we have a sim!</p><p>Items may also be omitted from the presets if they are highly contested and clearly better utilized on other classes, to encourage equitable gearing for the raid as a whole.</p>";class Hi extends n{constructor(e,t,o){super(e,"list-picker-root",t,o),this.config=o,this.itemPickerPairs=[],this.rootElem.innerHTML=`\n\t\t\t${o.title?`\n\t\t\t\t<label\n\t\t\t\t\tclass="list-picker-title form-label"\n\t\t\t\t\t${this.config.titleTooltip?'data-bs-toggle="tooltip"':""}\n\t\t\t\t\t${this.config.titleTooltip?`data-bs-title="${this.config.titleTooltip}"`:""}\n\t\t\t\t>${o.title}</label>`:""}\n\t\t\t<div class="list-picker-items"></div>\n\t\t\t<button class="list-picker-new-button btn btn-primary">New ${o.itemLabel}</button>\n\t\t`,this.config.titleTooltip&&co.getOrCreateInstance(this.rootElem.querySelector(".list-picker-title")),this.itemsDiv=this.rootElem.getElementsByClassName("list-picker-items")[0];this.rootElem.getElementsByClassName("list-picker-new-button")[0].addEventListener("click",(e=>{const t=this.config.newItem(),o=this.config.getValue(this.modObject).concat([t]);this.config.setValue(s.nextEventID(),this.modObject,o)})),this.init()}getInputElem(){return this.rootElem}getInputValue(){return this.itemPickerPairs.map((e=>e.item))}setInputValue(e){const t=this.itemPickerPairs.filter((t=>!e.includes(t.item)));t.forEach((e=>e.elem.remove())),this.itemPickerPairs=this.itemPickerPairs.filter((e=>!t.includes(e)));const o=this.getInputValue();e.filter((e=>!o.includes(e))).forEach((e=>this.addNewPicker(e))),this.itemPickerPairs=e.map((e=>this.itemPickerPairs.find((t=>t.item==e))));Array.from(this.itemsDiv.children).every(((e,t)=>e==this.itemPickerPairs[t].elem))||(this.itemPickerPairs.forEach((e=>e.elem.remove())),this.itemPickerPairs.forEach((e=>this.itemsDiv.appendChild(e.elem))))}getPickerIndex(e){return this.itemPickerPairs.findIndex((t=>t.picker==e))}addNewPicker(e){const t=document.createElement("div");t.classList.add("list-picker-item-container"),this.config.inlineMenuBar&&t.classList.add("inline");const o='<div class="list-picker-item"></div>';t.innerHTML=`\n\t\t\t${this.config.inlineMenuBar?o:""}\n\t\t\t<div class="list-picker-item-header">\n\t\t\t\t${this.config.itemLabel&&!this.config.inlineMenuBar?`<h6 class="list-picker-item-title">${this.config.itemLabel}</h6>`:""}\n\t\t\t\t<a href="javascript:void(0)" class="list-picker-item-action list-picker-item-up" role="button" data-bs-toggle="tooltip" data-bs-title="Move Up">\n\t\t\t\t\t<i class="fa fa-angle-up fa-xl"></i>\n\t\t\t\t</a>\n\t\t\t\t<a href="javascript:void(0)" class="list-picker-item-action list-picker-item-down" role="button" data-bs-toggle="tooltip" data-bs-title="Move Down">\n\t\t\t\t\t<i class="fa fa-angle-down fa-xl"></i>\n\t\t\t\t</a>\n\t\t\t\t<a href="javascript:void(0)" class="list-picker-item-action list-picker-item-copy" role="button" data-bs-toggle="tooltip" data-bs-title="Copy to New ${this.config.itemLabel}">\n\t\t\t\t\t<i class="fa fa-copy fa-xl"></i>\n\t\t\t\t</a>\n\t\t\t\t<a href="javascript:void(0)" class="list-picker-item-action list-picker-item-delete link-danger" role="button" data-bs-toggle="tooltip" data-bs-title="Delete ${this.config.itemLabel}">\n\t\t\t\t\t<i class="fa fa-times fa-xl"></i>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t${this.config.inlineMenuBar?"":o}\n\t\t`;const i=t.getElementsByClassName("list-picker-item-up")[0],a=co.getOrCreateInstance(i);i.addEventListener("click",(t=>{const o=this.itemPickerPairs.findIndex((t=>t.item==e));if(-1==o)return void console.error("Could not find list picker item!");if(0==o)return;const i=this.config.getValue(this.modObject);Ft(i,o,o-1),this.config.setValue(s.nextEventID(),this.modObject,i),a.hide()}));const l=t.getElementsByClassName("list-picker-item-down")[0],n=co.getOrCreateInstance(l);l.addEventListener("click",(t=>{const o=this.itemPickerPairs.findIndex((t=>t.item==e));if(-1==o)return void console.error("Could not find list picker item!");if(o==this.itemPickerPairs.length-1)return;const i=this.config.getValue(this.modObject);Ft(i,o,o+1),this.config.setValue(s.nextEventID(),this.modObject,i),n.hide()}));const r=t.getElementsByClassName("list-picker-item-copy")[0],d=co.getOrCreateInstance(r);r.addEventListener("click",(t=>{if(-1==this.itemPickerPairs.findIndex((t=>t.item==e)))return void console.error("Could not find list picker item!");const o=this.config.copyItem(e),i=this.config.getValue(this.modObject).concat([o]);this.config.setValue(s.nextEventID(),this.modObject,i),d.hide()}));const c=t.getElementsByClassName("list-picker-item-delete")[0],m=co.getOrCreateInstance(c);c.addEventListener("click",(t=>{const o=this.itemPickerPairs.findIndex((t=>t.item==e));if(-1==o)return void console.error("Could not find list picker item!");const i=this.config.getValue(this.modObject);i.splice(o,1),this.config.setValue(s.nextEventID(),this.modObject,i),m.hide()}));const p=t.getElementsByClassName("list-picker-item")[0],h=this.config.newItemPicker(p,e,this);this.itemsDiv.appendChild(t),this.itemPickerPairs.push({item:e,elem:t,picker:h})}}class zi extends d{constructor(e){super(document.body,"modal"),this.rootElem.classList.add("fade"),this.rootElem.innerHTML=`\n\t\t\t<div class="modal-dialog modal-lg ${e}">\n\t\t\t\t<div class="modal-content">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;const t=this.rootElem.querySelector(".modal-content");this.header=document.createElement("div"),this.header.classList.add("modal-header"),t.appendChild(this.header),this.body=document.createElement("div"),this.body.classList.add("modal-body"),t.appendChild(this.body),this.modal=new po(this.rootElem),this.open(),this.rootElem.addEventListener("hidden.bs.modal",(e=>{this.rootElem.remove()}))}addCloseButton(){new Vo(this.header,(()=>this.close()))}open(){this.modal.show()}close(){this.modal.hide()}}class Vi extends d{constructor(e,t,o,s){super(e,"encounter-picker-root"),Yi(this.rootElem,t,o.showExecuteProportion),t.sim.waitForInit().then((()=>{const e=t.sim.db.getAllPresetTargets();new fs(this.rootElem,t,{extraCssClasses:["damage-metrics","npc-picker"],label:"NPC",labelTooltip:"Selects a preset NPC configuration.",values:[{name:"Custom",value:-1}].concat(e.map(((e,t)=>({name:e.path,value:t})))),changedEvent:e=>e.changeEmitter,getValue:t=>e.findIndex((e=>t.primaryTarget.matchesPreset(e))),setValue:(t,o,s)=>{-1!=s&&o.primaryTarget.applyPreset(t,e[s])}}),s.isIndividualSim()&&Wt(s.player.spec)&&new hs(this.rootElem,s.sim.raid,{label:"Num Allies",labelTooltip:"Number of allied players in the raid.",changedEvent:e=>e.targetDummiesChangeEmitter,getValue:e=>e.getTargetDummies(),setValue:(e,t,o)=>{t.setTargetDummies(e,o)}}),s.isIndividualSim()&&he(s.player.spec)&&new hs(this.rootElem,t,{label:"Min Base Damage",labelTooltip:"Base damage for auto attacks, i.e. lowest roll with 0 AP against a 0-armor Player.",changedEvent:e=>e.changeEmitter,getValue:e=>e.primaryTarget.getMinBaseDamage(),setValue:(e,t,o)=>{t.primaryTarget.setMinBaseDamage(e,o)}});const o=document.createElement("button");o.classList.add("advanced-button","btn","btn-primary"),o.textContent="Advanced",o.addEventListener("click",(()=>new qi(this.rootElem,t,s))),this.rootElem.appendChild(o)}))}}class qi extends zi{constructor(e,t,o){super("advanced-encounter-picker-modal"),this.encounter=t,this.addHeader(),this.body.innerHTML='\n\t\t\t<div class="encounter-header">\n\t\t\t</div>\n\t\t\t<div class="encounter-targets">\n\t\t\t</div>\n\t\t';const i=this.rootElem.getElementsByClassName("encounter-header")[0],a=this.rootElem.getElementsByClassName("encounter-targets")[0];Yi(i,this.encounter,!0),o.isIndividualSim()||new ys(i,t,{label:"Use Health",labelTooltip:"Uses a damage limit in place of a duration limit. Damage limit is equal to sum of all targets health.",changedEvent:e=>e.changeEmitter,getValue:e=>e.getUseHealth(),setValue:(e,t,o)=>{t.setUseHealth(e,o)}}),new Hi(a,this.encounter,{extraCssClasses:["targets-picker","mb-0"],itemLabel:"Target",changedEvent:e=>e.targetsChangeEmitter,getValue:e=>e.getTargets(),setValue:(e,t,o)=>{t.setTargets(e,o)},newItem:()=>Io.fromDefaults(s.nextEventID(),this.encounter.sim),copyItem:e=>e.clone(s.nextEventID()),newItemPicker:(e,t)=>new $i(e,t)})}addHeader(){const e=this.encounter.sim.db.getAllPresetEncounters();new fs(this.header,this.encounter,{label:"Encounter",extraCssClasses:["encounter-picker","mb-0"],values:[{name:"Custom",value:-1}].concat(e.map(((e,t)=>({name:e.path,value:t})))),changedEvent:e=>e.changeEmitter,getValue:t=>e.findIndex((e=>t.matchesPreset(e))),setValue:(t,o,s)=>{-1!=s&&o.applyPreset(t,e[s])}}),this.addCloseButton()}}class $i extends d{constructor(e,t){super(e,"target-picker-root"),this.rootElem.innerHTML='\n\t\t\t<div class="target-picker-section target-picker-section1"></div>\n\t\t\t<div class="target-picker-section target-picker-section2"></div>\n\t\t\t<div class="target-picker-section target-picker-section3 threat-metrics"></div>\n\t\t',t.sim.encounter;const s=this.rootElem.getElementsByClassName("target-picker-section1")[0],i=this.rootElem.getElementsByClassName("target-picker-section2")[0],a=this.rootElem.getElementsByClassName("target-picker-section3")[0],l=t.sim.db.getAllPresetTargets();new fs(s,t,{extraCssClasses:["npc-picker"],label:"NPC",labelTooltip:"Selects a preset NPC configuration.",values:[{name:"Custom",value:-1}].concat(l.map(((e,t)=>({name:e.path,value:t})))),changedEvent:e=>e.changeEmitter,getValue:e=>l.findIndex((t=>e.matchesPreset(t))),setValue:(e,t,o)=>{-1!=o&&t.applyPreset(e,l[o])}}),new fs(s,t,{extraCssClasses:["ai-picker"],label:"AI",labelTooltip:"\n\t\t\t\t<p>Determines the target's ability rotation.</p>\n\t\t\t\t<p>Note that most rotations are not yet implemented.</p>\n\t\t\t",values:[{name:"None",value:0}].concat(l.map((e=>({name:e.path,value:e.target.id})))),changedEvent:e=>e.changeEmitter,getValue:e=>e.getId(),setValue:(e,t,o)=>{t.setId(e,o)}}),new fs(s,t,{label:"Level",values:[{name:"83",value:83},{name:"82",value:82},{name:"81",value:81},{name:"80",value:80}],changedEvent:e=>e.levelChangeEmitter,getValue:e=>e.getLevel(),setValue:(e,t,o)=>{t.setLevel(e,o)}}),new fs(s,t,{label:"Mob Type",values:Ki,changedEvent:e=>e.mobTypeChangeEmitter,getValue:e=>e.getMobType(),setValue:(e,t,o)=>{t.setMobType(e,o)}}),new fs(s,t,{extraCssClasses:["threat-metrics"],label:"Tanked By",labelTooltip:"Determines which player in the raid this enemy will attack. If no player is assigned to the specified tank slot, this enemy will not attack.",values:[{name:"None",value:-1},{name:"Main Tank",value:0},{name:"Tank 2",value:1},{name:"Tank 3",value:2},{name:"Tank 4",value:3}],changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getTankIndex(),setValue:(e,t,o)=>{t.setTankIndex(e,o)}}),Ji.forEach((e=>{const o=e.stat;new hs(i,t,{inline:!0,extraCssClasses:e.extraCssClasses,label:Bt[o],labelTooltip:e.tooltip,changedEvent:e=>e.statsChangeEmitter,getValue:e=>e.getStats().getStat(o),setValue:(e,t,s)=>{t.setStats(e,t.getStats().withStat(o,s))}})})),new hs(a,t,{label:"Swing Speed",labelTooltip:"Time in seconds between auto attacks. Set to 0 to disable auto attacks.",float:!0,changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getSwingSpeed(),setValue:(e,t,o)=>{t.setSwingSpeed(e,o)}}),new hs(a,t,{label:"Min Base Damage",labelTooltip:"Base damage for auto attacks, i.e. lowest roll with 0 AP against a 0-armor Player.",changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getMinBaseDamage(),setValue:(e,t,o)=>{t.setMinBaseDamage(e,o)}}),new ys(a,t,{label:"Dual Wield",labelTooltip:"Uses 2 separate weapons to attack.",inline:!0,changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getDualWield(),setValue:(e,t,o)=>{t.setDualWield(e,o)}}),new ys(a,t,{label:"DW Miss Penalty",labelTooltip:"Enables the Dual Wield Miss Penalty (+19% chance to miss) if dual wielding. Bosses in Hyjal/BT/SWP usually have this disabled to stop tanks from avoidance stacking.",inline:!0,changedEvent:e=>e.changeEmitter,getValue:e=>e.getDualWieldPenalty(),setValue:(e,t,o)=>{t.setDualWieldPenalty(e,o)},enableWhen:e=>e.getDualWield()}),new ys(a,t,{label:"Parry Haste",labelTooltip:"Whether this enemy will gain parry haste when parrying attacks.",inline:!0,changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getParryHaste(),setValue:(e,t,o)=>{t.setParryHaste(e,o)}}),new fs(a,t,{label:"Spell School",labelTooltip:"Type of damage caused by auto attacks. This is usually Physical, but some enemies have elemental attacks.",values:[{name:"Physical",value:o.SpellSchoolPhysical},{name:"Arcane",value:o.SpellSchoolArcane},{name:"Fire",value:o.SpellSchoolFire},{name:"Frost",value:o.SpellSchoolFrost},{name:"Holy",value:o.SpellSchoolHoly},{name:"Nature",value:o.SpellSchoolNature},{name:"Shadow",value:o.SpellSchoolShadow}],changedEvent:e=>e.propChangeEmitter,getValue:e=>e.getSpellSchool(),setValue:(e,t,o)=>{t.setSpellSchool(e,o)}}),new ys(a,t,{label:"Chill of the Throne",labelTooltip:"Reduces the chance for this enemy's attacks to be dodged by 20%. Active in Icecrown Citadel.",inline:!0,changedEvent:e=>e.changeEmitter,getValue:e=>e.getSuppressDodge(),setValue:(e,t,o)=>{t.setSuppressDodge(e,o)},enableWhen:e=>83==e.getLevel()}),new ys(a,t,{label:"Tightened Damage Range",labelTooltip:"Reduces the damage range of this enemy's auto-attacks. Observed behavior for Patchwerk.",inline:!0,changedEvent:e=>e.changeEmitter,getValue:e=>e.getTightEnemyDamage(),setValue:(e,t,o)=>{t.setTightEnemyDamage(e,o)},enableWhen:e=>83==e.getLevel()})}}function Yi(e,t,o){let s=n.newGroupContainer();if(e.appendChild(s),new hs(s,t,{label:"Duration",labelTooltip:"The fight length for each sim iteration, in seconds.",changedEvent:e=>e.changeEmitter,getValue:e=>e.getDuration(),setValue:(e,t,o)=>{t.setDuration(e,o)},enableWhen:e=>!t.getUseHealth()}),new hs(s,t,{label:"Duration +/-",labelTooltip:"Adds a random amount of time, in seconds, between [value, -1 * value] to each sim iteration. For example, setting Duration to 180 and Duration +/- to 10 will result in random durations between 170s and 190s.",changedEvent:e=>e.changeEmitter,getValue:e=>e.getDurationVariation(),setValue:(e,t,o)=>{t.setDurationVariation(e,o)},enableWhen:e=>!t.getUseHealth()}),o){let o=n.newGroupContainer();o.classList.add("execute-group"),e.appendChild(o),new hs(o,t,{label:"Execute Duration 20 (%)",labelTooltip:"Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 20% HP) for the purpose of effects like Warrior Execute or Mage Molten Fury.",changedEvent:e=>e.changeEmitter,getValue:e=>100*e.getExecuteProportion20(),setValue:(e,t,o)=>{t.setExecuteProportion20(e,o/100)},enableWhen:e=>!t.getUseHealth()}),new hs(o,t,{label:"Execute Duration 25 (%)",labelTooltip:"Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 25% HP) for the purpose of effects like Warlock's Drain Soul.",changedEvent:e=>e.changeEmitter,getValue:e=>100*e.getExecuteProportion25(),setValue:(e,t,o)=>{t.setExecuteProportion25(e,o/100)},enableWhen:e=>!t.getUseHealth()}),new hs(o,t,{label:"Execute Duration 35 (%)",labelTooltip:"Percentage of the total encounter duration, for which the targets will be considered to be in execute range (< 35% HP) for the purpose of effects like Warrior Execute or Mage Molten Fury.",changedEvent:e=>e.changeEmitter,getValue:e=>100*e.getExecuteProportion35(),setValue:(e,t,o)=>{t.setExecuteProportion35(e,o/100)},enableWhen:e=>!t.getUseHealth()})}}const Ji=[{stat:a.StatHealth,tooltip:"",extraCssClasses:[]},{stat:a.StatArmor,tooltip:"",extraCssClasses:[]},{stat:a.StatArcaneResistance,tooltip:"",extraCssClasses:[]},{stat:a.StatFireResistance,tooltip:"",extraCssClasses:[]},{stat:a.StatFrostResistance,tooltip:"",extraCssClasses:[]},{stat:a.StatNatureResistance,tooltip:"",extraCssClasses:[]},{stat:a.StatShadowResistance,tooltip:"",extraCssClasses:[]},{stat:a.StatAttackPower,tooltip:"",extraCssClasses:["threat-metrics"]},{stat:a.StatBlockValue,tooltip:"",extraCssClasses:["threat-metrics"]}],Ki=[{name:"None",value:e.MobTypeUnknown},{name:"Beast",value:e.MobTypeBeast},{name:"Demon",value:e.MobTypeDemon},{name:"Dragonkin",value:e.MobTypeDragonkin},{name:"Elemental",value:e.MobTypeElemental},{name:"Giant",value:e.MobTypeGiant},{name:"Humanoid",value:e.MobTypeHumanoid},{name:"Mechanical",value:e.MobTypeMechanical},{name:"Undead",value:e.MobTypeUndead}];class Qi extends d{constructor(e,t,o){super(e,"sim-tab"),this.rootElem.classList.add(o.identifier),this.simUI=t,this.config=o,this.rootElem.id=this.config.identifier,this.rootElem.classList.add("tab-pane","fade"),this.navItem=this.buildNavItem(),this.navLink=this.navItem.children[0],this.contentContainer=document.createElement("div"),this.contentContainer.classList.add("tab-pane-content-container"),this.rootElem.appendChild(this.contentContainer),this.simUI.simHeader.addSimTabLink(this)}buildNavItem(){const e=document.createElement("fragment");return e.innerHTML=`\n\t\t\t<li class="${this.config.identifier} nav-item" role="presentation">\n\t\t\t\t<a\n\t\t\t\t\tclass="nav-link"\n\t\t\t\t\tdata-bs-toggle="tab"\n\t\t\t\t\tdata-bs-target="#${this.config.identifier}"\n\t\t\t\t\ttype="button"\n\t\t\t\t\trole="tab"\n\t\t\t\t\taria-controls="${this.config.identifier}"\n\t\t\t\t>${this.config.title}</a>\n\t\t\t</li>\n\t\t`,e.children[0]}}class Xi extends n{constructor(e,t,o){super(e,"icon-picker-root",t,o),this.handleLeftClick=e=>{0==this.config.states||this.currentValue+1<this.config.states?(this.currentValue++,this.inputChanged(s.nextEventID())):this.currentValue>0&&(this.currentValue=0,this.inputChanged(s.nextEventID())),e.preventDefault()},this.handleRightClick=e=>{this.currentValue>0?this.currentValue--:0===this.config.states?this.currentValue=1:this.currentValue=this.config.states-1,this.inputChanged(s.nextEventID())},this.rootElem.classList.add("icon-picker"),this.config=o,this.currentValue=0,this.rootAnchor=document.createElement("a"),this.rootAnchor.classList.add("icon-picker-button"),this.rootAnchor.target="_blank",this.rootElem.prepend(this.rootAnchor);const i=Boolean(this.config.improvedId);i&&this.rootAnchor.classList.add("use-improved-icons"),this.config.improvedId2&&this.rootAnchor.classList.add("use-improved-icons2"),!i&&this.config.states>2&&this.rootAnchor.classList.add("use-counter");const a=document.createElement("div");a.classList.add("icon-input-level-container"),this.rootAnchor.appendChild(a),a.innerHTML=`\n      <a class="icon-input-improved icon-input-improved1"></a>\n      <a class="icon-input-improved icon-input-improved2"></a>\n      <span class="icon-picker-label ${this.config.states>2?"":"hide"}"></span>\n    `,this.improvedAnchor=this.rootAnchor.getElementsByClassName("icon-input-improved1")[0],this.improvedAnchor2=this.rootAnchor.getElementsByClassName("icon-input-improved2")[0],this.counterElem=this.rootAnchor.getElementsByClassName("icon-picker-label")[0],this.config.id.fillAndSet(this.rootAnchor,!0,!0),this.config.states>=3&&this.config.improvedId&&this.config.improvedId.fillAndSet(this.improvedAnchor,!0,!0),this.config.states>=4&&this.config.improvedId2&&this.config.improvedId2.fillAndSet(this.improvedAnchor2,!0,!0),this.init(),this.rootAnchor.addEventListener("click",(e=>{e.preventDefault()})),this.rootAnchor.addEventListener("contextmenu",(e=>{e.preventDefault()})),this.rootAnchor.addEventListener("mousedown",(e=>{c(e)?this.handleRightClick(e):this.handleLeftClick(e)})),this.rootAnchor.addEventListener("touchstart",(e=>{this.handleLeftClick(e)})),this.rootAnchor.addEventListener("touchend",(e=>{e.preventDefault()}))}getInputElem(){return this.rootAnchor}getInputValue(){return 2==this.config.states?Boolean(this.currentValue):this.currentValue}getActionId(){const e=Number(this.config.getValue(this.modObject));return 0==e?null:1==e?this.config.id:2==e&&this.config.improvedId?this.config.improvedId:3==e&&this.config.improvedId2?this.config.improvedId2:this.config.id}setInputValue(e){this.currentValue=Number(e),this.currentValue>0?(this.rootAnchor.classList.add("active"),this.counterElem.classList.add("active")):(this.rootAnchor.classList.remove("active"),this.counterElem.classList.remove("active")),this.config.states>=3&&this.config.improvedId&&(this.currentValue>1?this.improvedAnchor.classList.add("active"):this.improvedAnchor.classList.remove("active")),this.config.states>=4&&this.config.improvedId2&&(this.currentValue>2?this.improvedAnchor2.classList.add("active"):this.improvedAnchor2.classList.remove("active")),!this.config.improvedId&&(this.config.states>3||0==this.config.states)&&(this.counterElem.textContent=String(this.currentValue))}}class Zi extends d{constructor(e,t,o,s){super(e,"multi-icon-picker-root"),this.rootElem.classList.add("icon-picker"),this.config=o,this.currentValue=null,this.rootElem.innerHTML='\n\t\t\t<div class="dropend">\n\t\t\t\t<a\n\t\t\t\t\tclass="icon-picker-button"\n\t\t\t\t\trole="button"\n\t\t\t\t\tdata-bs-toggle="dropdown"\n\t\t\t\t\taria-expanded="false"\n\t\t\t\t></a>\n\t\t\t\t<ul class="dropdown-menu"></ul>\n\t\t\t</div>\n\t\t\t<label class="multi-icon-picker-label form-label"></label>\n    ',this.dropdownRootElem=this.rootElem.querySelector(".dropdown");const i=this.rootElem.querySelector(".multi-icon-picker-label");o.label?i.textContent=o.label:i.remove(),this.buttonElem=this.rootElem.querySelector(".icon-picker-button");const a=this.rootElem.querySelector(".dropdown-menu");this.buttonElem.addEventListener("hide.bs.dropdown",(e=>{e.hasOwnProperty("clickEvent")&&e.preventDefault()})),this.pickers=o.inputs.map(((e,o)=>{const s=document.createElement("li");return s.classList.add("icon-dropdown-option","dropdown-option"),a.appendChild(s),new Xi(s,t,e)})),s.sim.waitForInit().then((()=>this.updateButtonImage())),s.changeEmitter.on((()=>this.updateButtonImage()))}updateButtonImage(){this.currentValue=this.getMaxValue(),this.currentValue?(this.buttonElem.classList.add("active"),null!=this.config.categoryId?this.config.categoryId.fillAndSet(this.buttonElem,!1,!0):this.currentValue.fillAndSet(this.buttonElem,!1,!0)):(this.buttonElem.classList.remove("active"),null!=this.config.categoryId?this.config.categoryId.fillAndSet(this.buttonElem,!1,!0):this.buttonElem.style.backgroundImage="",this.buttonElem.removeAttribute("href"))}getMaxValue(){return this.pickers.map((e=>e.getActionId())).filter((e=>null!=e))[0]||null}}class ea extends d{constructor(e,t,o){super(e,"custom-rotation-picker-root"),new Hi(this.rootElem,t,{extraCssClasses:["custom-spells-picker"],title:"Spell Priority",titleTooltip:"Spells at the top of the list are prioritized first. Safely ignores untalented options.",itemLabel:"Spell",changedEvent:e=>e.changeEmitter,getValue:e=>o.getValue(e).spells,setValue:(e,t,s)=>{o.setValue(e,t,nt.create({spells:s}))},newItem:()=>At.create(),copyItem:e=>At.clone(e),newItemPicker:(e,s,i)=>new ta(e,t,s,o,i),inlineMenuBar:!0,showWhen:o.showWhen})}}class ta extends d{constructor(e,t,o,s,i){super(e,"custom-spell-picker-root"),this.player=t,this.config=s,this.listPicker=i,new ui(this.rootElem,o,{numColumns:s.numColumns,values:s.values.map((e=>{if(e.showWhen){const o=e.showWhen;e.showWhen=e=>o(t)}return e})),equals:(e,t)=>e==t,zeroValue:0,changedEvent:e=>t.changeEmitter,getValue:e=>e.spell,setValue:(e,t,o)=>{t.spell=o,this.setSpell(e,t)}}),s.showCastsPerMinute&&new hs(this.rootElem,o,{label:"CPM",labelTooltip:"Desired Casts-Per-Minute for this spell.",float:!0,positive:!0,changedEvent:e=>t.changeEmitter,getValue:e=>e.castsPerMinute,setValue:(e,t,o)=>{t.castsPerMinute=o,this.setSpell(e,t)}})}setSpell(e,t){const o=this.listPicker.getPickerIndex(this),s=this.config.getValue(this.player);s.spells[o]=At.clone(t),this.config.setValue(e,this.player,s)}}class oa extends n{constructor(e,t,o){super(e,"number-list-picker-root",t,o),this.inputElem=document.createElement("input"),this.inputElem.type="text",this.inputElem.placeholder=o.placeholder||"",this.inputElem.classList.add("number-list-picker-input","form-control"),this.rootElem.appendChild(this.inputElem),this.init(),this.inputElem.addEventListener("change",(e=>{this.inputChanged(s.nextEventID())}))}getInputElem(){return this.inputElem}getInputValue(){const e=this.inputElem.value;return e?e.split(",").map(parseFloat).filter((e=>!isNaN(e))):[]}setInputValue(e){Ht(this.getInputValue(),e)||(this.inputElem.value=e.map((e=>String(e))).join(","))}}class sa extends d{constructor(e,t){super(e,"cooldowns-picker-root"),this.player=t,this.cooldownPickers=[],s.onAny([this.player.currentStatsEmitter]).on((e=>{this.update()})),this.update()}update(){this.rootElem.innerHTML="";const e=this.player.getCooldowns().cooldowns;this.cooldownPickers=[];for(let t=0;t<e.length+1;t++){const o=e[t],i=document.createElement("div");i.classList.add("cooldown-picker"),t==e.length&&i.classList.add("add-cooldown-picker"),this.rootElem.appendChild(i),this.makeActionPicker(i,t);const a=document.createElement("label");a.classList.add("cooldown-picker-label","form-label"),o&&o.id&&m.fromProto(o.id).fill(this.player.getRaidIndex()).then((e=>a.textContent=e.name)),i.appendChild(a),this.makeTimingsPicker(i,t);let l=document.createElement("fragment");l.innerHTML='\n\t\t\t\t<a\n\t\t\t\t\thref="javascript:void(0)"\n\t\t\t\t\tclass="delete-cooldown link-danger"\n\t\t\t\t\trole="button"\n\t\t\t\t\tdata-bs-toggle="tooltip"\n\t\t\t\t\tdata-bs-title="Delete Cooldown"\n\t\t\t\t>\n\t\t\t\t\t<i class="fa fa-times fa-xl"></i>\n\t\t\t\t</a>\n\t\t\t';const n=l.children[0],r=co.getOrCreateInstance(n);n.addEventListener("click",(e=>{const o=this.player.getCooldowns();o.cooldowns.splice(t,1),this.player.setCooldowns(s.nextEventID(),o),r.hide()})),i.appendChild(n),this.cooldownPickers.push(i)}}makeActionPicker(e,t){const o=this.player.getCurrentStats().cooldowns;return new ui(e,this.player,{extraCssClasses:["cooldown-action-picker"],numColumns:3,values:[{color:"#grey",value:zt.create()}].concat(o.map((e=>({actionId:m.fromProto(e),value:e})))),equals:(e,t)=>zt.equals(e,t),zeroValue:zt.create(),backupIconUrl:e=>m.fromProto(e),changedEvent:e=>e.cooldownsChangeEmitter,getValue:e=>e.getCooldowns().cooldowns[t]?.id||zt.create(),setValue:(e,o,s)=>{const i=o.getCooldowns();for(;i.cooldowns.length<t;)i.cooldowns.push(Vt.create());i.cooldowns[t]=Vt.create({id:s,timings:[]}),o.setCooldowns(e,i)}})}makeTimingsPicker(e,t){return new oa(e,this.player,{extraCssClasses:["cooldown-timings-picker"],placeholder:"20, 40, ...",changedEvent:e=>e.cooldownsChangeEmitter,getValue:e=>e.getCooldowns().cooldowns[t]?.timings||[],setValue:(e,o,s)=>{const i=o.getCooldowns();i.cooldowns[t].timings=s,o.setCooldowns(e,i)},enableWhen:e=>{const o=e.getCooldowns().cooldowns[t];return o&&!zt.equals(o.id,zt.create())}})}}const ia=(e,t,o)=>"icon"==o.type?new Xi(e,t,o):"iconEnum"==o.type?new ui(e,t,o):void 0,aa=Us([fl(m.fromSpellId(48470),m.fromSpellId(17051),"giftOfTheWild"),ml(m.fromItemId(49634),"drumsOfTheWild")],"Stats"),la=Us([hl(m.fromSpellId(25898),"blessingOfKings"),ml(m.fromItemId(49633),"drumsOfForgottenKings"),hl(m.fromSpellId(25899),"blessingOfSanctuary")],"Stats %"),na=Us([fl(m.fromSpellId(48942),m.fromSpellId(20140),"devotionAura"),fl(m.fromSpellId(58753),m.fromSpellId(16293),"stoneskinTotem"),ml(m.fromItemId(43468),"scrollOfProtection")],"Armor"),ra=Us([fl(m.fromSpellId(48161),m.fromSpellId(14767),"powerWordFortitude"),ml(m.fromItemId(37094),"scrollOfStamina")],"Stamina"),da=Us([fl(m.fromSpellId(58643),m.fromSpellId(52456),"strengthOfEarthTotem"),ml(m.fromSpellId(57623),"hornOfWinter"),ml(m.fromItemId(43464),"scrollOfAgility"),ml(m.fromItemId(43466),"scrollOfStrength")],"Str/Agi"),ca=Us([ml(m.fromSpellId(43002),"arcaneBrilliance"),fl(m.fromSpellId(57567),m.fromSpellId(54038),"felIntelligence"),ml(m.fromItemId(37092),"scrollOfIntellect")],"Int"),ma=Us([ml(m.fromSpellId(48073),"divineSpirit"),fl(m.fromSpellId(57567),m.fromSpellId(54038),"felIntelligence"),ml(m.fromItemId(37098),"scrollOfSpirit")],"Spirit"),pa=Us([Il(m.fromSpellId(48934),m.fromSpellId(20045),"blessingOfMight"),fl(m.fromSpellId(47436),m.fromSpellId(12861),"battleShout")],"AP"),ha=Us([ml(m.fromSpellId(53138),"abominationsMight"),ml(m.fromSpellId(30809),"unleashedRage"),ml(m.fromSpellId(19506),"trueshotAura")],"Atk Pwr %"),ga=Us([ml(m.fromSpellId(31869),"sanctifiedRetribution"),ml(m.fromSpellId(31583),"arcaneEmpowerment"),ml(m.fromSpellId(34460),"ferociousInspiration")],"Dmg %"),ua=Us([hl(m.fromSpellId(57472),"renewedHope"),hl(m.fromSpellId(25899),"blessingOfSanctuary"),hl(m.fromSpellId(50720),"vigilance")],"Mit %"),fa=Us([ml(m.fromSpellId(53648),"swiftRetribution"),ml(m.fromSpellId(48396),"moonkinAura",Ve.TristateEffectImproved)],"Haste %"),Ia=Us([fl(m.fromSpellId(47440),m.fromSpellId(12861),"commandingShout"),fl(m.fromSpellId(47982),m.fromSpellId(18696),"bloodPact")],"Health"),wa=Us([Il(m.fromSpellId(48938),m.fromSpellId(20245),"blessingOfWisdom"),fl(m.fromSpellId(58774),m.fromSpellId(16206),"manaSpringTotem")],"MP5"),xa=Us([fl(m.fromSpellId(17007),m.fromSpellId(34300),"leaderOfThePack"),ml(m.fromSpellId(29801),"rampage")],"Melee Crit"),ya=Us([ml(m.fromSpellId(55610),"icyTalons"),fl(m.fromSpellId(65990),m.fromSpellId(29193),"windfuryTotem")],"Melee Haste"),ba=Us([hl(m.fromSpellId(48160),"vampiricTouch"),hl(m.fromSpellId(31878),"judgementsOfTheWise"),hl(m.fromSpellId(53292),"huntingParty"),hl(m.fromSpellId(54118),"improvedSoulLeech"),hl(m.fromSpellId(44561),"enduringWinter")],"Replen",2),Sa=Us([fl(m.fromSpellId(24907),m.fromSpellId(48396),"moonkinAura"),ml(m.fromSpellId(51470),"elementalOath")],"Spell Crit"),Pa=cl(ml(m.fromSpellId(3738),"wrathOfAirTotem"),"Spell Haste"),va=Us([(Ea=m.fromSpellId(47240),Ca=5e3,ka="demonicPact",Na=500,Qs({getModObject:e=>e.getRaid(),getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},Ea,Ca,ka,Na)),ml(m.fromSpellId(57722),"totemOfWrath"),ml(m.fromSpellId(58656),"flametongueTotem")],"Spell Power");var Ea,Ca,ka,Na;const Ga=cl(ml(m.fromSpellId(2825),"bloodlust"),"Lust"),Ta=ml(m.fromSpellId(54043),"retributionAura"),Oa=ml(m.fromSpellId(48170),"shadowProtection"),_a=pl(m.fromSpellId(31025),"braidedEterniumChain"),La=pl(m.fromSpellId(31035),"chainOfTheTwilightOwl"),Ra=pl(m.fromSpellId(6562),"heroicPresence"),Da=pl(m.fromSpellId(31033),"eyeOfTheNight"),Ua=fl(m.fromSpellId(53307),m.fromSpellId(16840),"thorns"),Ma=function(e,t,o){return Qs({getModObject:e=>e.getParty(),getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}(m.fromSpellId(16190),5,"manaTideTotems"),ja=xl(m.fromSpellId(29166),11,"innervates"),Fa=xl(m.fromSpellId(10060),11,"powerInfusions"),Wa=hl(m.fromSpellId(54648),"focusMagic"),Ba=xl(m.fromSpellId(57933),20,"tricksOfTheTrades"),Aa=xl(m.fromSpellId(49016),11,"unholyFrenzy"),Ha=yl(m.fromSpellId(26982),101,10,"revitalizeRejuvination"),za=yl(m.fromSpellId(53251),101,10,"revitalizeWildGrowth"),Va=Us([ul(m.fromSpellId(7386),"sunderArmor"),ul(m.fromSpellId(8647),"exposeArmor"),ul(m.fromSpellId(55754),"acidSpit")],"Major ArP"),qa=Us([wl(m.fromSpellId(770),m.fromSpellId(33602),"faerieFire"),wl(m.fromSpellId(50511),m.fromSpellId(18180),"curseOfWeakness"),ul(m.fromSpellId(56631),"sting"),ul(m.fromSpellId(53598),"sporeCloud")],"Minor ArP"),$a=Us([ul(m.fromSpellId(26016),"vindication"),wl(m.fromSpellId(47437),m.fromSpellId(12879),"demoralizingShout"),wl(m.fromSpellId(48560),m.fromSpellId(16862),"demoralizingRoar"),wl(m.fromSpellId(50511),m.fromSpellId(18180),"curseOfWeakness"),ul(m.fromSpellId(55487),"demoralizingScreech")],"Atk Pwr"),Ya=Us([ul(m.fromSpellId(33876),"mangle"),ul(m.fromSpellId(46855),"trauma"),ul(m.fromSpellId(57393),"stampede")],"Bleed"),Ja=Us([ul(m.fromSpellId(30706),"totemOfWrath"),ul(m.fromSpellId(20337),"heartOfTheCrusader"),ul(m.fromSpellId(58410),"masterPoisoner")],"Crit"),Ka=Us([wl(m.fromSpellId(47502),m.fromSpellId(12666),"thunderClap"),wl(m.fromSpellId(55095),m.fromSpellId(51456),"frostFever"),ul(m.fromSpellId(53696),"judgementsOfTheJust"),ul(m.fromSpellId(48485),"infectedWounds")],"Atk Speed"),Qa=Us([ul(m.fromSpellId(65855),"insectSwarm"),ul(m.fromSpellId(3043),"scorpidSting")],"Miss"),Xa=Us([ul(m.fromSpellId(29859),"bloodFrenzy"),ul(m.fromSpellId(58413),"savageCombat")],"Phys Vuln"),Za=Us([ul(m.fromSpellId(17800),"shadowMastery"),ul(m.fromSpellId(12873),"improvedScorch"),ul(m.fromSpellId(28593),"wintersChill")],"Spell Crit"),el=Us([ul(m.fromSpellId(33198),"misery"),ul(m.fromSpellId(33602),"faerieFire",Ve.TristateEffectImproved)],"Spell Hit"),tl=Us([ul(m.fromSpellId(51161),"ebonPlaguebringer"),ul(m.fromSpellId(48511),"earthAndMoon"),ul(m.fromSpellId(47865),"curseOfElements")],"Spell Dmg"),ol=cl(function(e,t,o,s){return function(e,t,o,s,i){const a=Js(e,t,i);return a.states=4,a.improvedId=o,a.improvedId2=s,a}({getModObject:e=>e.getRaid(),getValue:e=>e.getDebuffs(),setValue:(e,t,o)=>t.setDebuffs(e,o),changeEmitter:e=>e.debuffsChangeEmitter},e,t,o,s)}(m.fromSpellId(53338),m.fromSpellId(19423),m.fromItemId(42907),"huntersMark"),"Mark"),sl=cl(ul(m.fromSpellId(53408),"judgementOfWisdom"),"JoW"),il=ul(m.fromSpellId(20271),"judgementOfLight"),al=xl(m.fromSpellId(64382),20,"shatteringThrows"),ll=ul(m.fromSpellId(11374),"giftOfArthas"),nl=gl(m.fromItemId(42641),"thermalSapper"),rl=gl(m.fromItemId(40536),"explosiveDecoy"),dl=gl(m.fromItemId(43005),"petFood",qt.PetFoodSpicedMammothTreats);function cl(e,t){return e.label=t,e}function ml(e,t,o){return $s({getModObject:e=>e.getRaid(),getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function pl(e,t,o){return $s({getModObject:e=>e.getParty(),getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function hl(e,t,o){return $s({getModObject:e=>e,getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function gl(e,t,o){return $s({getModObject:e=>e,getValue:e=>e.getConsumes(),setValue:(e,t,o)=>t.setConsumes(e,o),changeEmitter:e=>e.consumesChangeEmitter},e,t,o)}function ul(e,t,o){return $s({getModObject:e=>e.getRaid(),getValue:e=>e.getDebuffs(),setValue:(e,t,o)=>t.setDebuffs(e,o),changeEmitter:e=>e.debuffsChangeEmitter},e,t,o)}function fl(e,t,o){return Ks({getModObject:e=>e.getRaid(),getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function Il(e,t,o){return Ks({getModObject:e=>e,getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function wl(e,t,o){return Ks({getModObject:e=>e.getRaid(),getValue:e=>e.getDebuffs(),setValue:(e,t,o)=>t.setDebuffs(e,o),changeEmitter:e=>e.debuffsChangeEmitter},e,t,o)}function xl(e,t,o){return Qs({getModObject:e=>e,getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,o)}function yl(e,t,o,s){return Qs({getModObject:e=>e,getValue:e=>e.getBuffs(),setValue:(e,t,o)=>t.setBuffs(e,o),changeEmitter:e=>e.buffsChangeEmitter},e,t,s,o)}function bl(e){return Ll({consumesFieldName:e,allOptions:[{actionId:m.fromItemId(33447),value:Xt.RunicHealingPotion},{actionId:m.fromItemId(41166),value:Xt.RunicHealingInjector},{actionId:m.fromItemId(33448),value:Xt.RunicManaPotion},{actionId:m.fromItemId(42545),value:Xt.RunicManaInjector},{actionId:m.fromItemId(40093),value:Xt.IndestructiblePotion},{actionId:m.fromItemId(40211),value:Xt.PotionOfSpeed},{actionId:m.fromItemId(40212),value:Xt.PotionOfWildMagic},{actionId:m.fromItemId(22839),value:Xt.DestructionPotion},{actionId:m.fromItemId(22838),value:Xt.HastePotion},{actionId:m.fromItemId(13442),value:Xt.MightyRagePotion},{actionId:m.fromItemId(22832),value:Xt.SuperManaPotion},{actionId:m.fromItemId(31677),value:Xt.FelManaPotion},{actionId:m.fromItemId(22828),value:Xt.InsaneStrengthPotion},{actionId:m.fromItemId(22849),value:Xt.IronshieldPotion},{actionId:m.fromItemId(22837),value:Xt.HeroicPotion}]})}gl(m.fromItemId(27498),"petScrollOfAgility",5),gl(m.fromItemId(27503),"petScrollOfStrength",5);const Sl=bl("defaultPotion"),Pl=bl("prepopPotion"),vl=Ll({consumesFieldName:"defaultConjured",allOptions:[{actionId:m.fromItemId(12662),value:Xe.ConjuredDarkRune},{actionId:m.fromItemId(22788),value:Xe.ConjuredFlameCap},{actionId:m.fromItemId(22105),value:Xe.ConjuredHealthstone},{actionId:m.fromItemId(7676),value:Xe.ConjuredRogueThistleTea}]}),El=Ll({consumesFieldName:"flask",allOptions:[{actionId:m.fromItemId(46376),value:$t.FlaskOfTheFrostWyrm},{actionId:m.fromItemId(46377),value:$t.FlaskOfEndlessRage},{actionId:m.fromItemId(46378),value:$t.FlaskOfPureMojo},{actionId:m.fromItemId(46379),value:$t.FlaskOfStoneblood},{actionId:m.fromItemId(40079),value:$t.LesserFlaskOfToughness},{actionId:m.fromItemId(44939),value:$t.LesserFlaskOfResistance},{actionId:m.fromItemId(22861),value:$t.FlaskOfBlindingLight},{actionId:m.fromItemId(22853),value:$t.FlaskOfMightyRestoration},{actionId:m.fromItemId(22866),value:$t.FlaskOfPureDeath},{actionId:m.fromItemId(22854),value:$t.FlaskOfRelentlessAssault},{actionId:m.fromItemId(13512),value:$t.FlaskOfSupremePower},{actionId:m.fromItemId(22851),value:$t.FlaskOfFortification},{actionId:m.fromItemId(33208),value:$t.FlaskOfChromaticWonder}],onSet:(e,t,o)=>{if(o){const o=t.getConsumes();o.battleElixir=Yt.BattleElixirUnknown,o.guardianElixir=Jt.GuardianElixirUnknown,t.setConsumes(e,o)}}}),Cl=Ll({consumesFieldName:"battleElixir",allOptions:[{actionId:m.fromItemId(44325),value:Yt.ElixirOfAccuracy},{actionId:m.fromItemId(44330),value:Yt.ElixirOfArmorPiercing},{actionId:m.fromItemId(44327),value:Yt.ElixirOfDeadlyStrikes},{actionId:m.fromItemId(44329),value:Yt.ElixirOfExpertise},{actionId:m.fromItemId(44331),value:Yt.ElixirOfLightningSpeed},{actionId:m.fromItemId(39666),value:Yt.ElixirOfMightyAgility},{actionId:m.fromItemId(40073),value:Yt.ElixirOfMightyStrength},{actionId:m.fromItemId(40076),value:Yt.GurusElixir},{actionId:m.fromItemId(40070),value:Yt.SpellpowerElixir},{actionId:m.fromItemId(40068),value:Yt.WrathElixir},{actionId:m.fromItemId(28103),value:Yt.AdeptsElixir},{actionId:m.fromItemId(9224),value:Yt.ElixirOfDemonslaying},{actionId:m.fromItemId(22831),value:Yt.ElixirOfMajorAgility},{actionId:m.fromItemId(22833),value:Yt.ElixirOfMajorFirePower},{actionId:m.fromItemId(22827),value:Yt.ElixirOfMajorFrostPower},{actionId:m.fromItemId(22835),value:Yt.ElixirOfMajorShadowPower},{actionId:m.fromItemId(22824),value:Yt.ElixirOfMajorStrength},{actionId:m.fromItemId(28104),value:Yt.ElixirOfMastery},{actionId:m.fromItemId(13452),value:Yt.ElixirOfTheMongoose},{actionId:m.fromItemId(31679),value:Yt.FelStrengthElixir},{actionId:m.fromItemId(13454),value:Yt.GreaterArcaneElixir}],onSet:(e,t,o)=>{if(o){const o=t.getConsumes();o.flask=$t.FlaskUnknown,t.setConsumes(e,o)}}}),kl=Ll({consumesFieldName:"guardianElixir",allOptions:[{actionId:m.fromItemId(44328),value:Jt.ElixirOfMightyDefense},{actionId:m.fromItemId(40078),value:Jt.ElixirOfMightyFortitude},{actionId:m.fromItemId(40109),value:Jt.ElixirOfMightyMageblood},{actionId:m.fromItemId(44332),value:Jt.ElixirOfMightyThoughts},{actionId:m.fromItemId(40097),value:Jt.ElixirOfProtection},{actionId:m.fromItemId(40072),value:Jt.ElixirOfSpirit},{actionId:m.fromItemId(9088),value:Jt.GiftOfArthas},{actionId:m.fromItemId(32067),value:Jt.ElixirOfDraenicWisdom},{actionId:m.fromItemId(32068),value:Jt.ElixirOfIronskin},{actionId:m.fromItemId(22834),value:Jt.ElixirOfMajorDefense},{actionId:m.fromItemId(32062),value:Jt.ElixirOfMajorFortitude},{actionId:m.fromItemId(22840),value:Jt.ElixirOfMajorMageblood}],onSet:(e,t,o)=>{if(o){const o=t.getConsumes();o.flask=$t.FlaskUnknown,t.setConsumes(e,o)}}}),Nl=Ll({consumesFieldName:"food",allOptions:[{actionId:m.fromItemId(43015),value:Kt.FoodFishFeast},{actionId:m.fromItemId(34753),value:Kt.FoodGreatFeast},{actionId:m.fromItemId(42999),value:Kt.FoodBlackenedDragonfin},{actionId:m.fromItemId(42995),value:Kt.FoodHeartyRhino},{actionId:m.fromItemId(34754),value:Kt.FoodMegaMammothMeal},{actionId:m.fromItemId(34756),value:Kt.FoodSpicedWormBurger},{actionId:m.fromItemId(42994),value:Kt.FoodRhinoliciousWormsteak},{actionId:m.fromItemId(34769),value:Kt.FoodImperialMantaSteak},{actionId:m.fromItemId(42996),value:Kt.FoodSnapperExtreme},{actionId:m.fromItemId(34758),value:Kt.FoodMightyRhinoDogs},{actionId:m.fromItemId(34767),value:Kt.FoodFirecrackerSalmon},{actionId:m.fromItemId(42998),value:Kt.FoodCuttlesteak},{actionId:m.fromItemId(43e3),value:Kt.FoodDragonfinFilet},{actionId:m.fromItemId(27657),value:Kt.FoodBlackenedBasilisk},{actionId:m.fromItemId(27664),value:Kt.FoodGrilledMudfish},{actionId:m.fromItemId(27655),value:Kt.FoodRavagerDog},{actionId:m.fromItemId(27658),value:Kt.FoodRoastedClefthoof},{actionId:m.fromItemId(33872),value:Kt.FoodSpicyHotTalbuk},{actionId:m.fromItemId(33825),value:Kt.FoodSkullfishSoup},{actionId:m.fromItemId(33052),value:Kt.FoodFishermansFeast}]}),Gl=(Tl="fillerExplosive",Ol=[{actionId:m.fromItemId(41119),value:Qt.ExplosiveSaroniteBomb},{actionId:m.fromItemId(40771),value:Qt.ExplosiveCobaltFragBomb}],Ll({consumesFieldName:Tl,allOptions:Ol,onSet:_l})(Ol.map((e=>e.value))));var Tl,Ol,_l;function Ll(e){return(t,o)=>({type:"iconEnum",tooltip:o,numColumns:t.length>5?2:1,values:[{value:0}].concat(t.map((t=>e.allOptions.find((e=>e.value==t))))),equals:(e,t)=>e==t,zeroValue:0,changedEvent:e=>e.consumesChangeEmitter,getValue:t=>t.getConsumes()[e.consumesFieldName],setValue:(t,o,i)=>{const a=o.getConsumes();a[e.consumesFieldName]=i,s.freezeAllAndDo((()=>{o.setConsumes(t,a),e.onSet&&e.onSet(t,o,i)}))}})}class Rl extends d{constructor(e,t,o){super(e,"consumes-picker-root"),this.settingsTab=t,this.simUI=o,this.buildPotionsPicker(),this.buildElixirsPicker(),this.buildFoodPicker(),this.buildEngPicker(),this.buildPetPicker()}buildPotionsPicker(){let e=document.createElement("fragment");e.innerHTML='\n      <div class="consumes-row input-root input-inline">\n        <label class="form-label">Potions</label>\n        <div class="consumes-row-inputs">\n          <div class="consumes-prepot"></div>\n          <div class="consumes-potions"></div>\n          <div class="consumes-conjured"></div>\n        </div>\n      </div>\n    ',this.rootElem.appendChild(e.children[0]);const t=this.simUI.splitRelevantOptions([{item:Xt.IndestructiblePotion,stats:[a.StatArmor]},{item:Xt.InsaneStrengthPotion,stats:[a.StatStrength]},{item:Xt.HeroicPotion,stats:[a.StatStamina]},{item:Xt.PotionOfSpeed,stats:[a.StatMeleeHaste,a.StatSpellHaste]},{item:Xt.PotionOfWildMagic,stats:[a.StatMeleeCrit,a.StatSpellCrit,a.StatSpellPower]}]);if(t.length){const e=this.rootElem.querySelector(".consumes-prepot");new ui(e,this.simUI.player,Pl(t,"Prepop Potion (1s before combat)"))}const o=this.simUI.splitRelevantOptions([{item:Xt.RunicHealingPotion,stats:[a.StatStamina]},{item:Xt.RunicHealingInjector,stats:[a.StatStamina]},{item:Xt.RunicManaPotion,stats:[a.StatIntellect]},{item:Xt.RunicManaInjector,stats:[a.StatIntellect]},{item:Xt.IndestructiblePotion,stats:[a.StatArmor]},{item:Xt.InsaneStrengthPotion,stats:[a.StatStrength]},{item:Xt.HeroicPotion,stats:[a.StatStamina]},{item:Xt.PotionOfSpeed,stats:[a.StatMeleeHaste,a.StatSpellHaste]},{item:Xt.PotionOfWildMagic,stats:[a.StatMeleeCrit,a.StatSpellCrit,a.StatSpellPower]}]);if(o.length){const e=this.rootElem.querySelector(".consumes-potions");new ui(e,this.simUI.player,Sl(o,"Combat Potion"))}const s=this.simUI.splitRelevantOptions([this.simUI.player.getClass()==R.ClassRogue?{item:Xe.ConjuredRogueThistleTea,stats:[]}:null,{item:Xe.ConjuredHealthstone,stats:[a.StatStamina]},{item:Xe.ConjuredDarkRune,stats:[a.StatIntellect]},{item:Xe.ConjuredFlameCap,stats:[]}]);if(s.length){const e=this.rootElem.querySelector(".consumes-conjured");new ui(e,this.simUI.player,vl(s))}}buildElixirsPicker(){let e=document.createElement("fragment");e.innerHTML='\n      <div class="consumes-row input-root input-inline">\n        <label class="form-label">Elixirs</label>\n        <div class="consumes-row-inputs">\n          <div class="consumes-flasks"></div>\n          <span class="px-2">or</span>\n          <div class="consumes-battle-elixirs"></div>\n          <div class="consumes-guardian-elixirs"></div>\n        </div>\n      </div>\n    ',this.rootElem.appendChild(e.children[0]);const t=this.simUI.splitRelevantOptions([{item:$t.FlaskOfTheFrostWyrm,stats:[a.StatSpellPower]},{item:$t.FlaskOfEndlessRage,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:$t.FlaskOfPureMojo,stats:[a.StatMP5]},{item:$t.FlaskOfStoneblood,stats:[a.StatStamina]},{item:$t.LesserFlaskOfToughness,stats:[a.StatResilience]},{item:$t.LesserFlaskOfResistance,stats:[a.StatArcaneResistance,a.StatFireResistance,a.StatFrostResistance,a.StatNatureResistance,a.StatShadowResistance]}]);if(t.length){const e=this.rootElem.querySelector(".consumes-flasks");new ui(e,this.simUI.player,El(t,"Flask"))}const o=this.simUI.splitRelevantOptions([{item:Yt.ElixirOfAccuracy,stats:[a.StatMeleeHit,a.StatSpellHit]},{item:Yt.ElixirOfArmorPiercing,stats:[a.StatArmorPenetration]},{item:Yt.ElixirOfDeadlyStrikes,stats:[a.StatMeleeCrit,a.StatSpellCrit]},{item:Yt.ElixirOfExpertise,stats:[a.StatExpertise]},{item:Yt.ElixirOfLightningSpeed,stats:[a.StatMeleeHaste,a.StatSpellHaste]},{item:Yt.ElixirOfMightyAgility,stats:[a.StatAgility]},{item:Yt.ElixirOfMightyStrength,stats:[a.StatStrength]},{item:Yt.GurusElixir,stats:[a.StatStamina,a.StatAgility,a.StatStrength,a.StatSpirit,a.StatIntellect]},{item:Yt.SpellpowerElixir,stats:[a.StatSpellPower]},{item:Yt.WrathElixir,stats:[a.StatAttackPower,a.StatRangedAttackPower]}]),s=this.rootElem.querySelector(".consumes-battle-elixirs");o.length?new ui(s,this.simUI.player,Cl(o,"Battle Elixir")):s.remove();const i=this.simUI.splitRelevantOptions([{item:Jt.ElixirOfMightyDefense,stats:[a.StatDefense]},{item:Jt.ElixirOfMightyFortitude,stats:[a.StatStamina]},{item:Jt.ElixirOfMightyMageblood,stats:[a.StatMP5]},{item:Jt.ElixirOfMightyThoughts,stats:[a.StatIntellect]},{item:Jt.ElixirOfProtection,stats:[a.StatArmor]},{item:Jt.ElixirOfSpirit,stats:[a.StatSpirit]},{item:Jt.GiftOfArthas,stats:[a.StatStamina]}]),l=this.rootElem.querySelector(".consumes-guardian-elixirs");if(i.length){const e=this.rootElem.querySelector(".consumes-guardian-elixirs");new ui(e,this.simUI.player,kl(i,"Guardian Elixir"))}else l.remove()}buildFoodPicker(){let e=document.createElement("fragment");e.innerHTML='\n      <div class="consumes-row input-root input-inline">\n        <label class="form-label">Food</label>\n        <div class="consumes-row-inputs">\n          <div class="consumes-food"></div>\n        </div>\n      </div>\n    ',this.rootElem.appendChild(e.children[0]);const t=this.simUI.splitRelevantOptions([{item:Kt.FoodFishFeast,stats:[a.StatStamina,a.StatAttackPower,a.StatRangedAttackPower,a.StatSpellPower]},{item:Kt.FoodGreatFeast,stats:[a.StatStamina,a.StatAttackPower,a.StatRangedAttackPower,a.StatSpellPower]},{item:Kt.FoodBlackenedDragonfin,stats:[a.StatAgility]},{item:Kt.FoodDragonfinFilet,stats:[a.StatStrength]},{item:Kt.FoodCuttlesteak,stats:[a.StatSpirit]},{item:Kt.FoodMegaMammothMeal,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:Kt.FoodHeartyRhino,stats:[a.StatArmorPenetration]},{item:Kt.FoodRhinoliciousWormsteak,stats:[a.StatExpertise]},{item:Kt.FoodFirecrackerSalmon,stats:[a.StatSpellPower]},{item:Kt.FoodSnapperExtreme,stats:[a.StatMeleeHit,a.StatSpellHit]},{item:Kt.FoodSpicedWormBurger,stats:[a.StatMeleeCrit,a.StatSpellCrit]},{item:Kt.FoodImperialMantaSteak,stats:[a.StatMeleeHaste,a.StatSpellHaste]},{item:Kt.FoodMightyRhinoDogs,stats:[a.StatMP5]}]);if(t.length){const e=this.rootElem.querySelector(".consumes-food");new ui(e,this.simUI.player,Nl(t))}}buildEngPicker(){let e=document.createElement("fragment");e.innerHTML='\n      <div class="consumes-row input-root input-inline">\n        <label class="form-label">Engineering</label>\n        <div class="consumes-row-inputs consumes-trade"></div>\n      </div>\n    ',this.rootElem.appendChild(e.children[0]);const t=this.rootElem.querySelector(".consumes-trade");ia(t,this.simUI.player,nl),ia(t,this.simUI.player,rl),ia(t,this.simUI.player,Gl);const o=()=>{this.simUI.player.hasProfession(Q.Engineering)?t.parentElement.classList.remove("hide"):t.parentElement.classList.add("hide")};this.simUI.player.professionChangeEmitter.on(o),o()}buildPetPicker(){if(this.simUI.individualConfig.petConsumeInputs?.length){let e=document.createElement("fragment");e.innerHTML='\n        <div class="consumes-row input-root input-inline">\n          <label class="form-label">Pet</label>\n          <div class="consumes-row-inputs consumes-pet"></div>\n        </div>\n      ',this.rootElem.appendChild(e.children[0]);const t=this.rootElem.querySelector(".consumes-pet");this.simUI.individualConfig.petConsumeInputs.map((e=>ia(t,this.simUI.player,e)))}}}class Dl extends Qi{constructor(e,t){super(e,t,{identifier:"settings-tab",title:"Settings"}),this.column1=this.buildColumn(1),this.column2=this.buildColumn(2),this.column3=this.buildColumn(3),this.simUI=t,this.leftPanel=document.createElement("div"),this.leftPanel.classList.add("settings-tab-left","tab-panel-left"),this.leftPanel.appendChild(this.column1),this.leftPanel.appendChild(this.column2),this.leftPanel.appendChild(this.column3),this.rightPanel=document.createElement("div"),this.rightPanel.classList.add("settings-tab-right","tab-panel-right"),this.contentContainer.appendChild(this.leftPanel),this.contentContainer.appendChild(this.rightPanel),this.buildTabContent()}buildColumn(e){let t=document.createElement("div");return t.classList.add("tab-panel-col",`settings-left-col-${e}`),t}buildTabContent(){this.buildEncounterSettings(),this.buildRotationSettings(),this.buildPlayerSettings(),this.buildCustomSettingsSections(),this.buildConsumesSection(),this.buildCooldownSettings(),this.buildOtherSettings(),this.buildBuffsSettings(),this.buildDebuffsSettings(),this.buildSavedDataPickers()}buildEncounterSettings(){const e=new Rs(this.column1,"encounter-settings",{header:{title:"Encounter"}});new Vi(e.bodyElement,this.simUI.sim.encounter,this.simUI.individualConfig.encounterPicker,this.simUI)}buildRotationSettings(){const e=new Rs(this.column1,"rotation-settings",{header:{title:"Rotation"}}),t=n.newGroupContainer();t.classList.add("rotation-icon-group","icon-group"),e.bodyElement.appendChild(t),this.simUI.individualConfig.rotationIconInputs?.length&&this.configureIconSection(t,this.simUI.individualConfig.rotationIconInputs.map((e=>ia(t,this.simUI.player,e))),!0),this.configureInputSection(e.bodyElement,this.simUI.individualConfig.rotationInputs),e.bodyElement.querySelectorAll(".input-root").forEach((e=>{e.classList.add("input-inline")}))}buildPlayerSettings(){const e=new Rs(this.column2,"player-settings",{header:{title:"Player"}}),t=n.newGroupContainer();t.classList.add("player-icon-group","icon-group"),e.bodyElement.appendChild(t),this.configureIconSection(t,this.simUI.individualConfig.playerIconInputs.map((e=>ia(t,this.simUI.player,e))),!0);const o=V[this.simUI.player.spec];new fs(e.bodyElement,this.simUI.player,{label:"Race",values:o.map((e=>({name:Zt[e],value:e}))),changedEvent:e=>e.raceChangeEmitter,getValue:e=>e.getRace(),setValue:(e,t,o)=>t.setRace(e,o)}),this.simUI.individualConfig.playerInputs?.inputs.length&&this.configureInputSection(e.bodyElement,this.simUI.individualConfig.playerInputs);let s=n.newGroupContainer();e.bodyElement.appendChild(s);const i=Oe(Q);new fs(s,this.simUI.player,{label:"Profession 1",values:i.map((e=>({name:eo[e],value:e}))),changedEvent:e=>e.professionChangeEmitter,getValue:e=>e.getProfession1(),setValue:(e,t,o)=>t.setProfession1(e,o)}),new fs(s,this.simUI.player,{label:"Profession 2",values:i.map((e=>({name:eo[e],value:e}))),changedEvent:e=>e.professionChangeEmitter,getValue:e=>e.getProfession2(),setValue:(e,t,o)=>t.setProfession2(e,o)})}buildCustomSettingsSections(){(this.simUI.individualConfig.customSections||[]).forEach((e=>{e(this.column2,this.simUI)}))}buildConsumesSection(){const e=new Rs(this.column2,"consumes-settings",{header:{title:"Consumables"}});new Rl(e.bodyElement,this,this.simUI)}buildCooldownSettings(){const e=new Rs(this.column2,"cooldown-settings",{header:{title:"Cooldowns"}});new sa(e.bodyElement,this.simUI.player)}buildOtherSettings(){if(this.simUI.individualConfig.otherInputs?.inputs.length){const e=new Rs(this.column2,"other-settings",{header:{title:"Other"}});this.configureInputSection(e.bodyElement,this.simUI.individualConfig.otherInputs),e.bodyElement.querySelectorAll(".input-root").forEach((e=>{e.classList.add("input-inline")}))}}buildBuffsSettings(){const e=new Rs(this.column3,"buffs-settings",{header:{title:"Raid Buffs",tooltip:"Buffs provided by other party/raid members."}}),t=this.simUI.splitRelevantOptions([{item:aa,stats:[]},{item:la,stats:[]},{item:Ia,stats:[a.StatHealth]},{item:na,stats:[a.StatArmor]},{item:ra,stats:[a.StatStamina]},{item:da,stats:[a.StatStrength,a.StatAgility]},{item:ca,stats:[a.StatIntellect]},{item:ma,stats:[a.StatSpirit]},{item:pa,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:ha,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:xa,stats:[a.StatMeleeCrit]},{item:ya,stats:[a.StatMeleeHaste]},{item:va,stats:[a.StatSpellPower]},{item:Sa,stats:[a.StatSpellCrit]},{item:fa,stats:[a.StatMeleeHaste,a.StatSpellHaste]},{item:ga,stats:[a.StatAttackPower,a.StatRangedAttackPower,a.StatSpellPower]},{item:ua,stats:[a.StatArmor]},{item:wa,stats:[a.StatMP5]},{item:ba,stats:[a.StatMP5]}]);this.configureIconSection(e.bodyElement,t.map((t=>new Zi(e.bodyElement,this.simUI.player,t,this.simUI))));this.simUI.splitRelevantOptions([{item:Ga,stats:[a.StatMeleeHaste,a.StatSpellHaste],inline:!0},{item:Pa,stats:[a.StatSpellHaste]}]).forEach((t=>ia(e.bodyElement,this.simUI.player,t)));const o=this.simUI.splitRelevantOptions([{item:Ha,stats:[]},{item:za,stats:[]}]);o.length>0&&new Zi(e.bodyElement,this.simUI.player,{inputs:o,numColumns:1,label:"Revit",categoryId:m.fromSpellId(48545)},this.simUI);const s=this.simUI.splitRelevantOptions([{item:Ra,stats:[a.StatMeleeHit,a.StatSpellHit]},{item:_a,stats:[a.StatMeleeCrit]},{item:La,stats:[a.StatSpellCrit]},{item:Wa,stats:[a.StatSpellCrit]},{item:Da,stats:[a.StatSpellPower]},{item:Ua,stats:[a.StatArmor]},{item:Ta,stats:[a.StatArmor]},{item:Oa,stats:[a.StatStamina]},{item:Ma,stats:[a.StatMP5]},{item:ja,stats:[a.StatMP5]},{item:Fa,stats:[a.StatMP5,a.StatSpellPower]},{item:Ba,stats:[a.StatAttackPower,a.StatRangedAttackPower,a.StatSpellPower]},{item:Aa,stats:[a.StatAttackPower,a.StatRangedAttackPower]}]);s.length>0&&new Zi(e.bodyElement,this.simUI.player,{inputs:s,numColumns:3,label:"Misc"},this.simUI)}buildDebuffsSettings(){const e=new Rs(this.column3,"debuffs-settings",{header:{title:"Debuffs",tooltip:"Debuffs applied by other raid members."}}),t=this.simUI.splitRelevantOptions([{item:Va,stats:[a.StatArmorPenetration]},{item:qa,stats:[a.StatArmorPenetration]},{item:Xa,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:Ya,stats:[a.StatAttackPower,a.StatRangedAttackPower]},{item:tl,stats:[a.StatSpellPower]},{item:el,stats:[a.StatSpellHit]},{item:Za,stats:[a.StatSpellCrit]},{item:Ja,stats:[a.StatMeleeCrit,a.StatSpellCrit]},{item:$a,stats:[a.StatArmor]},{item:Ka,stats:[a.StatArmor]},{item:Qa,stats:[a.StatDodge]}]);this.configureIconSection(e.bodyElement,t.map((t=>new Zi(e.bodyElement,this.simUI.player,t,this.simUI))));this.simUI.splitRelevantOptions([{item:sl,stats:[a.StatMP5,a.StatIntellect]},{item:ol,stats:[a.StatRangedAttackPower]}]).forEach((t=>ia(e.bodyElement,this.simUI.player,t)));const o=this.simUI.splitRelevantOptions([{item:il,stats:[a.StatStamina]},{item:al,stats:[a.StatArmorPenetration]},{item:ll,stats:[a.StatAttackPower,a.StatRangedAttackPower]}]);o.length>0&&new Zi(e.bodyElement,this.simUI.player,{inputs:o,numColumns:3,label:"Misc"},this.simUI)}buildSavedDataPickers(){const e=new Ds(this.rightPanel,this.simUI.sim.encounter,{label:"Encounter",header:{title:"Saved Encounters"},storageKey:this.simUI.getSavedEncounterStorageKey(),getData:e=>to.create({encounter:e.toProto()}),setData:(e,t,o)=>t.fromProto(e,o.encounter),changeEmitters:[this.simUI.sim.encounter.changeEmitter],equals:(e,t)=>to.equals(e,t),toJson:e=>to.toJson(e),fromJson:e=>to.fromJson(e)}),t=new Ds(this.rightPanel,this.simUI,{label:"Settings",header:{title:"Saved Settings"},storageKey:this.simUI.getSavedSettingsStorageKey(),getData:e=>{const t=e.player;return oo.create({raidBuffs:e.sim.raid.getBuffs(),partyBuffs:t.getParty()?.getBuffs()||fe.create(),playerBuffs:t.getBuffs(),debuffs:e.sim.raid.getDebuffs(),consumes:t.getConsumes(),race:t.getRace(),cooldowns:t.getCooldowns(),rotationJson:JSON.stringify(t.specTypeFunctions.rotationToJson(t.getRotation()))})},setData:(e,t,o)=>{s.freezeAllAndDo((()=>{t.sim.raid.setBuffs(e,o.raidBuffs||we.create()),t.sim.raid.setDebuffs(e,o.debuffs||xe.create());const s=t.player.getParty();s&&s.setBuffs(e,o.partyBuffs||fe.create()),t.player.setBuffs(e,o.playerBuffs||j.create()),t.player.setConsumes(e,o.consumes||F.create()),t.player.setRace(e,o.race),t.player.setCooldowns(e,o.cooldowns||A.create()),o.rotationJson&&t.player.setRotation(e,t.player.specTypeFunctions.rotationFromJson(JSON.parse(o.rotationJson)))}))},changeEmitters:[this.simUI.sim.raid.buffsChangeEmitter,this.simUI.sim.raid.debuffsChangeEmitter,this.simUI.player.getParty().buffsChangeEmitter,this.simUI.player.buffsChangeEmitter,this.simUI.player.consumesChangeEmitter,this.simUI.player.raceChangeEmitter,this.simUI.player.cooldownsChangeEmitter,this.simUI.player.rotationChangeEmitter],equals:(e,t)=>oo.equals(e,t),toJson:e=>oo.toJson(e),fromJson:e=>oo.fromJson(e)});this.simUI.sim.waitForInit().then((()=>{e.loadUserData(),t.loadUserData()}))}configureInputSection(e,t){t.inputs.forEach((t=>{"number"==t.type?new hs(e,this.simUI.player,t):"boolean"==t.type?new ys(e,this.simUI.player,t):"enum"==t.type?new fs(e,this.simUI.player,t):"customRotation"==t.type&&new ea(e,this.simUI.player,t)}))}configureIconSection(e,t,o){0==t.length?e.classList.add("hide"):o&&(t.length<=4?e.style.gridTemplateColumns=`repeat(${t.length}, 1fr)`:t.length>4&&t.length<8&&(e.style.gridTemplateColumns=`repeat(${Math.ceil(t.length/2)}, 1fr)`))}}class Ul extends Ei{constructor(e,t,o){super(e,t.sim,{spec:t.spec,knownIssues:o.knownIssues,launchStatus:xi[t.spec]}),this.rootElem.classList.add("individual-sim-ui",o.cssClass),this.player=t,this.individualConfig=o,this.raidSimResultsManager=null,this.prevEpIterations=0,this.prevEpSimResult=null,this.addWarning({updateOn:this.player.gearChangeEmitter,getContent:()=>{if(!this.player.getGear().hasInactiveMetaGem(this.player.isBlacksmithing()))return"";const e=this.player.getGear().getMetaGem();return`Meta gem disabled (${e.name}): ${so(e)}`}}),this.addWarning({updateOn:s.onAny([this.player.gearChangeEmitter,this.player.professionChangeEmitter]),getContent:()=>{const e=this.player.getGear().getFailedProfessionRequirements(this.player.getProfessions());return 0==e.length?"":e.map((e=>`${e.name} requires ${eo[e.requiredProfession]}, but it is not selected.`))}}),this.addWarning({updateOn:this.player.gearChangeEmitter,getContent:()=>{const e=this.player.getGear().getJCGems(this.player.isBlacksmithing());return e.length<=3?"":`Only 3 Jewelcrafting Gems are allowed, but ${e.length} are equipped.`}}),this.addWarning({updateOn:this.player.talentsChangeEmitter,getContent:()=>{const e=io(this.player.getTalentsString());return 0==e?"":e<71?"Unspent talent points.":e>71?"More than maximum talent points spent.":""}}),this.addWarning({updateOn:s.onAny([this.player.gearChangeEmitter,this.player.talentsChangeEmitter]),getContent:()=>this.player.canDualWield2H()||(this.player.getEquippedItem(M.ItemSlotMainHand)?.item.handType!=ae.HandTypeTwoHand||null==this.player.getEquippedItem(M.ItemSlotOffHand))&&this.player.getEquippedItem(M.ItemSlotOffHand)?.item.handType!=ae.HandTypeTwoHand?"":"Dual wielding two-handed weapon(s) without Titan's Grip spec."}),(o.warnings||[]).forEach((e=>this.addWarning(e(this)))),this.isWithinRaidSim||this.sim.waitForInit().then((()=>{this.loadSettings(),Wt(this.player.spec)&&alert("*** WARNING - USE AT YOUR OWN RISK ***\n\nThe entire concept of a healing sim is EXPERIMENTAL. All results should be taken with an EXTREMELY large grain of salt.\n\nThis tool is currently more similar to a spreadsheet than a true sim. Options for specifying incoming damage profiles in order to have proper reactive rotations have not yet been added.")})),this.addSidebarComponents(),this.addGearTab(),this.addSettingsTab(),this.addTalentsTab(),this.isWithinRaidSim||(this.addDetailedResultsTab(),this.addLogTab()),this.addTopbarComponents()}loadSettings(){const e=s.nextEventID();s.freezeAllAndDo((()=>{let t=!1,o=window.location.hash;if(o.length>1){o=o.substring(1);try{const s=atob(o),i=new Uint8Array(s.length);for(let e=0;e<i.length;e++)i[e]=s.charCodeAt(e);const a=pako.inflate(i),l=Ot.fromBinary(a);this.fromProto(e,l),t=!0}catch(i){console.warn("Failed to parse settings from window hash: "+i)}}window.location.hash="";const s=window.localStorage.getItem(this.getSettingsStorageKey());if(!t&&null!=s)try{const o=Ot.fromJsonString(s);this.fromProto(e,o),t=!0}catch(i){console.warn("Failed to parse saved settings: "+i)}t||this.applyDefaults(e),this.player.setName(e,"Player"),this.changeEmitter.on((e=>{const t=Ot.toJsonString(this.toProto());window.localStorage.setItem(this.getSettingsStorageKey(),t)}))}))}addSidebarComponents(){var e,t,o,s;this.raidSimResultsManager=ao(this),e=this,t=this.individualConfig.epStats,o=this.individualConfig.epPseudoStats,s=this.individualConfig.epReferenceStat,e.addAction("Stat Weights","ep-weights-action",(()=>{new Ni(e,t,o||[],s)})),new gs(this.rootElem.getElementsByClassName("sim-sidebar-footer")[0],this.player,this.individualConfig.displayStats,this.individualConfig.modifyDisplayStats)}addGearTab(){this.addTab("Gear","gear-tab",'\n\t\t\t<div class="gear-tab-columns">\n\t\t\t\t<div class="left-gear-panel">\n\t\t\t\t\t<div class="gear-picker"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-gear-panel">\n\t\t\t\t\t<div class="saved-gear-manager"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),new Ts(this.rootElem.getElementsByClassName("gear-picker")[0],this.player);const e=new Ds(this.rootElem.getElementsByClassName("saved-gear-manager")[0],this.player,{header:{title:"Gear Sets"},label:"Gear Set",storageKey:this.getSavedGearStorageKey(),getData:e=>lo.create({gear:e.getGear().asSpec(),bonusStatsStats:e.getBonusStats().toProto()}),setData:(e,o,i)=>{s.freezeAllAndDo((()=>{o.setGear(e,this.sim.db.lookupEquipmentSpec(i.gear||Ut.create())),i.bonusStats&&i.bonusStats.some((e=>0!=e))?o.setBonusStats(e,new t(i.bonusStats)):o.setBonusStats(e,t.fromProto(i.bonusStatsStats||pe.create()))}))},changeEmitters:[this.player.changeEmitter],equals:(e,t)=>lo.equals(e,t),toJson:e=>lo.toJson(e),fromJson:e=>lo.fromJson(e)});this.sim.waitForInit().then((()=>{e.loadUserData(),this.individualConfig.presets.gear.forEach((o=>{e.addSavedData({name:o.name,tooltip:o.tooltip,isPreset:!0,data:lo.create({gear:this.sim.db.lookupEquipmentSpec(o.gear).asSpec(),bonusStatsStats:(new t).toProto()}),enableWhen:o.enableWhen})}))}))}addSettingsTab(){new Dl(this.simTabContentsContainer,this)}addTalentsTab(){var e,t;this.addTab("Talents","talents-tab",'\n\t\t\t<div class="talents-content tab-pane-content-container">\n\t\t\t\t<div class="talents-tab-content tab-panel-left">\n\t\t\t\t\t<div class="player-pet-toggle hide"></div>\n\t\t\t\t\t<div class="talents-picker"></div>\n\t\t\t\t\t<div class="glyphs-picker">\n\t\t\t\t\t\t<span>Glyphs</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pet-talents-picker hide"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="saved-talents-manager tab-panel-right"></div>\n\t\t\t</div>\n\t\t'),e=this.rootElem.getElementsByClassName("talents-picker")[0],t=this.player,new xo(e,t,{trees:Qo[t.getClass()],changedEvent:e=>e.talentsChangeEmitter,getValue:e=>e.getTalentsString(),setValue:(e,t,o)=>{t.setTalentsString(e,o)},pointsPerRow:5,maxPoints:71}),function(e,t){new Yo(e,t,Xo[t.getClass()])}(this.rootElem.getElementsByClassName("glyphs-picker")[0],this.player),this.rootElem.querySelector("#talents-tab-tab")?.classList.add("sim-tab");const o=new Ds(this.rootElem.getElementsByClassName("saved-talents-manager")[0],this.player,{label:"Talents",header:{title:"Saved Talents"},storageKey:this.getSavedTalentsStorageKey(),getData:e=>no.create({talentsString:e.getTalentsString(),glyphs:e.getGlyphs()}),setData:(e,t,o)=>{s.freezeAllAndDo((()=>{t.setTalentsString(e,o.talentsString),t.setGlyphs(e,o.glyphs||B.create())}))},changeEmitters:[this.player.talentsChangeEmitter,this.player.glyphsChangeEmitter],equals:(e,t)=>no.equals(e,t),toJson:e=>no.toJson(e),fromJson:e=>no.fromJson(e)});this.sim.waitForInit().then((()=>{if(o.loadUserData(),this.individualConfig.presets.talents.forEach((e=>{e.isPreset=!0,o.addSavedData({name:e.name,isPreset:!0,data:e.data})})),this.player.getClass()==R.ClassHunter){new li(this.rootElem.getElementsByClassName("pet-talents-picker")[0],this.player);let e=0;const t=()=>{this.rootElem.querySelector(".talents-picker")?.classList.toggle("hide"),this.rootElem.querySelector(".glyphs-picker")?.classList.toggle("hide"),this.rootElem.querySelector(".pet-talents-picker")?.classList.toggle("hide")},o=this.rootElem.getElementsByClassName("player-pet-toggle")[0];o.classList.remove("hide"),new fs(o,this,{values:[{name:"Player",value:0},{name:"Pet",value:1}],changedEvent:e=>new s,getValue:t=>e,setValue:(o,s,i)=>{e=i,t()}}),new ui(o,this.player,oi())}}))}addDetailedResultsTab(){this.addTab("Results","detailed-results-tab",'\n\t\t\t<div class="detailed-results">\n\t\t\t</div>\n\t\t'),new us(this.rootElem.getElementsByClassName("detailed-results")[0],this,this.raidSimResultsManager)}addLogTab(){this.addTab("Log","log-tab",'\n\t\t\t<div class="log-runner">\n\t\t\t</div>\n\t\t'),new fi(this.rootElem.getElementsByClassName("log-runner")[0],this)}addTopbarComponents(){this.simHeader.addImportLink("JSON",(e=>new Mi(e,this)),!0),this.simHeader.addImportLink("80U",(e=>new ji(e,this)),!0),this.simHeader.addImportLink("Addon",(e=>new Fi(e,this)),!0),this.simHeader.addExportLink("Link",(e=>new Ti(e,this)),!1),this.simHeader.addExportLink("JSON",(e=>new Oi(e,this)),!0),this.simHeader.addExportLink("80U EP",(e=>new Li(e,this)),!1),this.simHeader.addExportLink("Pawn EP",(e=>new Di(e,this)),!1)}applyDefaults(e){s.freezeAllAndDo((()=>{const t=he(this.player.spec),o=Wt(this.player.spec),s=this.individualConfig.defaults.raidBuffs.totemOfWrath||this.individualConfig.defaults.debuffs.totemOfWrath;this.individualConfig.defaults.raidBuffs.totemOfWrath=s,this.individualConfig.defaults.debuffs.totemOfWrath=s,this.player.applySharedDefaults(e),this.player.setRace(e,V[this.player.spec][0]),this.player.setGear(e,this.sim.db.lookupEquipmentSpec(this.individualConfig.defaults.gear)),this.player.setConsumes(e,this.individualConfig.defaults.consumes),this.player.setRotation(e,this.individualConfig.defaults.rotation),this.player.setTalentsString(e,this.individualConfig.defaults.talents.talentsString),this.player.setGlyphs(e,this.individualConfig.defaults.talents.glyphs||B.create()),this.player.setSpecOptions(e,this.individualConfig.defaults.specOptions),this.player.setBuffs(e,this.individualConfig.defaults.individualBuffs),this.player.getParty().setBuffs(e,this.individualConfig.defaults.partyBuffs),this.player.getRaid().setBuffs(e,this.individualConfig.defaults.raidBuffs),this.player.setEpWeights(e,this.individualConfig.defaults.epWeights),this.player.setProfession1(e,this.individualConfig.defaults.other?.profession1||Q.Engineering),this.player.setProfession2(e,this.individualConfig.defaults.other?.profession2||Q.Jewelcrafting),this.player.setDistanceFromTarget(e,this.individualConfig.defaults.other?.distanceFromTarget||0),this.isWithinRaidSim?this.sim.raid.setTargetDummies(e,0):(this.sim.raid.setTargetDummies(e,o?9:0),this.sim.encounter.applyDefaults(e),this.sim.raid.setDebuffs(e,this.individualConfig.defaults.debuffs),this.sim.applyDefaults(e,t,o),t?this.sim.raid.setTanks(e,[this.player.makeRaidTarget()]):this.sim.raid.setTanks(e,[]))}))}getSavedGearStorageKey(){return this.getStorageKey("__savedGear__")}getSavedRotationStorageKey(){return this.getStorageKey("__savedRotation__")}getSavedSettingsStorageKey(){return this.getStorageKey("__savedSettings__")}getSavedTalentsStorageKey(){return this.getStorageKey("__savedTalents__")}getStorageKey(e){return ro[this.player.spec]+e}toProto(){return Ot.create({settings:this.sim.toProto(),player:this.player.toProto(!0),raidBuffs:this.sim.raid.getBuffs(),debuffs:this.sim.raid.getDebuffs(),tanks:this.sim.raid.getTanks(),partyBuffs:this.player.getParty()?.getBuffs()||fe.create(),encounter:this.sim.encounter.toProto(),epWeightsStats:this.player.getEpWeights().toProto(),targetDummies:this.sim.raid.getTargetDummies()})}toLink(){const e=this.toProto();e.settings=void 0,e.epWeights=[];const t=Ot.toBinary(e),o=pako.deflate(t,{to:"string"}),s=btoa(String.fromCharCode(...o)),i=new URL(window.location.href);return i.hash=s,i.toString()}fromProto(e,o){s.freezeAllAndDo((()=>{if(!o.player)return;this.player.fromProto(e,o.player),o.epWeights?.length>0?this.player.setEpWeights(e,new t(o.epWeights)):o.epWeightsStats?this.player.setEpWeights(e,t.fromProto(o.epWeightsStats)):this.player.setEpWeights(e,this.individualConfig.defaults.epWeights),this.sim.raid.setBuffs(e,o.raidBuffs||we.create()),this.sim.raid.setDebuffs(e,o.debuffs||xe.create()),this.sim.raid.setTanks(e,o.tanks||[]),this.sim.raid.setTargetDummies(e,o.targetDummies);const s=this.player.getParty();if(s&&s.setBuffs(e,o.partyBuffs||fe.create()),this.sim.encounter.fromProto(e,o.encounter||l.create()),o.settings)this.sim.fromProto(e,o.settings);else{const t=he(this.player.spec),o=Wt(this.player.spec);this.sim.applyDefaults(e,t,o)}Wt(this.player.spec)||this.sim.setShowDamageMetrics(e,!0)}))}splitRelevantOptions(e){return e.filter((e=>null!=e)).filter((e=>this.individualConfig.includeBuffDebuffInputs.includes(e.item)||0==e.stats.length||e.stats.some((e=>this.individualConfig.epStats.includes(e))))).filter((e=>!this.individualConfig.excludeBuffDebuffInputs.includes(e.item))).map((e=>e.item))}}export{ni as $,ha as A,Ai as B,Rs as C,vs as D,wa as E,Pa as F,ma as G,Ya as H,Ul as I,ca as J,sl as K,Ia as L,ya as M,Sa as N,Za as O,os as P,el as Q,ba as R,ms as S,Es as T,Cs as U,ks as V,Ns as W,oi as X,di as Y,pi as Z,es as _,Vs as a,go as a0,ho as a1,Gs as a2,yi as a3,ss as a4,Vo as a5,fs as a6,Ui as a7,Gi as a8,Io as a9,as as aa,Ei as ab,wi as ac,Ds as ad,Vi as ae,Bi as af,us as ag,fi as ah,Ss as ai,ei as aj,da as ak,Fs as b,As as c,xa as d,pa as e,Va as f,qa as g,Xa as h,js as i,Bs as j,ti as k,dl as l,Ys as m,tl as n,ra as o,$a as p,ua as q,Ka as r,Ps as s,Zs as t,fo as u,uo as v,ui as w,$s as x,Xi as y,zs as z};
//# sourceMappingURL=individual_sim_ui-35391952.chunk.js.map
